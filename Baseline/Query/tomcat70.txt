12428	request getUserPrincipal Misinterpretation specification calling request getUserPrincipal unprotected resource method returns user authenticated Servlet spec java security Principal getUserPrincipal Returns java security Principal object current authenticated user user authenticated method returns interpretation user authenticated call getUserPrincipal Principal object unprotected resource
18462	System err overriden output System Eclipse development running tomcat eclipse nice features eclipse display System blue send System err displayed red tomcat running Catalina overrides System err point System inconvinient harder search severe error messages list millions trivial
38216	Extend Jmxproxy call MBean Operations query Beans set Attributes good operation MBean called Jmxproxy Servlet
3839	Problem bookmarking login web application form based authentication http myhost myapp html authentication form http myhost myapp login jsp fill submit authenticated http myhost myapp html properly resource login jsp pretty common people bookmark login login http myhost myapp login jsp login displayed properly fill submit browser redirected address http myhost myapp error browser HTTP Status requested resource behavior web application happening resource url saved session submit login server redirects browers saved location login url failed security constraints saved submit saved named error needed extra check saved location webapp
40881	Unable receive message TCP channel Nullpointer Message replication failes replciated node creation session login form authentication async cluster configruation active cluster nodes statup executed node fully fully reproducable Error LOG Unable receive message TCP channel java lang NullPointerException org apache catalina cluster session DeltaRequest execute DeltaRequest java org apache catalina cluster session DeltaManager handleSESSION DELTA DeltaManager java org apache catalina cluster session DeltaManager messageReceived DeltaManager java org apache catalina cluster session DeltaManager messageDataReceived DeltaManager java org apache catalina cluster session ClusterSessionListener messageReceived ClusterSessionListener java org apache catalina cluster tcp SimpleTcpCluster receive SimpleTcpCluster java org apache catalina cluster tcp ClusterReceiverBase messageDataReceived ClusterReceiverBase java org apache catalina cluster ObjectReader execute ObjectReader java org apache catalina cluster tcp TcpReplicationThread drainChannel TcpReplicationThread java org apache catalina cluster tcp TcpReplicationThread TcpReplicationThread java cluster confirguation Cluster className org apache catalina cluster tcp SimpleTcpCluster doClusterLog clusterLogName clusterlog useDirtyFlag expireSessionsOnShutdown notifyListenersOnReplication managerClassName org apache catalina cluster session DeltaManager Membership className org apache catalina cluster mcast McastService mcastAddr mcastPort mcastFrequency mcastDropTime Receiver className org apache catalina cluster tcp ReplicationListener tcpListenAddress auto tcpListenPort tcpSelectorTimeout tcpThreadCount Sender className org apache catalina cluster tcp ReplicationTransmitter replicationMode pooled ackTimeout waitForAck Sender className org apache catalina cluster tcp ReplicationTransmitter replicationMode asynchronous doProcessingStats doWaitAckStats waitForAck ackTimeout resend keepAliveTimeout keepAliveMaxRequestCount Valve className org apache catalina cluster tcp ReplicationValve filter gif css png jpeg jpg htm html txt primaryIndicator Deployer className org apache catalina cluster deploy FarmWarDeployer tempDir catalina base war temp deployDir catalina base war deploy watchDir catalina base war listen watchEnabled Cluster
43819	Support latest JSR proposal contained add methods ExpressionFactory newInstance http jcp org aboutJava communityprocess maintenance jsr html contained plug party implementations JUEL http juel net
47378	file ignores servlet mapping Web applications servlet mapping file server returns directory listing listing disabled JSF servlet defined servlet mapping jsf FacesServlet jsf listed file directory listing disabled custom servlet defined mapping set file mapping
47524	McastServiceImpl executor dispatching events Created attachment details proposal McastServiceImpl dispatch events executor creating threads ReceiverBase queue address issue refactored code reuse attaching diff file filing bug Bugzilla procedure Trunk branch proceed Ariel
47568	TestTomcat fails delete work directory TestTomcat setUp creates work directory delete tearDown
47569	Test cases clear test cases TestTomcat start Tomcat server creates directory tree tomcat work deleted test finishes
47820	utility methods Tomcat instance methods addServlet methods Tomcat don instance isn cleaner instance method API uniform tomcat instance instance consistent follow pattern addServlet String String String search context requiring instance passed method
47827	Tomcat API methods declare Exception Tomcat API methods declare Exception specific polite users actual checked exception types thrown
47828	Change Tomcat setSilent setSilent Change Tomcat setSilent setSilent nicer clients JavaBean type setter doesn sense set unset
48102	Bootstrap misspelled Boostrap javadoc org apache catalina startup Bootstrap javadoc org apache catalina startup Bootstrap Boostrap loader Catalina application constructs loader loading Catalina internal classes accumulating JAR files server directory catalina starts regular execution container purpose roundabout approach Catalina internal classes classes depend XML parser system path visible application level classes author Craig McClanahan author Remy Maucherat version Revision Mon Nov word ommits letter sould Bootstrap Boostrap
48104	javadoc org apache catalina startup Catalina complete usage method javadoc org apache catalina startup Catalina Startup Shutdown shell program Catalina command options recognized config pathname Set pathname configuration file processed relative path interpreted relative directory pathname catalina base system property conf server xml Display usage running instance Catalina Embedded server xml file author Craig McClanahan author Remy Maucherat version Revision Mar doesn allude nonmaing option start option usage method Print usage application usage System println usage java org apache catalina startup Catalina config pathname nonaming start complete lacks option
48117	misspellings javadoc org apache catalina startup ContextConfig Removing sercurity role security misspelled sercurity InputSource getWebXmlSource String filename String path param filename file leading path segemnts read param path Location filename relative segments misspelled segemnts
48120	misspelling javadoc org apache catalina startup SetNextNamingRule Construct set rule method param methodName Method parent method call param paramType Java parent method argument primitive type corresonding Java wrapper code java lang code code code parameter SetNextNamingRule String methodName String paramType misspelled corresonding
48121	misspellings javadoc org apache catalina startup TldConfig Attribute turn TLD namespace awarenes tldNamespaceAware awareness misspelled awarenes server xml host attribute xmlNamespaceAware namespace awarenes enabled getTldNamespaceAware tldNamespaceAware awareness misspelled awarenes
48123	misspellings javadoc org apache catalina startup WebRuleSet Construct instance code RuleSet code matching pattern prefix fargment setting WebRuleSet fragment misspelled fargment Rule check code login config code occuring time web xml SetLoginConfig Rule occurring misspelled occuring Rule check code jsp config code occuring time web xml SetJspConfig Rule occurring misspelled occuring Rule check code session config code occuring time web xml SetSessionConfig Rule occurring misspelled occuring
48131	Add deprecated annotations deprecated elements Created attachment details Patch add deprecated annotations deprecated elements Patch add deprecated annotations deprecated elements
48132	Patch add Override annotations Created attachment details Patch add Override annotations Patch add Override annotations
48133	misspellings javadoc comment classes org apache core Created attachment details svn patch file attached file svn patch file classes org apache core
48135	ServiceRefFactory impossible check serviceInterfaceClass ServiceRefFactory performs impossible check serviceInterfaceClass serviceInterfaces serviceInterfaceClass getInterfaces serviceInterfaceClass generate NPE
48137	misspellings find org apache catalina Created attachment details svn patch classes org apache catalina attached svn patch file
48139	Tomcat Javadoc unthrown exception fixes Created attachment details Patch subject
48143	Javadoc fixes Created attachment details Patch Javadoc Lots Javadoc fixes misspelt parameter names existent parameters descriptions left TBA Large sections Javadoc commented BaseModelMBean methods commented
48146	misspellings find org apache tomcat Created attachment details svn patch classes org apache tomcat attached svn patch file
48147	misspellings find org apache naming Created attachment details svn patch file org apache naming attached svn patch file
48148	misspellings org apache jasper org apache juli Created attachment details svn patch org apache jasper org apache juli attached svn patch file
48149	misspellings org apache coyote org apache Created attachment details svn patch org apache coyote org apache attached svn patch file
48150	misspellings javax servlet Created attachment details svn patch file javax servlet atached svn patch file
48151	Java files don headers Created attachment details List java files headers Attached list Java files don headers
48172	JspRuntimeContext synch problems JspRuntimeContext jspReloadCount synchronised updated read getJspReloadCount instance accessed multiple threads returned current arbitrarily stale acceptable Javadoc getter synch field AtomicInteger fields classpath codeSource easily written constructor
48173	org apache catalina tribes ChannelData EMPTY DATA ARRAY org apache catalina tribes ChannelData EMPTY DATA ARRAY
48174	org apache tomcat jni Address APR ANYADDR org apache tomcat jni Address APR ANYADDR
48175	Loggers Created attachment details Patch log fields Log fields
48176	Fields Created attachment details Patch fields
48196	arrays Created attachment details Patch fixes arrays accessed Arrays elements Patch fixes arrays accessed
48197	XByteBuffer privatize fields Javadoc Created attachment details Patch problems XByteBuffer Patch problems XByteBuffer
48217	Loggers Created attachment details logs add missing Override markers
48230	Unused imports Created attachment details Unused imports patch
48233	Loggers Created attachment details Patch loggers Loggers intialised sense classes logger Note ReceiverBase setLog method removed order log
48234	org apache catalina core ContainerBase getLogger thread safe org apache catalina core ContainerBase getLogger synchronised methods access org apache catalina core ContainerBase logger synch wrong org apache catalina core ContainerBase logger prevent unsynch access subclasses considerations apply logName logName Javadoc getLogger method returns parent logger
48239	HexUtils exposes array Created attachment details Patch replace direct array access getters HexUtils arrays immutable
48248	tribes group interceptors MessageDispatchInterceptor org apache catalina tribes group interceptors MessageDispatchInterceptor communicate running threads
48249	org apache tomcat util net NioBlockingSelector BlockPoller org apache tomcat util net NioBlockingSelector BlockPoller communicate running threads
48266	Patch generics catalina Created attachment details Patch generics catalina subject
48267	Patch generics javax packages Created attachment details Patch generics javax packages Patch generics javax packages
48282	NPE org apache tomcat util modeler Registry Created attachment details Patch description NPE org apache tomcat util modeler Registry group item getGroup add item getName group equals item getGroup group add item getName Javadoc implies item getGroup check nested Patch follow fixes raw type
48285	ApplicationFilterFactory matchDispatcher fails check ASYNC catalina core ApplicationFilterFactory matchDispatcher FilterMap filterMap DispatcherType type fails check type ASYNC extra don provide patch
48287	ApplicationContextFacade generics fixes Created attachment details Patch ApplicationContextFacade generates lots Type safety Unchecked warnings caused doPrivileged method wrapper suppressed patch follow
48288	Patch generics javax helpers Created attachment details Patch compiler warnings javax helper classes overridden methods javax raw types specification Patch follow suppresses warnings ELContextWrapper EvaluationContext
48289	ElSupport Javadoc generics fixes Created attachment details Patch description Patch add Javadoc generics fixes ElSupport Note method coerceToEnum remains fixed adds basic test cases compare method
48296	Generics fixes Created attachment details Generics fixes Generics fixes
48297	webservices ServiceRefFactory initHandlerChain adds wrong items list naming factory webservices ServiceRefFactory initHandlerChain method HandlerInfo handlerref parameter HandlerChain handlerList HandlerChain handlerRegistry getHandlerChain portName handlerList add handlerref http docs api javax xml rpc handler HandlerChain html HandlerChain elements HandlerChain type javax xml rpc handler Handler HandlerInfo javax xml rpc handler HandlerInfo type Handler HandlerInfo passed init method Handler instance
48324	Javadoc fixes connector Request java Created attachment details Javadoc fixes connector Request java
48387	RemoteIpFilter parameters consistent RemoteIpValve Created attachment details Rename RemoteIpFilter protocolHeaderSslValue protocolHeaderHttpsValue RemoteIpFilter field protocolHeaderSslValue consistent RemoteIpValve named protocolHeaderHttpsValue Proposed patch renames protocolHeaderSslValue protocolHeaderHttpsValue field getter setter enhance javadoc sentence
48399	Lock fields Created attachment details Patch lock field field lock org apache catalina session DeltaSession diffLock mutable
48424	logic creating objectnames connector mbeans connector MBeans registered unregistered Connector classes ServerLifecycle MBeanUtils codes unregistering connector MBeans Suppose check question codes creating connector object MBeanUtils assume address property String type ClassCastException thrown
48443	context path empty tomcat startup FileNotFoundException Created attachment details resource form contextpath empty deploy app tomcat context path url jsp app http localhost jspï¼Œbut http localhost myapp jsp tomcat startup FileNotFoundException connection created URL jndi localhost WEB INF classes DirContextURLConnection java FileNotFoundException org apache naming resources DirContextURLConnection list DirContextURLConnection java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig start ContextConfig java condition resource form hostname filename hostname contextpath filename attachment patch works fine
48517	SuppressWarnings unchecked document reduce scope Created attachment details Patch description SuppressWarnings unchecked occasionally compiler complaining unnecessarily attached patch ensures existing tags comments explaining API restricts scope annotation applies specific warning intention code maintenance easier safer
48523	Duplicate property files properties files unique property unique File java org apache catalina realm LocalStrings properties Duplicate key jaasRealm userPrincipalSuccess jaasRealm userPrincipalSuccess Principal valid user user Principal jaasRealm userPrincipalSuccess Subject username returned user Principal Duplicate key jaasRealm userPrincipalFailure jaasRealm userPrincipalFailure valid user Principal jaasRealm userPrincipalFailure Subject username valid user Principal File java org apache catalina realm LocalStrings properties Duplicate key jaasRealm userPrincipalSuccess jaasRealm userPrincipalSuccess Principal una clase lida usuario vamos usar como usuario Principal jaasRealm userPrincipalSuccess asunto para nombre usuario devolvi usuario Principal Duplicate key jaasRealm userPrincipalFailure jaasRealm userPrincipalFailure hallado usuario Principal jaasRealm userPrincipalFailure asunto para nombre usuario devolvi usuario Principal lido File java org apache catalina startup LocalStrings properties Duplicate key contextConfig jndiUrl contextConfig jndiUrl connection created URL DirContextURLConnection contextConfig jndiUrl Unable process JNDI URL annotations Duplicate key webXml mergeConflictFilter webXml mergeConflictFilter Servlet defined inconsistently multiple fragments including fragment located webXml mergeConflictFilter Filter defined inconsistently multiple fragments including fragment located File java org apache jasper resources LocalStrings properties Duplicate key jsp error invalid buffer jsp error invalid buffer directive invalid buffer jsp error invalid buffer directive invalid buffer size Duplicate key jsp error xml invalidHighSurrogate jsp error xml invalidHighSurrogate High surrogate bits UTF sequence exceed jsp error xml invalidHighSurrogate High surrogate bits UTF sequence exceed File java org apache jasper resources LocalStrings properties Duplicate key jsp error invalid buffer jsp error invalid buffer Directiva valor incorrecto para FAfer jsp error invalid buffer Directiva valor incorrecto para buffer Duplicate key jsp error xml invalidHighSurrogate jsp error xml invalidHighSurrogate Los bits surrogaci alta secuencai UTF deben exceder pero hall jsp error xml invalidHighSurrogate Surrogaci Alta bits secuencia UTF debe exceder pero hall File java org apache jasper resources LocalStrings properties Duplicate key jsp error invalid buffer jsp error invalid buffer buffer jsp error invalid buffer Duplicate key jsp error xml invalidHighSurrogate jsp error xml invalidHighSurrogate UTF jsp error xml invalidHighSurrogate UTF File java org apache tomcat util net res LocalStrings properties Duplicate key endpoint poll fail endpoint poll fail Socket poll event endpoint poll fail Critical poller failure restarting poller File java org apache tomcat util net res LocalStrings properties Duplicate key endpoint poll fail endpoint poll fail Conector evento encuesta endpoint poll fail Fallo EDtico encuestador reiniciando encuestador File java org apache tomcat util net res LocalStrings properties Duplicate key endpoint poll fail endpoint poll fail Socket poll event endpoint poll fail Critical poller failure restarting poller File java org apache tomcat util net res LocalStrings properties Duplicate key endpoint poll fail endpoint poll fail Conector evento encuesta endpoint poll fail Fallo EDtico encuestador reiniciando encuestador
48551	StringCache entrySet keySet Created attachment details Replace keySet key entrySet entrySet iterate map faster keySet key Sample patch attached examples Tomcat code provide patches required
48643	catalina session FileStore save load close bugs code save method reads fos FileOutputStream file getAbsolutePath oos ObjectOutputStream BufferedOutputStream fos IOException oos oos oos close IOException Ignore statement close fos load method code IOException ois ois object created clause code check close bis fis load method code Close input stream ois ois point Note bugs detected Eclipse compiler
48644	Code ignore throwable places code catches Throwable ignores ant jmx JMXAccessorQueryTask bindAttributes ant jmx JMXAccessorTask execute core StandardContext lots methods cases catching Exception
48647	RemoteIpFilter request secure request scheme forced http Forwarded Proto http Created attachment details Tomcat patch updated docs Forwarded Proto http incoming request attributes secure scheme serverPort overridden https request unsecured http communication apache tomcat ssl request isSecure request getScheme request getServerPort wrong Proposed patch introduce httpServerPort configuration parameter modify logic request isSecure request getScheme request getServerPort header forwarded proto incoming values header forwarded proto equal https override values https override values http Note forwarded proto https ssl forwarded proto header configurable sample values bug description easier understand provide RemoteIpValve
48648	Blank dropped connection running TCnative APR encountered current trunk Windows root behavior occurred wrong configured timeout AprEndpoint Poller issue timeout applied Poller works debatable Current unaffected defaults configured misbehave details accessing Tomcat HTTP Http AprProtocol AJP AjpAprProtocol Tomcat build trunk aka revision Symptoms reproduce issue environment Windows bit java version Java Runtime Environment build Java HotSpot Client build mixed mode sharing Tomcat trunk built revision Tomcat DLL Place tcnative dll CATALINA bin start Tomcat HTTP client AJP connector configuration removed server xml Tomcat starts org apache catalina core AprLifecycleListener init INFO Loaded APR based Apache Tomcat library org apache catalina core AprLifecycleListener init INFO APR capabilities IPv sendfile accept filters random web browser Firefox access simple JSP Refresh browser problem load browser blank info response length bytes connection aborted problem noticeable Firewall blocker running incurred delay sending request Turning error frequent observe running wget cycle requesting iterations error occur times firewalls turned error displayed wget http localhost test foo jsp Resolving localhost Connecting localhost connected HTTP request awaiting response Read error Software caused connection abort headers Retrying http localhost test foo jsp Connecting localhost connected HTTP request awaiting response data received Retrying http localhost test foo jsp Connecting localhost connected HTTP request awaiting response Length text html Saving foo jsp Investigation enabled FINE FINEST logging Tomcat components logging properties selectively disabling components interested futile logs trace request enabled AccessLogValve requests listed access log launched jvisualvm tool Java JDK connected running Tomcat investigate threads deadlocks deadlock threads running noticed freshly started Tomcat requests creation thread thread pool threads thread dump http exec daemon prio tid afac nid waiting condition java lang Thread WAITING parking sun misc Unsafe park Method parking wait java util concurrent locks AbstractQueuedSynchronizer ConditionObject java util concurrent locks LockSupport park Unknown Source java util concurrent locks AbstractQueuedSynchronizer ConditionObject await Unknown Source java util concurrent LinkedBlockingQueue Unknown Source java util concurrent ThreadPoolExecutor getTask Unknown Source java util concurrent ThreadPoolExecutor Worker Unknown Source java lang Thread Unknown Source Locked ownable synchronizers clue request reached Tomcat Searching substring thread getName exec thread prefix AbstractEndpoint createExecutor investigated behaviour AprEndpoint confirming adding hoc logging statements commit issue sensitive timing reproducibility Behaviour AprEndpoint configuration Http AprProtocol creates AprEndpoint Incoming request processed Acceptor thread AprEndpoint Acceptor Acceptor processSocketWithOptions getExecutor execute SocketWithOptionsProcessor pass newly opened socked thread created execute call spotted jvisualvm earlier SocketWithOptionsProcessor configuration deferAccept calling getPoller add socket pass socket poller AprEndpoint Poller add socket queue processed queue array size configuration occurred queue overflow issue AprEndpoint Poller processes queue passes sockets Poll add call loops polling status Poll poll call problem occurred caused Poll maintain calls executed iterations loop opened socket remained iterations Poller loop Poll maintain call occurred socket returned maintain call closed closed dropping connection Poll maintain misbehaving closing fresh sockets Implementation Poll maintain poll max ttl socket closed max ttl set configuring pollset Poll create changed pollset Poll setTtl method AprEndpoint Poller pollset created Poller init timeout determined timeout getKeepAliveTimeout timeout timeout socketProperties getSoTimeout Keepalive timeout lesser equal soTimeout keepAliveTimeout timeout occurred configured observed buggy behaviour keepAliveTimeout soTimeout Notes JavaDoc keepAliveTimeout soTimepout actual implementation Changing cited code timeout timeout socketProperties getSoTimeout obvious issue delay longer soTimeout seconds IIRC result closing socket details mentioned logs keepAliveTimeout property suggests sockets processing occurred keeping alive requests timeout freshly open sockets timeout wrong property Poller distinguish fresh sockets alive configure timeouts require pollset pools TTLs AjpAprProtocol AjpEndpoint expect issue chain calls causing issue occurs AprEndpoint deferAccept field set system support requested feature Windows feature Socket APR TCP DEFER ACCEPT supported comment code supported Linux kernel issue affect Linux
48662	context xml expansion deployment improvements parts Log warning info message Tomcat ignores bundled context xml favour CATALINA BASE engine host extraction copying context xml configurable attribute extractXml host
48689	Jar abstraction Jasper Jasper load TLD files ServletContext Jar file load TLDs Jar file URL Jar file passed environments OSGi easy provide URL jar file nice Jasper embedded TLDs ways TLDs Jar files Bundles
48870	avoid parallel arrays base types Created attachment details patch parallelArrays txt kind arrays Strings Integers appears questionable programming pattern Pls find attached approach bug
48914	MethodExpression behavior incorrect dealing operators specification specification expression MethodExpression calling invoke method method invoked parameters params invoke method behavior Tomcat values invoke method tested MethodExpression myMethodExpression fact createMethodExpression ctxt myBean myStringExpression brackets String String Object myMethodReturn myMethodExpression invoke ctxt String brackets println myMethodReturn myMethodReturn
48998	Proposal port mod expires java ExpiresFilter Servlet Filter Created attachment details Port mod expires ExpiresFilter proposal port Apache Httpd mod expires java ExpiresFilter standard Servlet Filter detailed standalone version http code google xebia france wiki ExpiresFilter provide detailed javadocs docs filter html proposed contribution Tomcat logging Servlet enhancements test cases Tomcat engine attached patch ExpiresFilter java Expires Filter TestExpiresFilter detailed test cases filter xml doc updates filter optimized profiler stress tested Apache Bench high load
49000	Cookie parsing bug empty equal sign Created attachment details Code patch stops loop parsing character equal sign Cookie values don parsed empty create bob cookie key Cookie fred jim bob doesn create bob cookie key Cookie fred jim bob
49014	Add RemoteIpFilter test Created attachment details TestRemoteIpFilter java didn attach test cases RemoteIpFilter proposed didn embedded Tomcat learned test cases
49045	JMX Enhancement Provision MBeanFactory createStandardService MBeanFactory doesn method creating StandardService MBean issue enhancements JMX support Tomcat discussions Mark enhancement suggested starting point enhancements JMX support
49075	User doesn check argument roles Created attachment details check guard Collections unmodifiableList roles Collections unmodifiableList NPE
49082	ExpressionFactory newInstance privileged ExpressionFactory newInstance method wrapped privileged block exception security reasons java security AccessControlException properties calling getClassNameJreDir System getProperty java trailing separator modify PROPERTY FILE properties check separator character
49086	Addition Javadoc Servlet annotations Created attachment details Javadoc patch WebServlet annotation Addition Javadoc Servlet javax servlet annotation patches follow
49089	ChannelData SECURE RANDOM UUID mutable field catalina tribes ChannelData SECURE RANDOM UUID mutable field instance method field setter field set constructor
49091	Util specialCharactersRepresentation jasper tagplugins jstl Util specialCharactersRepresentation mutable array
49092	util IntrospectionUtils PATH SEPARATOR field org apache tomcat util IntrospectionUtils PATH SEPARATOR
49102	coyote ajp Constants constant arrays mutable coyote ajp Constants empty String arrays methodTransArray responseTransArray headerTransArray responseTransArray appears locally lookups methods protect
49103	Missing annotations Created attachment details Add missing annotations
49104	raw types Created attachment details raw types
49105	Javadoc corrections Created attachment details Javadoc corrections includes deletions misplaced docn
49106	Unused imports Created attachment details Unused imports patch
49109	RealmBase authenticate toString array catalina realm RealmBase authenticate String username credentials code authenticate username credentials toString wrong credentials array authenticate username String credentials charset
49110	runtime JspFactoryImpl PageContextPool Findbugs Bug org apache jasper runtime JspFactoryImpl PageContextPool avoid deadly embrace org apache jasper runtime JspFactoryImpl localPool Pattern SIC THREADLOCAL DEADLY EMBRACE type SIC category CORRECTNESS danger deadly embrace thread local isn retains reference thread local reference instance instance reachable eligible garbage collection
49118	Inefficient String concatenation loop Created attachment details Patch StringBuilder String HttpServlet toTrace method concatenates Strings loop inefficient
49128	loader WebappClassLoader start ignores Exception catalina loader WebappClassLoader start ignores Exception ignore SecurityException
49129	DigestAuthenticator Helper incorrect lazy initialisation Findbugs method unsynchronized lazy initialization field compiler processor reorder instructions threads guaranteed completely initialized object method called multiple threads field correct problem
49132	JNDI working Simple web app test lookup environment context throwing exception code tomcat docs NameNotFound Exception comp environment naming context Context initCtx InitialContext Context envCtx Context initCtx lookup java comp env
49134	Server doesn unregister MBeans Created attachment details Unit test illustrating problem Server unregister MBeans registered Tomcat side effects starting Server Tomcat components MapperListener components rely find MBeanServer work objects don exist Host MapperListener unit test problem fact helper Tomcat improved register MBeans normal Tomcat distribution workaround consists cleaning JMX tree Catalina objects server called info problem reported bug
49140	Inefficient keySet iterator StandardContext java Created attachment details Change keySet Iterator values loadOnStartup Container method StandardContext loops keySet key values efficient values Iterator Javadoc keySet values iterators generate entries order key ascending Findbugs detected instances provide patches required
49141	Impossible naming factory SendMailFactory getObjectInstance naming factory SendMailFactory getObjectInstance impossible javax mail internet MimeMessage javax mail internet MimePart Findbugs
49142	Missing serialVersionUIDs org apache catalina ClusterMessageBase Serializable declaring serialVersionUID org apache catalina session ReplicatedSession org apache catalina session SerializablePrincipal org apache catalina session StandardSession org apache catalina tribes tipis AbstractReplicatedMap MapMessage org apache tomcat util modeler ManagedBean
49143	incorrect lazy initialisations Incorrect lazy initialization field org apache catalina realm RealmBase Helper org apache catalina session StandardSession sessionContext org apache catalina startup TldConfig noTldJars org apache catalina util ExtensionValidator containerAvailableExtensions org apache tomcat util modeler modules MbeansDescriptorsDigesterSource digester fields
49144	Incorrect lazy initialization update fields Incorrect lazy initialization update fields org apache catalina startup Bootstrap daemon org apache catalina startup ContextConfig contextDigester Findbugs method unsynchronized lazy initialization field field set object stored location updated accessed setting field visible threads set futher accesses method set field serve initialize object multithreading bug prevents thread accessing stored object fully initialized feel confident method called multiple threads set field setting fully populated initialized
49150	primary sessions deleted BackupManager stopInternal BackupManager stopInternal stopInternal LifecycleException stopInternal LazyReplicatedMap map LazyReplicatedMap sessions map map breakdown cluster removeManager Tomcat stopInternal called StandardManager stopInternal session stored expire active sessions Storing session unnecessary BackupManager session expired session deleted cluster nodes Result primary sessions node deleted cluster nodes instance Node sessionA primary sessionB proxy sessionC backup Node sessionA backup sessionB primary sessionC proxy Node sessionA proxy sessionB backup sessionC primary Node stopped Node stopped Node sessionB primary sessionC backup Node sessionB backup sessionC primary sessionA expired Node stopped Node sessionA primary sessionB primary sessionC backup Node sessionA backup sessionB backup sessionC primary problem Tomcat executes LazyReplicatedMap breakdown patch trunk
49159	Improve ThreadLocal memory leak clean thread safe performing clean thread ThreadLocal exists point Thread returned pool
49171	Avoid raw type warning TagSupport Created attachment details Simple suppress raw type warning affect API
49181	Exception thrown incorrectly dynamically adding Listener ApplicationContext addListener instance exception listener ServletContextListener HttpSessionListener successful checks don finish
49184	bounds exception thrown dynamically adding Filter dynamically adding filter context exception thrown java lang ArrayIndexOutOfBoundsException java lang System arraycopy Method org apache catalina core StandardContext addFilterMapBefore StandardContext java org apache catalina core ApplicationFilterRegistration addMappingForServletNames ApplicationFilterRegistration java
49207	Filter set dynamically dynamically adding Filter set calling method addMappingForUrlPatterns ApplicationFilterRegistration java java lang IllegalArgumentException Filter mapping specifies unknown filter org apache catalina core StandardContext validateFilterMap StandardContext java org apache catalina core StandardContext addFilterMapBefore StandardContext java org apache catalina core ApplicationFilterRegistration addMappingForUrlPatterns ApplicationFilterRegistration java org pidster tomcat test dyn TestDynamicsListener contextInitialized TestDynamicsListener java
49218	support META INF resources test tests TestStandardContextResources failing wrapped solution debugged context getResource resourceB jsp call test exception caught silently swallowed core ApplicationContext getResource java lang IllegalStateException zip file closed java util jar JarFile getMetaInfEntryNames Method java util jar JarFile maybeInstantiateVerifier JarFile java java util jar JarFile getInputStream JarFile java org apache naming resources WARDirContext WARResource streamContent WARDirContext java org apache naming resources ProxyDirContext cacheLoad ProxyDirContext java org apache naming resources ProxyDirContext cacheLookup ProxyDirContext java org apache naming resources ProxyDirContext lookup ProxyDirContext java org apache catalina core ApplicationContext getResource ApplicationContext java concerns resources support JavaDoc ServletContext getResourcePaths Servlet specification method list resources JAR files test implemented test TestStandardContextResources java clear resource web application resources JAR listed harm listing BaseDirContext addResourcesJar jarFile getEntry call returns needed argument WARDirContext constructor essentially warDirContext loadEntries reinitializes WARDirContext entries field BaseDirContext places META INF resources branch META INF resources prefix error matter main branch executed listBindings altDirContext BaseDirContext bindings BaseDirContext altDirContext doListBindings META INF resources bindings altDirContext listBindings NamingException Ignore altDirContext field declared List BaseDirContext code simplified resource JARs considered web fragments META INF web fragment xml main web xml metadata complete correct implementation based security compatibility considerations Servlet spec explicitly requirements implied explicit spec
49221	javax servlet http Cookie setDomain charset javax servlet http Cookie setDomain String pattern code domain pattern toLowerCase result depends Locale safer fixed locale Local ENGLISH
49226	toLowerCase toUpperCase work Locales Created attachment details Patch Locale ENGLISH conversions
49227	toLowerCase toUpperCase work Locales Created attachment details Patch Locale ENGLISH conversions
49228	toLowerCase toUpperCase work Locales Created attachment details Patch Locale ENGLISH conversions
49234	JMX Descriptor Modifications Created attachment details Descriptor Modification org apache catalina modified mbeans descriptor xml Removed username password attributes User mbean object exposes username password users Modified attributes writeable context
49235	ServletContainerInitializer onStartup Set classSet expect builder tomcat svn code MySomeAnn MySomeClass HandlesTypes MySomeAnn ModuleInitializer ServletContainerInitializer Override onStartup Set classSet ServletContext ctx ServletException targetClass classSet System println targetClass getName output MySomeAnn expect output MySomeClass imp Servlet spec code work fine Glassfish output MySomeClass
49240	Error thrown detection ServletContainerInitializer ContextConfig checkHandlesTypes NoClassDefFoundError isn caught analysed initialised references classpath mysql connector jar scanned attempt load occurs mchange QueryConnectionTester java lang NoClassDefFoundError mchange QueryConnectionTester java lang ClassLoader defineClass Method java lang ClassLoader defineClass ClassLoader java java security SecureClassLoader defineClass SecureClassLoader java java net URLClassLoader defineClass URLClassLoader java java net URLClassLoader access URLClassLoader java java net URLClassLoader URLClassLoader java java security AccessController doPrivileged Method java net URLClassLoader findClass URLClassLoader java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClassInternal ClassLoader java java lang forName Method java lang forName java forName referencing WebappClassLoader calling WebappClassLoader loadClass
49284	Implement SSL renegotiation NIO connector Summary Entered reminder good
49290	JarScanner scanAllDirectories Tomcat start Created attachment details starter patch ContextConfig tolerant file URLs ContextConfig processServletContainerInitializers processResourceJARs hard coded accept jar URLs encounter file URL JarScanner scanAllDirectories ClassCastException attached patch update Tomcat start verified modified processServletContainerInitializers picks javax servlet ServletContainerInitializer file directory processResourceJARs lazy modified simply ignore file URLs BaseDirContext doesn accept jar URLs META INF resources locations Tomcat support Web Tools Platform fixed JarScanner scanAllDirectories usable feature serving web application projects development workspace work fully patch sufficient feature WTP multiple web content folders web application projects Tomcat support WTP enable customized FileDirContext handle VirtualDirContext hacks handle META INF resources directories processResourceJARs doesn order benefit processResourceJARs add file URLs BaseDirContext jar URLs marking severity major bit deadline week WTP change JarScanner web fragment xml files won picked serving projects workspace stuff won critical feature deadline WTP maintenance release late September Serving web application projects workspace Tomcat wouldn fully functional months Addressing fine Cheers Larry
49297	Whitespace absence allowed attribute custom tag Created attachment details attribute whitespace test patch test webapp bug nnn bug jsp trunk text tags echo echo rld Running test testBug org apache jasper compiler TestGenerator produces message org apache jasper JasperException bug nnn bug jsp equal symbol expected parser interprets attribute ignoring fact whitespace write tags echo echo rld test complains attribute invalid tag write tags echo echo echo rld test succeeds expect fail attaching patch adds testcase based testcase needed attribute minor issue issue affect valid JSP invalid reproducible current add webapps examples jsp simpletag foo jsp respective foo att att att member foo call http localhost examples jsp simpletag foo jsp runs displays list items output Expected result compilation error whitespace expected
49299	Servlet custom cookie URL rewriting Created attachment details cookiename war chapter servlet spec pdf web application configures custom session tracking cookies custom URI parameter session encoded URL URL rewriting enabled current trunk jsessionid attaching war file reproduces issue Steps reproduce Deploy cookiename war Access http localhost cookiename Actual result sends cookie Set Cookie MYSESSIONCOOKIE FDA Path cookiename HttpOnly Reload link jsessionid http localhost cookiename jsp jsessionid FDA Expected result phrase expect Reload link http localhost cookiename jsp MYSESSIONCOOKIE FDA
49340	Webapp unavailable deploy start Occurs tomcat manager html deploy war test deployed properly webapp start webapp test FAILURE tomcat returns Notes reload start unavailability webapp tomcat started start works work undeploy webapp redeploy
49345	work correctly JSF composite components JSF validateBean tag JSF composite component ExampleComposite managedBean beanValidation validateBean input ExampleComposite beanValidation corresponds bean property input box input defined composite component custom component attribute resolve attrs beanValidation MyFaces defer Tomcat ValueExpressionImpl getValueReference method ValueReference underlying bean correct property ValueReference correct bean incorrect property attrs exception validate dug bit trace issue AstValue getValueReference ValueReference base jjtGetChild getValue ctx don Tomcat code composite components account simply lopping expression matter composite components trimmed prefixed attrs Note issue independently verified member MyFaces team confirmed running MyFaces Sun implementation works problem MyFaces side
49360	Context reload fails PersistentManager context reload tomcat fails LifecycleException invalid Lifecycle transition attempted start component org apache catalina session PersistentManager xxx DESTROYED
49372	Starting instance Tomcat port invalid Lifecycle transition attempted current pre trunk reproduce start instance Tomcat start instance Tomcat configuration start fails expected messages accompanied LifecycleException invalid Lifecycle transition attempted component StandardServer STARTING log org apache catalina startup Catalina load INFO Initialization processed org apache catalina core StandardService startInternal INFO Starting service Catalina org apache catalina core StandardEngine startInternal INFO Starting Servlet Engine Apache Tomcat dev org apache catalina startup HostConfig deployDirectory INFO Deploying web application directory docs org apache catalina startup HostConfig deployDirectory INFO Deploying web application directory examples org apache catalina startup HostConfig deployDirectory INFO Deploying web application directory host manager org apache catalina startup HostConfig deployDirectory INFO Deploying web application directory manager org apache catalina startup HostConfig deployDirectory INFO Deploying web application directory ROOT org apache coyote http Http Protocol init SEVERE Error initializing endpoint java net BindException Address JVM Bind org apache tomcat util net JIoEndpoint init JIoEndpoint java org apache coyote http Http Protocol init Http Protocol java org apache catalina connector Connector startInternal Connector java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java net BindException Address JVM Bind java net PlainSocketImpl socketBind Method java net PlainSocketImpl bind PlainSocketImpl java java net ServerSocket bind ServerSocket java java net ServerSocket init ServerSocket java java net ServerSocket init ServerSocket java org apache tomcat util net DefaultServerSocketFactory createSocket DefaultServerSocketFactory java org apache tomcat util net JIoEndpoint init JIoEndpoint java org apache catalina startup Catalina start SEVERE Catalina start LifecycleException Protocol handler initialization failed java net BindException Address JVM Bind org apache catalina connector Connector startInternal Connector java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java org apache catalina startup Catalina start INFO Server startup org apache catalina core StandardServer await SEVERE StandardServer await create localhost java net BindException Address JVM Bind java net PlainSocketImpl socketBind Method java net PlainSocketImpl bind PlainSocketImpl java java net ServerSocket bind ServerSocket java java net ServerSocket init ServerSocket java org apache catalina core StandardServer await StandardServer java org apache catalina startup Catalina await Catalina java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java org apache catalina startup Catalina SEVERE Catalina LifecycleException invalid Lifecycle transition attempted component StandardServer STARTING org apache catalina util LifecycleBase invalidTransition LifecycleBase java org apache catalina util LifecycleBase LifecycleBase java org apache catalina startup Catalina Catalina java org apache catalina startup Catalina CatalinaShutdownHook Catalina java
49376	Minor corrections info properties info properties legacy packages
49426	Manager app wrongly localized Created attachment details Patch unit test fixing problem ManagerServlet manager app message server locale react request Locale ManagerServlet StringManager fine messages logged responses attached patch fixes problem ManagerServlet HTMLManagerServlet require bit refactoring messages intended log output response propose patch problem fixed ManagerServlet info problem occurs Tomcat
49442	StringManager fields Created attachment details Patch fields
49476	expire selected session Manager webapp Running Steps reproduce Login Manager webapp Sessions column click number manager row Sessions Administration opened sessions list checkmark session press Invalidate selected Sessions button Actual result message FAIL Nonce mismatch Command sessions displays list webapps Expected result Invalidating session redisplaying sessions list http localhost manager html sessions path manager Suspected opened query include nonce URL
49478	Add encoding parameter AddDefaultCharSetFilter AddDefaultCharSetFilter adds charset request assumes ISO charset attached patch configurable introducing encoding parameter parameter special values system interpreted character set utf meaning special values ISO parameter empty system jvm asked charset charset set system locale functional change minor bigger hidden annotation Override overriden methods keyword ResponseWrapper reference bigger change HttpServletResponse setCharacterEncoding encoding manipulating content type
49503	Connectors bind ports Catalina load start Testing trunk revision supposedly separate pre startup phase starting Tomcat Connectors bind ports parts Tomcat started IIRC implemented separate Bootstrap load String Bootstart start methods http commons apache org daemon jsvc html Downgrading user running jsvc Tomcat bind privileged ports jsvc observe issue testing bug bug applied Essentially breaks reproduce Add conf catalina properties org apache catalina startup EXIT INIT FAILURE Start Tomcat instances configuration time instance starts instance fails expected expected Expected behaviour expect StandardService initInternal connector init call fails bind port exception connector init caught EXIT INIT FAILURE flag set rethrown caught Catalina load rethrown Error aborts Tomcat startup Actual behaviour exception happen connector bind port bind start called startup sequence continues fails Server await
49522	Complete Server status status stack trace type Exception report message description server encountered internal error prevented fulfilling request exception javax servlet ServletException javax management AttributeNotFoundException find attribute startTime org apache catalina deploy NamingResources org apache catalina manager StatusManagerServlet doGet StatusManagerServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java root javax management AttributeNotFoundException find attribute startTime org apache catalina deploy NamingResources org apache tomcat util modeler ManagedBean getGetter ManagedBean java org apache tomcat util modeler BaseModelMBean getAttribute BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor getAttribute DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer getAttribute JmxMBeanServer java org apache catalina manager StatusTransformer writeContext StatusTransformer java org apache catalina manager StatusTransformer writeDetailedState StatusTransformer java org apache catalina manager StatusManagerServlet doGet StatusManagerServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java
49525	Unabled store data HttpSession root context Environment Tomcat Beta simplest webapp test jsp request getSession getId app installed root context test jsp works fine firefox session refresh test BTW test jsp works find Tomcat
49530	Context correctly stopped shutdown Created attachment details Application behavior web application context correctly stopped shutting Tomcat noticed destroy method Servlet loaded startup called test attached files test servlet writes System init destroy output init appears logs catalina output destroy understand attached log context isn stopped Steps reproduce copy attached startupServlet war webapps start Tomcat StartTestServlet init appears catalina Tomcat Actual Result output appears logs catalina Expected Result StartTestServlet destroy appears catalina catalina log evidence context startupServlet stopped FWIW java version java version Java Runtime Environment build Java HotSpot Bit Server build mixed mode uname Linux hostname Ubuntu SMP Thu Jun UTC GNU Linux
49536	webapps deployed accessing URL returns content downloaded http mirror veriportal apache tomcat tomcat beta bin apache tomcat zip start Tomcat instance webapps access URL returns HTTP code content HTTP error Cheers Ali Tokmen http ali tokmen
49550	PATCH Response isSpace deprecated isWhiteSpace Created attachment details isSpace deprecated isWhiteSpace subject
49567	starting thread startAsync Runnable infinite amount doPosts generated Created attachment details testcase demonstrating bug starting thread startAsync Runnable infinite amount doPosts generated status Internal Server Error exception thrown tomcat attached code demonstrates printing Start async infinite amount times
49570	CompressionFilter support HTTP proxies cache gzipped content sending Vary Accept Encoding header moment Compression Filter doesn send header Vary Accept Encoding compressed content method writeToGZip http svn apache org repos asf tomcat trunk webapps examples WEB INF classes compressionFilters CompressionResponseStream java sources http httpd apache org docs mod mod deflate html proxies http developer yahoo net blog archives high performanc html Vary Accept Encoding header compressed content proxy servers serve gzipped content correctly enhance method writeToGzip updated send Vary Accept Encoding header writeToGZip len IOException response addHeader Content Encoding gzip response addHeader Vary Accept Encoding gzipstream GZIPOutputStream output
49600	Bad exception thrown ProxyDirContext lookup Created attachment details Unit tests illustrating problems problems exception thrown ProxyDirContext lookup ProxyDirContext lookup notFoundException entry doesn exist notFoundException field initialized ProxyDirContext creation consequence exception thrown stacktrace current execution stack difficult find root problem optimization gain making field ProxyDirContext lookup consistent call NamingException NameNotFoundException depending cache Problems occur Tomcat
49617	ExpiresFilter docs remove remaining ExpiresActive reference Remove references removed configuration parameter ExpiresActive
49669	reference javax security Policy contextClassLoader prevents undeployed Web application garbage collected Overview javax security Policy member contextClassLoader refer WebappClassLoader application web application garbage collected undeploy Steps reproduce Create web application Axis SOAP server Deploy web application Tomcat SOAP call webapplication Undeploy web application Wait hour memory dump jmap inspect memory jhat Actual WebappClassLoader web application reference chains rootset reference System Reference javax security Policy bytes field contextClassLoader org apache catalina loader WebappClassLoader xeb bytes Expected WebappClassLoader web application Build platform Downloaded Core tar http tomcat apache org download cgi
49670	org apache catalina authenticator SingleSignOn valve function web applications declare realm context xml configured authentication web xml standard tomcat authentication methods enabled tomcat valve host realm host Host localhost appBase webapps unpackWARs autoDeploy Realm className org apache catalina realm JAASRealm appName SSO userClassNames roleClassNames useContextClassLoader SingleSignOn valve share authentication web applications Documentation docs config valve html Valve className org apache catalina authenticator SingleSignOn Access log processes Documentation docs config valve html Valve className org apache catalina valves AccessLogValve directory logs prefix localhost access log suffix txt pattern common resolveHosts jaas configuration SSO app jaas conf file server realm jaas conf configured properly web applications require user authenticate accessing application authenticated application required authenticate accessing application exact configuration working tomcat environment identical configuration operate tomcat server
49683	Separate alive connection timeout APR connector Originally observed bug keepAliveTimeout connectionTimeout Fixing require code
49698	AsyncContext timeout http asynclistener timeout call complete response http
49714	annotation process Jar impact distributable web xml distributable set web xml servlet distributable changed annotation process JAR ContextConfig processAnnotations ContextConfig processAnnotations processAnnotations Set WebXml fragments WebXml fragment fragments fragment isMetadataComplete WebXml annotations WebXml URL url fragment getURL processAnnotationsUrl url annotations Set WebXml set HashSet WebXml set add annotations Merge annotations fragment fragment takes priority fragment merge set distributable annotations created WebXml annotations merged fragment distributable fragment fragment merged web xml web application distributable set web xml distributable changed annotations setDistributable
49721	Fail access resources jsp files jar file supported servlet jsp file jar file test tomcat supports viewing browser failed
49726	JSP configuration element content type jsp property group works incorrectly tomcat trunk Created attachment details java files project uploaded war file web xml file wrote test attached test configuration elements jsp property group JSP runs incorrectly error stack org apache jasper JasperException defaultCtype jsp directive illegal multiple occurrences contentType values text xml text html org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler Validator DirectiveVisitor visit Validator java org apache jasper compiler Node PageDirective accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Validator validateDirectives Validator java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java
49750	WebappClassLoader validate validate javax servlet method validate method documentation Validate classname SRV restrict loading classes java classes servlet API javax servlet
49757	correcting generics warnings Patch attached
49758	Patch Generics warnings rawtypes Created attachment details raw type warnings
49779	Method implemented successive POST requests Created attachment details client wire context log client code webapp code unexpected HTTP occurs HttpComponents successive POST requests simple Tomcat servlet Form based POST Authentication enabled sucessfull authentication client requests resource times row request returns Method implemented status requests succeed communication takes place Client requests resource Tomcat returns login HTTP Client user credentials calls login resource Tomcat returns redirect HTTP Client sets location redirect request identical URI requests Tomcat returns HTTP Client requests resource Tomcat returns HTTP Method implemented Client requests resource Tomcat returns HTTP Client requests resource Tomcat returns HTTP Client requests resource Tomcat returns HTTP access log message testName testValuePOST test secure HTTP entity data HTTP method mixed Strangely HTTP JSP requested resource facing form based POST authentication Servlet servlet implement post calls doPost returns string client code fine posted issue HTTPComponents mailing list data wire attached source bin testclient webapp wire context log client provide helpfull
49785	Enable STARTTLS JNDIRealm Created attachment details InitialContextFactory produces TLS enabled LdapContext instances enable TLS LDAP JNDIRealm patch JNDIRealm introduce variable hold TLS introduction pooling harder factory produces TLS enabled DirContext instances factory attached configured contextFactory JNDIRealm config Realm contextFactory org apache catalina realm LdapTlsContextFactory good idea add parameter startTLS JNDIRealm automatically TLS ContextFactory wanted supply patch patch tomcat trunk apply fine trunk
49799	JSP omit attribute jsp attribute work expressions Created attachment details JSP file cases jsp attribute omit attribute omit attribute jsp attribute feature JSP Specs JSP Table JSP Attributes jsp attribute standard action omit optional Valid values jsp element attribute element ouput standard custom action Defaults introduction text http ibm developerworks forums thread jspa messageID work setup failing don point works jsp element jsp attribute style omit color red jsp attribute work jsp element jsp attribute style omit jspExpressionTrue color red jsp attribute work jsp element jsp attribute style omit trueEL color red jsp attribute Full JSP code attachment JSP document XML JSPX syntax work JSP dialects don point omit attribute kind useless Windows Vista bit JavaSE Apache Tomcat Apche Tomcat beta JSTL setup typical Dynamic Web Project Eclipse Helios
49802	Shutdown AJP Connector work Created attachment details Catalina log Tomcat load Apache httpd server mod ajp shutdown NullPointerException org apache coyote http AbstractHttp Protocol pause INFO Pausing Coyote HTTP http org apache coyote ajp AjpProtocol pause INFO Pausing Coyote AJP ajp org apache catalina core StandardService stopInternal INFO Stopping service Catalina org apache catalina connector CoyoteAdapter service GRAVE exception error occurred container request processing java lang NullPointerException org apache catalina connector CoyoteAdapter postParseRequest CoyoteAdapter java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpProcessor process AjpProcessor java org apache coyote ajp AjpProtocol AjpConnectionHandler process AjpProtocol java stopping Coyote AJP Connector doesn work fact jconsole MBean Catalina Connector operation tab reproduce bug Download Tomcat Confingure Apache httpd JkMount examples generate request http localhost examples jsp jsp basic arithmetic jsp Domenico Briganti
49865	ExceptionUtils NoClassDefFoundError startup Remove conf catalina properties SEVERE loader creation threw exception java lang NoClassDefFoundError org apache tomcat util ExceptionUtils org apache catalina startup CatalinaProperties loadProperties CatalinaProperties java org apache catalina startup CatalinaProperties clinit CatalinaProperties java org apache catalina startup Bootstrap createClassLoader Bootstrap java org apache catalina startup Bootstrap initClassLoaders Bootstrap java org apache catalina startup Bootstrap init Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java lang ClassNotFoundException org apache tomcat util ExceptionUtils java net URLClassLoader URLClassLoader java java security AccessController doPrivileged Method java net URLClassLoader findClass URLClassLoader java java lang ClassLoader loadClass ClassLoader java sun misc Launcher AppClassLoader loadClass Launcher java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClassInternal ClassLoader java org apache tomcat util ExceptionUtils loader early stage Observed TODO marks CatalinaProperties java
49876	correcting generics compile warning org apache tomcat util bcel classfile files Explanation files compile time generics warnings displayed org apache tomcat util bcel classfile patch cleans warnings
49883	java lang UnsupportedOperationException getName method called running Tomcat trunk revision conf logging properties org apache catalina level FINEST server fails start Throwable occurred java lang UnsupportedOperationException getName method called org apache catalina realm CombinedRealm getName CombinedRealm java org apache catalina realm RealmBase toString RealmBase java java text MessageFormat subformat MessageFormat java java text MessageFormat format MessageFormat java org apache tomcat util res StringManager getString StringManager java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina util LifecycleBase init LifecycleBase java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardEngine startInternal StandardEngine java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java java lang reflect InvocationTargetException sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java lang UnsupportedOperationException getName method called org apache catalina realm CombinedRealm getName CombinedRealm java org apache catalina realm RealmBase toString RealmBase java java text MessageFormat subformat MessageFormat java java text MessageFormat format MessageFormat java org apache tomcat util res StringManager getString StringManager java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina util LifecycleBase init LifecycleBase java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardEngine startInternal StandardEngine java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java comment logging properties server starts fine code LifecycleBase log debug call log isDebugEnabled log debug getString lifecycleBase setState
49884	NullPointerException org apache catalina core AsyncContextImpl doInternalComplete running Tomcat trunk revision hitting async servlet attached Apache Bench NullPointerException org apache catalina core AsyncContextImpl doInternalComplete Sep org apache catalina core AsyncContextImpl doInternalDispatch FINE TIMING Sep org apache catalina core AsyncContextImpl doInternalDispatch FINE TIMING Sep org apache catalina core AsyncContextImpl doInternalComplete SEVERE Throwable occurred java lang NullPointerException org apache catalina core AsyncContextImpl doInternalComplete AsyncContextImpl java org apache catalina core AsyncContextImpl doInternalDispatch AsyncContextImpl java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter asyncDispatch CoyoteAdapter java org apache coyote http Http Processor asyncDispatch Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
49892	Wrong JNDI Method Resource Injections Method based JNDI env injections worked correctly Patch attached Java specification Annotations Injections Patch solves problem
49909	jstl support Created attachment details log svn complied Report err webapp lib include jstl jar examples jstl jar standard jar work fined support jstal exception stack attachment
49916	init param jspFile explicit jsp servlets Created attachment details patch translate jsp file elements jspServlet init params servlet element web xml include jsp file servlet catalina jasper handled bunch runtime code tracks jsp file servlet feeds servlet request attribute requires bunch runtime code marked hold nose supply jsp file init param jsp servlet instance set handle servlet element runtime handling jsp servlets identical servlets transfers small amount jsp aware code needed catalina deployment phase attached patch appears pass tomcat tests doesn tck problems geronimo tomcat integration patch JspServlet respond jsp file request attribute catalina won send jasper compatible earlier catalina versions catalina compatible explicitly mentioned jsp file servlet elements earlier jasper versions helpful geronimo apply JspServlet patch catalina applied technique geronimo jetty integration subclassing JspServlet provide behavior
49922	ApplicationFilterChain filter web xml filter filter Seam Filter filter filter org jboss seam servlet SeamFilter filter filter filter mapping filter Seam Filter filter url pattern app yofc url pattern filter mapping filter mapping filter Seam Filter filter url pattern seam url pattern filter mapping ApplicationFilterChain Seam Filter app error Patch addFilter ApplicationFilterConfig filterConfig ApplicationFilterConfig filter filters filter filterConfig filters length ApplicationFilterConfig newFilters ApplicationFilterConfig INCREMENT System arraycopy filters newFilters filters newFilters filters filterConfig
49937	Problems AsyncListener resource injection Created attachment details propose couple async listener problems asked dev list proposing simple fixes agreement bugs AsyncListeners subject resource injection annotations created instance manager instance manager AyncContextImpl getInstanceManager method Context small simple application code ServletContext addListener methods container scan annotations tomcat doesn scan doesn exception servlet spec
49952	ServletContainerInitializer add listeners Created attachment details listeners ServletContainerInitializer listeners ServletContainerInitializer wiped listeners web xml sorted overwrite arrays SCI listeners approach keeping single list listeners web xml keeping sort types listenerStart elegant addApplicationListener method code ServletContext addListener String listenerClassName method Patch includes test demonstrating problem patch ServletContext number adjustment applied patch supplying jsp file jsp servlet init param
49956	Resource Normalization JNDI Created attachment details Resolves issue attribute Resource defines JNDI resource binds resource web component java comp env java comp env bla bla JNDI DefaultInstanceManager inject fields methods normalized Resource java comp env myDataSource DataSource context lookup DefaultInstanceManager normalize myDataSource Patch attached
49957	Work directories deployed webapps deleted shutdown Created attachment details stacktrace Observing current trunk rev happen regression problem Tomcat subdirectories catalina base work Catalina localhost deleted Steps reproduce Build Tomcat Set JRE variable output build bin catalina bat start Access http localhost examples jsp jsp basic arithmetic jsp Note compiled file output build work Catalina localhost examples org apache jsp jsp jsp catalina bat Actual behaviour output build work Catalina localhost empty Expected behaviour step catalina log file INFO Deploying web application directory lines logs webapps undeployed debug mode breakpoints ExpandWar delete deletion ContextConfig destroy Changed getWorkPath Bugzilla String workDir StandardContext context getWorkPath workDir ExpandWar delete File workDir attaching full stacktrace code suspect destroy event passed ContextConfig
49978	WebappLoader exception workDir exists unpackWARs WebappLoader setRepositories war unpacked create directory WEB INF classes workDir directory exists error thrown webapp start change didn check classRepository mkdirs mkdirs returns directories exist doubt intention intention exception directory created existed
49991	Tomcat JAAS problem CDI Tomcat suffering bug fixed Glassfish https glassfish dev java net issues bug cgi container redirects login CDI Weld active contexts requestscope
49994	NamingContext Bug NamingContext implementation lookup Reference current implementation caches result NamingManager getObjectInstance statements type entry lookups object returned write ObjectFactory returns instance time lookup called reference current implementation write object factory aferomentioned sitaution entry stay Reference changing entry type NamingContext Object lookup resolveLinks NamingException entry type NamingEntry REFERENCE Object obj NamingManager getObjectInstance entry env obj entry obj entry type NamingEntry ENTRY type naming entry obj NamingException Exception log warn getString namingContext failResolvingReference NamingException getMessage
50015	dynamic servlet security incomplete badly distributed current implementation dynamic servlet security ServletRegistration Dynamic setServletSecurity ServletContext createServlet addServlet methods incomplete includes logic exposes internals tomcat security framework ServletRegistration Dynamic implementation attached patch moves logic depends internals tomcats security implementation ApplicationServletRegistration StandardContext overridden jacc implementations notifications StandardContext users calling createServlet addServlet ApplicationContext ServletContext subclasses StandardContext implement spec behavior subclassing ApplicationContext patch generated tomcat copy patches proposed applied problems applying
50016	bad division responsibility isUserInRole Request login logout methods Created attachment details improve division responsibility isUserInRole login logout methods problems bad division responsibility Request isUserInRole prevent jacc implementations wrong current tomcat implementation role mappings applied supplied role target role tested user mapped role original role tested jacc requires implemented constructing role permission current servlet supplied mapped role amenable jacc implementation Request isUserInRole supply original role servlet wrapper mapping mapped role checked spec language web app roles servlet maps user logs role test current implementation reports implementation login logout methods excessively intrusive internals authentication delegated Authenticator checking Authenticator installed supports user login overly restrictive authenticators installed authenticator decide cache authentication
50017	immutable fields Created attachment details Patch javax Patches immutable fields
50018	Javadoc corrections Created attachment details Javadoc corrections
50021	ExceptionUtils missing bootstrap jar startup Bootstrap jasper util ExceptionUtils bootstrap jar causing nasty failures wrong initial bootstrapping simple matter updating build xml include wasn including Jasper classes bootstrap tomcat util ExceptionUtils identical wrong grab
50027	NullPointerException context xml Resource deploy WAR contex xml META INF context xml Resource tag Tomcat donÂ´t boot error java lang NullPointerException org apache catalina core StandardContext getObjectKeyPropertiesNameOnly StandardContext java org apache catalina core StandardContext setNamingResources StandardContext java org apache catalina core StandardContext getNamingResources StandardContext java org apache catalina startup SetNextNamingRule SetNextNamingRule java org apache tomcat util digester Digester endElement Digester java sun org apache xerces internal parsers AbstractSAXParser endElement AbstractSAXParser java sun org apache xerces internal parsers AbstractXMLDocumentParser emptyElement AbstractXMLDocumentParser java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java org apache tomcat util digester Digester parse Digester java org apache catalina startup Catalina load Catalina java org apache catalina startup Catalina load Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap load Bootstrap java org apache catalina startup Bootstrap main Bootstrap java org apache catalina startup Catalina load AVISO Catalina start conf server xml java lang NullPointerException org apache tomcat util digester Digester createSAXException Digester java org apache tomcat util digester Digester createSAXException Digester java org apache tomcat util digester Digester endElement Digester java sun org apache xerces internal parsers AbstractSAXParser endElement AbstractSAXParser java sun org apache xerces internal parsers AbstractXMLDocumentParser emptyElement AbstractXMLDocumentParser java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java org apache tomcat util digester Digester parse Digester java org apache catalina startup Catalina load Catalina java org apache catalina startup Catalina load Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap load Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java lang NullPointerException org apache catalina core StandardContext getObjectKeyPropertiesNameOnly StandardContext java org apache catalina core StandardContext setNamingResources StandardContext java org apache catalina core StandardContext getNamingResources StandardContext java org apache catalina startup SetNextNamingRule SetNextNamingRule java org apache tomcat util digester Digester endElement Digester java org apache tomcat util digester SetPropertiesRule AVISO SetPropertiesRule Server Service Engine Host Context Setting property source org eclipse jst jee server bestforkprime find matching property org apache tomcat util digester Digester endElement GRAVE event threw exception java lang NullPointerException org apache catalina core StandardContext getObjectKeyPropertiesNameOnly StandardContext java org apache catalina core StandardContext setNamingResources StandardContext java org apache catalina core StandardContext getNamingResources StandardContext java org apache catalina startup SetNextNamingRule SetNextNamingRule java org apache tomcat util digester Digester endElement Digester java sun org apache xerces internal parsers AbstractSAXParser endElement AbstractSAXParser java sun org apache xerces internal parsers AbstractXMLDocumentParser emptyElement AbstractXMLDocumentParser java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java org apache tomcat util digester Digester parse Digester java org apache catalina startup Catalina load Catalina java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java org apache catalina startup Catalina load AVISO Catalina start conf server xml java lang NullPointerException org apache tomcat util digester Digester createSAXException Digester java org apache tomcat util digester Digester createSAXException Digester java org apache tomcat util digester Digester endElement Digester java sun org apache xerces internal parsers AbstractSAXParser endElement AbstractSAXParser java sun org apache xerces internal parsers AbstractXMLDocumentParser emptyElement AbstractXMLDocumentParser java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java org apache tomcat util digester Digester parse Digester java org apache catalina startup Catalina load Catalina java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java lang NullPointerException org apache catalina core StandardContext getObjectKeyPropertiesNameOnly StandardContext java org apache catalina core StandardContext setNamingResources StandardContext java org apache catalina core StandardContext getNamingResources StandardContext java org apache catalina startup SetNextNamingRule SetNextNamingRule java org apache tomcat util digester Digester endElement Digester java org apache catalina startup Catalina start GRAVE start server Server instance configured contex xml OBS values replaced XXXX xml version encoding UTF Context privileged reloadable WatchedResource WEB INF web xml WatchedResource WatchedResource META INF context xml WatchedResource Resource jdbc bestfork Container type mchange ComboPooledDataSource factory org apache naming factory BeanFactory user xxx password xxxx driverClass org postgresql Driver jdbcUrl jdbc postgresql localhost xxxxx minPoolSize maxPoolSize acquireIncrement idleConnectionTestPeriod maxIdleTime Resource mail Session Container type javax mail Session mail smtp host xxxx mail smtp username xxx password xxx mail user xxxx mail password xxxx mail smtp port mail transport protocol smtp mail debug Realm className org apache catalina realm JDBCRealm driverName org postgresql Driver connectionURL jdbc postgresql localhost xxxx connectionName xxxx connectionPassword xxxx userTable usuario userNameCol usuario cpf userCredCol usuario senha userRoleTable usuario papel roleNameCol papel nome digest Context
50054	AJP connector minSpareThreads warnning messages Oct org apache catalina startup SetAllPropertiesRule WARNING SetAllPropertiesRule Server Service Connector Setting property minSpareThreads find matching property AJP connector configs Connector port protocol AJP redirectPort minSpareThreads Http connector minSpareThreads org apache coyote ajp AjpProtocol doesn set minSpareThreads org apache tomcat util net JIoEndpoint patch patch based AbstractHttp Protocol
50059	Resources served WEB INF lib jar META INF resources metadata complete set web xml reproduce Servlet webapp foo metadata complete attribute set web app element WEB IBNF web xml jar holding single META INF resources html file jar WEB INF lib bar jar Start web app Tomcat browser http localhost foo html Expected result response html served Actual result modify web xml metadata complete restart app foo html respond expected webapp Glassfish works expected set metadata complete attribute quick servlet spec metadata complete regulates annotation web fragment processing bar jar annotations web fragment handled differently depending metadata complete attribute
50063	Latest trunck configure context metadata complete version patch Eclipse Workspace Patch tomcat java org apache catalina startup ContextConfig java java org apache catalina startup ContextConfig java revision java org apache catalina startup ContextConfig java working copy webXml configureContext context
50087	metadata complete illegal JVM CONSTANT metadata complete add groovy jar app lib java lang reflect InvocationTargetException sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java lang ClassFormatError groovy jmx builder info illegal JVM CONSTANT groovy jmx builder info java lang ClassLoader defineClass Method java lang ClassLoader defineClassCond ClassLoader java java lang ClassLoader defineClass ClassLoader java java security SecureClassLoader defineClass SecureClassLoader java org apache catalina loader WebappClassLoader findClassInternal WebappClassLoader java org apache catalina loader WebappClassLoader findClass WebappClassLoader java org apache catalina loader WebappClassLoader loadClass WebappClassLoader java org apache catalina loader WebappClassLoader loadClass WebappClassLoader java org apache catalina startup ContextConfig checkHandlesTypes ContextConfig java org apache catalina startup ContextConfig processAnnotationsStream ContextConfig java org apache catalina startup ContextConfig processAnnotationsJar ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig processAnnotations ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardHost startInternal StandardHost java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardEngine startInternal StandardEngine java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java
50107	StandardPipeline destroyed times Created attachment details patch MBeanFactory java call MBeanFactory removeHost operation JMX jconsle message INFO destroy method called component Pipeline StandardHost localhost destroy called call StandardPipeline destroyed times pipeline destroyed ContainerBase java ContainerBase java destroyInternal Valves pipeline including basic pipeline Lifecycle Lifecycle pipeline destroy ContainerBase java destroyInternal Required child destroyed parent parent removeChild mentioned parent StandardEngine parent removeChild calls LifecycleBase child destroy child destroy calls ContainerBase destroyInternal time ContainerBase StandardHost ContainerBase java removeChild Set child parent prevent loop child setParent child destroy LifecycleException result pipeline destroyed mentioned info message Tomcat child destroy called ContainerBase removeChild removeChild contained Tomcat calls child destroy IMHO call child destroy removeHost patch removed host destroy removeHost
50108	Add missing setter getter AbstractXXXProtocol Created attachment details patch AbstractXXXProtocol Add missing methods AbstractHttp Protocol AbstractAjpProtocol setMinSpareThreads getMinSpareThreads
50127	NPEs SimpleTCPCluster Created attachment details Patch eliminate potential NPE code places object object method object method call conditional block eliminate check
50129	ContextConfig unnecessary checks Created attachment details Patch remove checks Sample code urlPatterns processAnnotationsStringArray evp getValue urlPatternsSet urlPatterns urlPatterns length String urlPattern urlPatterns check urlPatterns unnecessary method call returns loop NPE
50157	lot MapperListener registered ContainerListener StandardContext Created attachment details patch MapperListener java MapperListener registered ContainerListener StandardContext add StandardHost Engine addChild operation JMX MapperListener registered ContainerListener StandardHost StandardEngine addChild StandardEngine addChildInternal StandardEngine fireContainerEvent MapperListener containerEvent MapperListener containerEvent MapperListener registerHost StandardHost MapperListener ContainerListener starting StandardHost Host start operation MapperListener registered ContainerListener StandardContext LifecycleState StandardHost changed STARTING StandardHost LifecycleBase start StandardHost ContainerBase startInternal StandardHost ContainerBase fireContainerEvent fireContainerEvent fire times MapperListener containerEvent MapperListener containerEvent MapperListener registerContext LifecycleState StandardHost changed STARTED StandardHost LifecycleBase start MapperListener registerHost MapperListener registerContext memory wasted issue issue MapperListener registered Container LifecycleListener StandardContext starting Tomcat attached patch issues
50159	JNDI context returns datasource instance request Requesting javax sql DataSource JNDI instance time defined connection pool Resource Container jdbc mydb description Database factory org apache naming factory BeanFactory type mchange ComboPooledDataSource driverClass org gjt mysql Driver jdbcUrl jdbc mysql localhost mydb autoReconnect user myUserName password myPassword minPoolSize maxPoolSize acquireIncrement idleConnectionTestPeriod maxIdleTime preferredTestQuery SELECT party library access datasource time request connection pool created simple test instance returned time Test code Context initialContext InitialContext DataSource initialContext lookup dataSource getConnection comparing source code org apache naming NamingContext lines code removed obj entry obj entry type NamingEntry ENTRY Adding code fixes issue
50168	destory method called child destoryed calling method destory StandardContext method destoryInternal called LifecycleMBeanBase stacktraces LifecycleMBeanBase unregister ObjectName LifecycleMBeanBase destroyInternal ContainerBase destroyInternal StandardContext destroyInternal LifecycleBase destroy ContainerBase removeChild Container ContainerBase destroyInternal StandardContext destroyInternal LifecycleBase destroy LifecycleMBeanBase unregister ObjectName LifecycleMBeanBase destroyInternal ContainerBase destroyInternal StandardContext destroyInternal LifecycleBase destroy
50169	register wrapper welcomeFile Mapper context registered Mapper Created attachment details patch StandardContext StandardWrapper Host start operation JMX error messages org apache tomcat util http mapper Mapper addWrapper SEVERE context org apache tomcat util http mapper Mapper addWrapper SEVERE context org apache tomcat util http mapper Mapper addWrapper SEVERE context org apache tomcat util http mapper Mapper addWrapper SEVERE context org apache tomcat util http mapper Mapper addWrapper SEVERE context org apache tomcat util http mapper Mapper addWrapper SEVERE context org apache tomcat util http mapper Mapper addWelcomeFile SEVERE context org apache tomcat util http mapper Mapper addWelcomeFile SEVERE context org apache tomcat util http mapper Mapper addWelcomeFile SEVERE context org apache tomcat util http mapper Mapper addWelcomeFile SEVERE context org apache tomcat util http mapper Mapper addWelcomeFile SEVERE context org apache tomcat util http mapper Mapper addWelcomeFile SEVERE context StandardHost starts manager context LifecycleState STARTING PREP Wrapper registered host registered Mapper addWrapper String String String Object MapperListener containerEvent ContainerEvent StandardWrapper ContainerBase fireContainerEvent String Object StandardWrapper addMapping String StandardContext addServletMapping String String StandardContext addServletMapping String String WebXml configureContext Context ContextConfig webConfig ContextConfig configureStart ContextConfig lifecycleEvent LifecycleEvent LifecycleSupport fireLifecycleEvent String Object StandardContext LifecycleBase fireLifecycleEvent String Object StandardContext startInternal StandardContext LifecycleBase start StandardHost ContainerBase startInternal StandardHost startInternal StandardHost LifecycleBase start Set LifecycleState STARTED Register context host Mapper Mapper addHost String String Object Mapper addContext String Object String Object String Context MapperListener registerContext Context MapperListener lifecycleEvent LifecycleEvent LifecycleSupport fireLifecycleEvent String Object StandardContext LifecycleBase fireLifecycleEvent String Object StandardContext LifecycleBase setState LifecycleState Object StandardContext LifecycleBase setState LifecycleState StandardContext LifecycleBase start StandardHost ContainerBase startInternal StandardHost startInternal StandardHost LifecycleBase start Register wrapper succeeds context registered Mapper Mapper addWrapper String String String Object MapperListener registerWrapper Wrapper MapperListener registerContext Context MapperListener lifecycleEvent LifecycleEvent LifecycleSupport fireLifecycleEvent String Object StandardContext LifecycleBase fireLifecycleEvent String Object StandardContext LifecycleBase setState LifecycleState Object StandardContext LifecycleBase setState LifecycleState StandardContext LifecycleBase start StandardHost ContainerBase startInternal StandardHost startInternal StandardHost LifecycleBase start StandardHost starts ROOT context Register wrapper error context registered org apache tomcat util http mapper Mapper addWrapper SEVERE context Mapper addWrapper String String String Object MapperListener containerEvent ContainerEvent StandardWrapper ContainerBase fireContainerEvent String Object StandardWrapper addMapping String StandardContext addServletMapping String String StandardContext addServletMapping String String WebXml configureContext Context ContextConfig webConfig ContextConfig configureStart ContextConfig lifecycleEvent LifecycleEvent LifecycleSupport fireLifecycleEvent String Object StandardContext LifecycleBase fireLifecycleEvent String Object StandardContext startInternal StandardContext LifecycleBase start StandardHost ContainerBase startInternal StandardHost startInternal StandardHost LifecycleBase start Set LifecycleState STARTED register context Mapper addContext String Object String Object String Context MapperListener registerContext Context MapperListener lifecycleEvent LifecycleEvent LifecycleSupport fireLifecycleEvent String Object StandardContext LifecycleBase fireLifecycleEvent String Object StandardContext LifecycleBase setState LifecycleState Object StandardContext LifecycleBase setState LifecycleState StandardContext LifecycleBase start StandardHost ContainerBase startInternal StandardHost startInternal StandardHost LifecycleBase start Register wrapper succeeds context registered Mapper Mapper addWrapper String String String Object MapperListener registerWrapper Wrapper MapperListener registerContext Context MapperListener lifecycleEvent LifecycleEvent LifecycleSupport fireLifecycleEvent String Object StandardContext LifecycleBase fireLifecycleEvent String Object StandardContext LifecycleBase setState LifecycleState Object StandardContext LifecycleBase setState LifecycleState StandardContext LifecycleBase start StandardHost ContainerBase startInternal StandardHost startInternal StandardHost LifecycleBase start addWrapper unnecessary LifecycleState StandardContext STARTED addWelcomeFile attached patch prevent error message
50183	Tribes Bio Sender scheduling task excecutors Created attachment details proposed patch apache tribes Tomcat version latest bug occurs Trunk refactor executors threads monitors BioReceiver scheduling task patch descriptive comment write Ariel
50184	RpcChannel sends answer requesting ACK Created attachment details proposed patch apache tribes Tomcat version latest applies trunk customer Bio senders version excecutors refactor bug experiencing weird behavior couldn reproduce guess platform solaris application tribes create RPC channel network issues occasions application invoked remote method remote node processed invocation send answer received node timeout occurs eventually RPC invocation occurs time node realized socket issue send answer broken pipe exception connection established message received issues customer complaining timeout occurred time send message BioSender pushMessage soOut write data soOut flush flush operation warranty message network warranty passed http download oracle javase docs api java OutputStream html flush order avoid issue thought modify RpcChannel send reply message SEND OPTIONS ACK option Setting remote node detect situations commented recreate connection attaching patch proposal time Ariel
50192	performance issue revision Revision changed files ELResolverImpl ELContextImpl unnecessary performance regression files ELResolverImpl time getDefaultResolver called security enabled Object created appears getDefaultResolver called lot hurt performance understand changing DefaultResolver allowing access getter method don object created time method called ELContextImpl FunctionMapper created ELContextImpl
50207	CometProcessor async timeout events fired reproducible chat ChatServlet examples jsp chat additional Enabled Http Nio conf server xml Connector address port protocol org apache coyote http Http NioProtocol connectionTimeout enableLookups acceptCount disableUploadTimeout maxThreads minSpareThreads maxSpareThreads RECYCLE FACADES Enabled comet valve conf context xml Valve className org apache catalina valves CometConnectionManagerValve problem CometEvent EventType ERROR subtype TIMEOUT CometEvent EventType fired confirmed logs messages events printed worked Tomcat complete robust async tomcat today Servlet CometProcessor
50222	JreMemoryLeakPreventionListener speculatively memory leaks system ClassLoader JreMemoryLeakPreventionListener intentionally invokes methods pin context ClassLoader memory order avoid WebappClassLoader unintentionally pin undesirable behavior embedded environments JMLPL security context temporarily set current context ClassLoader system ClassLoader solve embedded situation client remember care
50230	Recursive dependency tomcat catalina tomcat catalina pom file tomcat catalina depends tomcat catalina HTMLManagerServlet tomcat catalina reference BackupManager tomcat catalina remove recursive dependency components mightbe NullPointerException issue BackupManager HTMLManagerServlet Manager manager ctxt getManager manager BackupManager showProxySessions args Integer BackupManager manager getActiveSessionsFull ctxt getManager args Integer manager getActiveSessions args Integer check thread http mail archive users tomcat apache org msg html
50232	org apache catalina session StoreBase hidden dependency PersistentManager Created attachment details Removes hidden dependency PersistentStore StoreBase java depends explicitly Manager casts manager object PersistentManager check removes dependency allowing usage store manager extend PersistentManager attach path removes offending isLoaded method induce problem
50252	ClassCastException occurs context xml ResourceLink Created attachment details patch NamingContext java context xml ResourceLink ClassCastException occurs java lang ClassCastException org apache naming ResourceLinkRef org apache naming ResourceRef org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache catalina core DefaultInstanceManager lookupFieldResource DefaultInstanceManager java org apache catalina core DefaultInstanceManager processAnnotations DefaultInstanceManager java org apache catalina core DefaultInstanceManager newInstance DefaultInstanceManager java org apache catalina core DefaultInstanceManager newInstance DefaultInstanceManager java org apache catalina core StandardWrapper loadServlet StandardWrapper java org apache catalina core StandardWrapper allocate StandardWrapper java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java issue relating issue https issues apache org bugzilla bug cgi attached patch issue
50293	javax CompositeELResolver synchronization issue Created attachment details Synchronize change CompositeELResolver add javax CompositeELResolver add method synchronize update resolvers threads call add threads size check thread updates size thread update size fails ArrayIndexOutOfBoundsException sense increase size ELResolver array jasper adds ELResolvers propose
50306	Detect stuck threads Feature request regularly scan worker threads processing request longer configurable delay log warning stack trace thread detect running threads stuck network call deadlock
50308	Call AsyncContext dispatch onTimeout callback exception dispatch method called onTimeout function AsyncListener exception thrown SEVERE exception error occurred container request processing java lang IllegalStateException Calling dispatchAsync valid request Async TIMING org apache coyote AsyncStateMachine asyncDispatch AsyncStateMachine java org apache coyote http Http NioProcessor actionInternal Http NioProcessor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Request action Request java org apache catalina core AsyncContextImpl dispatch AsyncContextImpl java org apache catalina core AsyncContextImpl dispatch AsyncContextImpl java org apache catalina core AsyncContextImpl dispatch AsyncContextImpl java juriy snowball SnowServlet onTimeout SnowServlet java org apache catalina core AsyncListenerWrapper fireOnTimeout AsyncListenerWrapper java org apache catalina core AsyncContextImpl timeout AsyncContextImpl java org apache catalina connector CoyoteAdapter asyncDispatch CoyoteAdapter java org apache coyote http Http NioProcessor asyncDispatch Http NioProcessor java org apache coyote http Http NioProtocol Http ConnectionHandler event Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java sample code service HttpServletRequest request HttpServletResponse response ServletException IOException AsyncContext context request startAsync context setTimeout context addListener AsyncListener onComplete AsyncEvent asyncEvent IOException onTimeout AsyncEvent asyncEvent IOException System println HITTING TIMEOUT asyncEvent getAsyncContext dispatch onError AsyncEvent asyncEvent IOException onStartAsync AsyncEvent asyncEvent IOException Servlet specification call quotation explicitly flow timeouted async contexts event asynchronous operation times container steps â–  Invoke AsyncListener onTimeout method AsyncListener instances registered ServletRequest asynchronous operation initiated â–  listeners called AsyncContext complete AsyncContext dispatch methods perform error dispatch status code equal HttpServletResponse INTERNAL SERVER ERROR â–  matching error error call AsyncContext complete AsyncContext dispatch methods container call AsyncContext complete step assumes call dispatch onTimeout allowed
50310	Manager detailed status display servlets reproduce Login Manager webapp Click Server Status Complete Server Status links Complete Server Status lists servlets deployed application current list summary webapp displayed StatusManagerServlet StatusTransformer classes code iterate servlets JMX names changed working
50351	javax naming NamingException set method property singleton trunk http people apache org markt dev tomcat application works error execution ERROR DatasourceConnectionProvider find datasource java comp env jdbc myAppName javax naming NamingException set method property singleton org apache naming factory BeanFactory getObjectInstance BeanFactory java org apache naming factory ResourceFactory getObjectInstance ResourceFactory java javax naming spi NamingManager getObjectInstance Unknown Source org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming SelectorContext lookup SelectorContext java javax naming InitialContext lookup Unknown Source org hibernate connection DatasourceConnectionProvider configure DatasourceConnectionProvider java org hibernate connection ConnectionProviderFactory newConnectionProvider ConnectionProviderFactory java org hibernate ejb InjectionSettingsFactory createConnectionProvider InjectionSettingsFactory java org hibernate cfg SettingsFactory buildSettings SettingsFactory java org hibernate cfg Configuration buildSettingsInternal Configuration java org hibernate cfg Configuration buildSettings Configuration java org hibernate cfg Configuration buildSessionFactory Configuration java org hibernate cfg AnnotationConfiguration buildSessionFactory AnnotationConfiguration java org hibernate ejb Ejb Configuration buildEntityManagerFactory Ejb Configuration java org hibernate ejb HibernatePersistence createEntityManagerFactory HibernatePersistence java javax persistence Persistence createEntityManagerFactory Persistence java javax persistence Persistence createEntityManagerFactory Persistence java net metha utils persistence JPAUtil clinit JPAUtil java net metha bestfork servlets filters JPASessionFilter doFilter JPASessionFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask Unknown Source java util concurrent ThreadPoolExecutor Worker Unknown Source java lang Thread Unknown Source org apache catalina core StandardWrapperValve invoke GRAVE Servlet service servlet Faces Servlet context path bestforkprime threw exception Filter execution threw exception root javax naming NamingException set method property singleton org apache naming factory BeanFactory getObjectInstance BeanFactory java org apache naming factory ResourceFactory getObjectInstance ResourceFactory java javax naming spi NamingManager getObjectInstance Unknown Source org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming SelectorContext lookup SelectorContext java javax naming InitialContext lookup Unknown Source org hibernate connection DatasourceConnectionProvider configure DatasourceConnectionProvider java org hibernate connection ConnectionProviderFactory newConnectionProvider ConnectionProviderFactory java org hibernate ejb InjectionSettingsFactory createConnectionProvider InjectionSettingsFactory java org hibernate cfg SettingsFactory buildSettings SettingsFactory java org hibernate cfg Configuration buildSettingsInternal Configuration java org hibernate cfg Configuration buildSettings Configuration java org hibernate cfg Configuration buildSessionFactory Configuration java org hibernate cfg AnnotationConfiguration buildSessionFactory AnnotationConfiguration java org hibernate ejb Ejb Configuration buildEntityManagerFactory Ejb Configuration java org hibernate ejb HibernatePersistence createEntityManagerFactory HibernatePersistence java javax persistence Persistence createEntityManagerFactory Persistence java javax persistence Persistence createEntityManagerFactory Persistence java net metha utils persistence JPAUtil clinit JPAUtil java net metha bestfork servlets filters JPASessionFilter doFilter JPASessionFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask Unknown Source java util concurrent ThreadPoolExecutor Worker Unknown Source java lang Thread Unknown Source
50352	AsyncListener onComplete called AsyncContext complete called servlet async features asyncContext complete called async thread AsyncListener onComplete method called Servlet test java IOException javax servlet AsyncContext javax servlet AsyncEvent javax servlet AsyncListener javax servlet ServletException javax servlet annotation WebServlet javax servlet http HttpServlet javax servlet http HttpServletRequest javax servlet http HttpServletResponse Servlet implementation MyServlet WebServlet MyServlet asyncSupported MyServlet HttpServlet AsyncListener serialVersionUID doGet HttpServletRequest request HttpServletResponse response ServletException IOException AsyncContext asyncContext request startAsync request response asyncContext addListener asyncContext start Runnable Override Thread sleep asyncContext getResponse getWriter write asyncContext complete Exception printStackTrace Override onComplete AsyncEvent arg IOException System println onComplete arg Override onError AsyncEvent arg IOException System println onError arg Override onStartAsync AsyncEvent arg IOException System println onStartAsync arg Override onTimeout AsyncEvent arg IOException System println onTimeout arg
50353	Calling asyncContext getResponse returns async timeout async thread calls asyncContext getResponse async timeout reference leads NPE servlet spec clear behavior adopt timeout don returned IllegalStateException complete called timeout test java IOException java PrintWriter javax servlet AsyncContext javax servlet AsyncEvent javax servlet AsyncListener javax servlet ServletException javax servlet ServletResponse javax servlet annotation WebServlet javax servlet http HttpServlet javax servlet http HttpServletRequest javax servlet http HttpServletResponse Servlet implementation MyServlet WebServlet MyServlet asyncSupported MyServlet HttpServlet AsyncListener serialVersionUID doGet HttpServletRequest request HttpServletResponse response ServletException IOException AsyncContext asyncContext request startAsync request response asyncContext addListener asyncContext setTimeout asyncContext start Runnable Override System println Entering async thread Thread sleep System println Asyncthread write response ServletResponse response asyncContext getResponse PrintWriter writer response getWriter writer write System println Asyncthread complete asyncContext complete Exception printStackTrace Override onComplete AsyncEvent evt IOException System println onComplete evt Override onError AsyncEvent evt IOException System println onError evt Override onStartAsync AsyncEvent evt IOException System println onStartAsync evt Override onTimeout AsyncEvent evt IOException System println onTimeout evt evt getAsyncContext getResponse getWriter write Timed evt getAsyncContext complete
50358	Embedded stopInternal sets STARTING STOPPING Embedded stopInternal invokes setState LifecycleState STARTING changed setState LifecycleState STOPPING Setting LifecycleState STARTING stopInternal leads LifecycleException Embedded shut LifecycleException invalid Lifecycle transition attempted component StandardService STARTING org apache catalina util LifecycleBase invalidTransition LifecycleBase java org apache catalina util LifecycleBase LifecycleBase java javakaffee web msm MemcachedSessionManagerIntegrationTest tearDown MemcachedSessionManagerIntegrationTest java failure leads failing tests deprecated Embedded integration testing memcached session manager http code google memcached session manager working tomcat branch diverge master trunk Embedded newly introduced Tomcat
50360	Server socket bound Embedded invoked stopping Embedded tomcat server socket bound LISTEN test fails java File java IOException java net MalformedURLException java net ServerSocket java net UnknownHostException org apache catalina Context org apache catalina Engine org apache catalina Host org apache catalina LifecycleException org apache catalina LifecycleState org apache catalina connector Connector org apache catalina session StandardManager org apache catalina startup Embedded org testng org testng annotations Test SuppressWarnings deprecation TestEmbeddedStop Test testShutdown Exception port Embedded tomcat createCatalina port tomcat start tomcat ServerSocket port IOException fail open server socket port port Embedded createCatalina port MalformedURLException UnknownHostException LifecycleException Embedded catalina Embedded Override Workaround Embedded stopInternal sets STARTING STOPPING stopInternal LifecycleException stopInternal setState LifecycleState STOPPING Engine engine catalina createEngine engine setName engine port engine setDefaultHost localhost String docBase System getProperty java tmpdir Host host catalina createHost localhost docBase engine addChild host Context context catalina createContext webapp host addChild context File docBase webapp mkdirs context setManager StandardManager catalina addEngine engine engine setService catalina needed prevent NPE ApplicationContext populateSessionTrackingModes Connector connector catalina createConnector localhost port catalina addConnector connector catalina org apache catalina connector Connector stopInternal changed sets LifecycleState DESTROY works expected server socket closed free
50408	Scoped variable methodexpression treated Object forEach items pageContext response headerNames forEach items pageContext response getHeaders forEach forEach String proves getHeaders call org apache jasper JspELException test jsp pageContext response getHeaders java lang NoSuchMethodException org apache catalina connector ResponseFacade getHeaders java lang Object NoSuchMethodException suggests Object passed argument set test pageContext response getHeader works fine Glassfish
50411	invalid sessions removed PersistenManager store ChangeSet StandardSession longer remove sessions PersistentManger store PersistentMangerBase override method remove Session session update longer method remove Session session
50448	StandardSession expire IllegalStateException getCreationTime Session invalidated verifying issue expired sessions processExpires Dec org apache catalina core ContainerBase backgroundProcess WARNING Exception processing manager javakaffee web msm MemcachedBackupSessionManager background process java lang IllegalStateException getCreationTime Session invalidated org apache catalina session StandardSession getCreationTime StandardSession java org apache catalina session ManagerBase remove ManagerBase java org apache catalina session StandardSession expire StandardSession java org apache catalina session StandardSession isValid StandardSession java org apache catalina session ManagerBase processExpires ManagerBase java org apache catalina session ManagerBase backgroundProcess ManagerBase java javakaffee web msm MemcachedBackupSessionManager backgroundProcess MemcachedBackupSessionManager java org apache catalina core ContainerBase backgroundProcess ContainerBase java AFAICS MemcachedBackupSessionManager override remove Session session update calling remove session invalid sessions option change StandardSession expire StandardSession java invoke manager remove manager remove change ManagerBase remove ManagerBase java invoke session getCreationTimeInternal skips validation Cheers Martin
50503	Engine level Clustering work correctly web application version Engine level clustering cluster manager HostName contextName SimpleTcpCluster getManagerName String Manager String getManagerName String Manager manager String clusterName clusterName clusterName manager getContainer getName getContainer Engine Container context manager getContainer context context Context Container host Context context getParent host host Host clusterName clusterName indexOf clusterName host getName clusterName clusterName method clusterName indexOf checked context contextName version web application version cluster manager doesn format HostName contextName result Engine level Clustering doesn work correctly
50535	Support resources serving WEB INF classes META INF resources directory Servlet introduced feature serve files META INF resources directory specification demands support META INF resources jar file WEB INF lib directory Tomcat passes requirement serves files jar WEB INF classes Glassfish supports type locations nice Tomcat support
50541	JNDIRealm support configuring LDAP sizeLimit countLimit SearchControls Today enabling application LDAP authentication Active Directory discovered completely correct LDAP Realm configuration Tomcat side returns error time LDAP error code LdapErr DSID comment order perform operation successful bind completed connection data hours Googling experimenting referrals subtree search modes cetera network packet analysis problem caused LDAP sizeLimit set searches Tomcat closer inspection Tomcat source code dug http svn apache org repos asf tomcat trunk java org apache catalina realm JNDIRealm java code fragment method getUserBySearch DirContext context String username String attrIds Set search controls SearchControls constraints SearchControls userSubtree constraints setSearchScope SearchControls SUBTREE SCOPE constraints setSearchScope SearchControls ONELEVEL SCOPE attributes retrieved attrIds attrIds String constraints setReturningAttributes attrIds NamingEnumeration SearchResult context search userBase filter constraints http tomcat apache org tomcat doc realm howto html JNDIRealm customize search controls search scope returning attributes XML configuration javax naming directory SearchControls LDAP sizeLimit determined countLimit property http download oracle javase docs api javax naming directory SearchControls html setCountLimit propose create configuration attribute Realm XML element enable setting limit naming sizeLimit countLimit Java property LDAP people term adding timeLimit measured milliseconds attribute nice set entries sizeLimit seconds timeLimit Realm className org apache catalina realm JNDIRealm debug connectionURL ldap localhost userPattern uid people mycompany sizeLimit timeLimit
50554	Bad getClass lead concurrency bugs method org apache naming java javaURLContextFactory getInitialContext Hashtable block getClass getClass lock bug pattern subclasses javaURLContextFactory getInitialContext called instance subclass getClass object instance Locking objects classes expected behavior remove bug pattern simply replacing getClass javaURLContextFactory https securecoding cert org confluence display java LCK synchronize object returned getClass bug pattern Keshmesh https github reprogrammer keshmesh Eclipse plugin analyzes source code Java programs detect concurrency bug patterns reported
50582	Small JSPs set Content Length chunked encoding AccessLogValve configured Reported thread users http markmail org thread awcu ler jjok Steps reproduce Create JSP simple jsp Send request simple jsp HTTP Host localhost Alive Connection alive Expected response Tomcat HTTP Server Apache Coyote Set Cookie JSESSIONID AFC Path HttpOnly Content Type text html charset ISO Content Length Thu Jan GMT Actual response Tomcat HTTP Server Apache Coyote Set Cookie JSESSIONID DBAC BBF FBE Path HttpOnly Content Type text html charset ISO Transfer Encoding chunked Thu Jan GMT Investigation place breakpoint AbstractHttp Processor prepareResponse contentLength response getContentLengthLong returns call stack Daemon Thread http bio exec Suspended Response getContentLengthLong Http Processor AbstractHttp Processor prepareResponse Http Processor AbstractHttp Processor action ActionCode Object Response action ActionCode Object Response sendHeaders OutputBuffer doFlush OutputBuffer flush Response getBytesWritten AccessLogValve ByteSentElement addElement StringBuilder Request Response AccessLogValve log Request Response AccessLogValve invoke Request Response StandardEngineValve invoke Request Response CoyoteAdapter service Request Response Http Processor process SocketWrapper Socket Http Protocol Http ConnectionHandler process SocketWrapper Socket SocketStatus Http Protocol Http ConnectionHandler process SocketWrapper Socket JIoEndpoint SocketProcessor ThreadPoolExecutor Worker runTask Runnable ThreadPoolExecutor Worker TaskThread Thread Note OutputBuffer flush call remove AccessLogValve configuration response getContentLengthLong call returns expected call stack Daemon Thread http bio exec Suspended Http Processor AbstractHttp Processor prepareResponse Http Processor AbstractHttp Processor action ActionCode Object Response action ActionCode Object Response sendHeaders OutputBuffer doFlush OutputBuffer close Response finishResponse CoyoteAdapter service Request Response Http Processor process SocketWrapper Socket Http Protocol Http ConnectionHandler process SocketWrapper Socket SocketStatus Http Protocol Http ConnectionHandler process SocketWrapper Socket JIoEndpoint SocketProcessor ThreadPoolExecutor Worker runTask Runnable ThreadPoolExecutor Worker TaskThread Thread returned response getContentLengthLong set explicitly content length header stack trace includes OutputBuffer close call sets length response coyoteResponse setContentLength getLength regression triggered flushing AccessLogValve asks count bytes written introduced implementing
50591	NPE ReplicationValve reported users list http tomcat markmail org thread rnbj gbkevzb SEVERE Unable perform replication request java lang NullPointerException org apache catalina tcp ReplicationValve isRequestWithoutSessionChange ReplicationValve java occur ReplicationValve filter attribute empty
50597	newInstance Dynamic instance filters causing InstantiationException newInstance called method ServletContext addFilter method called javax servlet FilterRegistration Dynamic addFilter java lang String javax servlet Filter filter leads InstantiationException runtime args constructor filter pasted supply simple patch fixes issue SEVERE Exception starting filter testFilter java lang InstantiationException test TestFilter java lang newInstance java java lang newInstance java org apache catalina core DefaultInstanceManager newInstance DefaultIn stanceManager java org apache catalina core ApplicationFilterConfig getFilter Applicatio nFilterConfig java org apache catalina core ApplicationFilterConfig setFilterDef Applica tionFilterConfig java org apache catalina core ApplicationFilterConfig init ApplicationFi lterConfig java org apache catalina core StandardContext filterStart StandardContext java org apache catalina core StandardContext call StandardContext java org apache catalina core StandardContext call StandardContext java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
50598	Sample build xml wrong manager url http tomcat apache org tomcat doc appdev build xml txt referenced http tomcat apache org tomcat doc appdev processes html sample manager url http localhost manager http localhost manager text
50601	Redundant checks equals Created attachment details Patch remove checks instances code equals methods obj obj SomeClass check redundant fail check
50629	bindThread unbindThread method latest Tomcat codes thread created listener start filter start loadOnStartup methods bindThread unbindThread marked making methods containers methods initialization works
50648	RpcChannel improvements Created attachment details svn diff enhancement proposal addresses separate issues RpcChannel tribes component minor bug InterruptedException clause call Thread interrupted opposed Thread interrupt RpcChannel API user registers RpcCallback notified communication events callback method sending response message fails proposal includes addition callback cases ensure compatibility additional callback method declared RpcCallback named RpcCallback time tribes classes loaded tomcat loader messages tribes instances classes defined webapp attemps deserialize fail AbstractReplicatedMap includes mechanism API user loaders deserializing map entries enhancement proposal includes mechanism RpcChannel find proposed modifications attached
50667	Tribes RpcChannel Add callback cases error occured sending reply call RpcChannel API user registers RpcCallback notified communication events callback method sending response message fails entry proposes addition callback method cases CAVEAT proposal modifies RpcCallback RpcCallback implemented tomcat classes EchoRpcTest org apache catalina tribes demos AbstractReplicatedMap ReplicatedMap LazyReplicatedMap org apache catalina tribes tipis attached patch include implementation additional method classes coder feel qualified implemented simply NOOPs
50679	FarmDeployer doesn support parallel deployment Version Tomcat Component Catalina Windows bit Overview Parallel deployment works charm clustered environment deploying versioned app APPNAME VERSION war farm deployer directory filename encoding delimiter translated correctly identify war file file system translated Reproduce Create version app file Deploy file watched farm deployer directory Expected result Versioned app copyied cluster members deployed Actual result Versioned app copyied cluster members catalina log displays error messages ContainerBackgroundProcessor StandardEngine Catalina INFO org apache catalina deploy FarmWarDeployer Installing webapp Shop Apache Tomcat cluster webapps Shop war ContainerBackgroundProcessor StandardEngine Catalina INFO org apache catalina deploy FarmWarDeployer Cluster wide remove web app Shop ContainerBackgroundProcessor StandardEngine Catalina ERROR org apache catalina deploy FarmWarDeployer Unable install WAR file java FileNotFoundException Apache Tomcat cluster webapps Shop war Das System kann die angegebene Datei nicht finden java FileInputStream open Method java FileInputStream init FileInputStream java org apache catalina deploy FileMessageFactory init FileMessageFactory java org apache catalina deploy FileMessageFactory getInstance FileMessageFactory java org apache catalina deploy FarmWarDeployer install FarmWarDeployer java org apache catalina deploy FarmWarDeployer fileModified FarmWarDeployer java org apache catalina deploy WarWatcher check WarWatcher java org apache catalina deploy FarmWarDeployer backgroundProcess FarmWarDeployer java org apache catalina tcp SimpleTcpCluster backgroundProcess SimpleTcpCluster java org apache catalina core ContainerBase backgroundProcess ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor ContainerBase java java lang Thread Thread java ContainerBackgroundProcessor StandardEngine Catalina INFO org apache catalina startup HostConfig Deploying web application archive Shop war Relevant configuration server xml Host sbwebapp appBase catalina base cluster webapps unpackWARs autoDeploy Cluster className org apache catalina tcp SimpleTcpCluster channelSendOptions Manager className org apache catalina session DeltaManager expireSessionsOnShutdown notifyListenersOnReplication stateTransferTimeout Channel className org apache catalina tribes group GroupChannel Membership className org apache catalina tribes membership McastService address port frequency dropTime Receiver className org apache catalina tribes transport nio NioReceiver address port autoBind selectorTimeout maxThreads Sender className org apache catalina tribes transport ReplicationTransmitter Transport className org apache catalina tribes transport nio PooledParallelSender Sender Interceptor className org apache catalina tribes group interceptors TcpFailureDetector Interceptor className org apache catalina tribes group interceptors MessageDispatch Interceptor Interceptor className org apache catalina tribes group interceptors ThroughputInterceptor Channel Valve className org apache catalina tcp ReplicationValve filter gif jpg png htm html css txt swf flv Valve className org apache catalina session JvmRouteBinderValve ClusterListener className org apache catalina session JvmRouteSessionIDBinderListener ClusterListener className org apache catalina session ClusterSessionListener Deployer className org apache catalina deploy FarmWarDeployer tempDir catalina base cluster temp deployDir catalina base cluster webapps watchDir catalina base cluster deploy watchEnabled Cluster Access log processes Documentation docs config valve html Note pattern equivalent pattern common Valve className org apache catalina valves AccessLogValve directory logs prefix ajp access suffix log pattern quot quot resolveHosts Host
50680	NPE TagFileProcessor tag file expanded directory jar Created attachment details Patch current trunk add check TagFileProcessor VirtualDirContext equivalent Web Tools Tomcat support expanded directory place jar file tag files directory META INF folder result NPE jarResource TldLocation
50683	Servlet annotations scanned unpackWars Created attachment details minimal test war source Overview simple HelloServlet WebServlet annotation packed war file web xml container scan annotations unpackWars Host element server xml servlet context Steps Reproduce Set unpackWars fase copy attached war file webapps launch Tomcat navigate http servername SayHello Actual HTTP Status SayHello type Status report message SayHello description requested resource SayHello Apache Tomcat Expected
50709	org apache catalina core ApplicationContextFacade org apache catalina core ApplicationContextFacade subclassed extend ApplicationContextFacade Mobicents Sip Servlet working top Tomcat integrate Weld George
50713	roles command doesn work Created attachment details patch context xml Manager application Manager application roles command list security role names command doesn work correctly roles command returns message FAIL resolve user database reference Exception SEVERE Manager java comp env users javax naming NamingException create resource instance org apache naming factory ResourceEnvFactory getObjectInstance ResourceEnvFactory java javax naming spi NamingManager getObjectInstance NamingManager java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming SelectorContext lookup SelectorContext java javax naming InitialContext lookup InitialContext java org apache catalina manager ManagerServlet roles ManagerServlet java org apache catalina manager ManagerServlet doGet ManagerServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Tomcat issue workaround issue add ResourceLink context xml Manager application patch issue
50720	jsp mapped servlet web xml cyrillic characters allowed web xml Created attachment details Simple test web application web xml simplest incomlete form note making Servlet API compliant xml version encoding Windows web app word testing Testoviy cyrillic symbols display Ð¢ÐµÑ Ñ‚Ð¾Ð²Ñ‹Ð¹ web xml display servlet servlet TestJSPMount servlet jsp file test jsp jsp file servlet servlet mapping servlet TestJSPMount servlet url pattern test html url pattern servlet mapping web app startup tomcat exception StandardContext loadOnStartup Servlet testcyrwebxml threw load exception sun org apache xerces internal impl MalformedByteSequenceException Invalid UTF sequence sun org apache xerces internal impl UTF Reader invalidByte Unknown Source sun org apache xerces internal impl UTF Reader read Unknown Source sun org apache xerces internal impl XMLEntityScanner load Unknown Source sun org apache xerces internal impl XMLEntityScanner peekChar Unknown Source sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver Unknown Source sun org apache xerces internal impl XMLDocumentScannerImpl Unknown Source sun org apache xerces internal impl XMLNSDocumentScannerImpl Unknown Source sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument Unknown Source sun org apache xerces internal parsers XML Configuration parse Unknown Source sun org apache xerces internal parsers XML Configuration parse Unknown Source sun org apache xerces internal parsers XMLParser parse Unknown Source sun org apache xerces internal parsers DOMParser parse Unknown Source sun org apache xerces internal jaxp DocumentBuilderImpl parse Unknown Source org apache jasper xmlparser ParserUtils parseXMLDocument ParserUtils java org apache jasper compiler JspConfig processWebDotXml JspConfig java org apache jasper compiler JspConfig init JspConfig java org apache jasper compiler JspConfig findJspProperty JspConfig java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet init JspServlet java org apache catalina core StandardWrapper initServlet StandardWrapper java org apache catalina core StandardWrapper loadServlet StandardWrapper java org apache catalina core StandardWrapper load StandardWrapper java org apache catalina core StandardContext loadOnStartup StandardContext java org apache catalina core StandardContext call StandardContext java org apache catalina core StandardContext call StandardContext java java util concurrent FutureTask Sync innerRun Unknown Source java util concurrent FutureTask Unknown Source java util concurrent ThreadPoolExecutor Worker runTask Unknown Source java util concurrent ThreadPoolExecutor Worker Unknown Source java lang Thread Unknown Source Platform Tomcat binary windows release JDK Windows change encoding web xml UTF problem ISO characters early initialization sequence jsp mapped servlet
50721	RequestUtil URLDecode IllegalArgumentException URLs Code character calling org apache catalina util RequestUtil URLDecode valid URL Code method IllegalArgumentException character hexademical digits Code URL works fine URLs normal characters RequestUtil URLDecode http localhost webdav test UTF fails RequestUtil URLDecode http localhost webdav test UTF works fine problem test revision len incremented reading current character test fails fail Simple replaced len change side effects checked iteration change trivial include patch Christof
50780	AjpConnectionHandler connections causing memory leak english Tomcat APR noticed heap dump org apache tomcat util net SocketWrapper objects connections atribute org apache coyote ajp AjpAprProtocol AjpConnectionHandler object don understand objects representing connections active objects created days Tomcat work forgotten clean HashMap time time Sergiusz Brzezinski
50789	custom error CDI weld problem Created attachment details test CDI weld custom error testcase attached Build mvn install deploy html links jsf visit url displayed correctly provoking display tomcat stacktrace Feb org apache catalina core ApplicationDispatcher invoke SEVERE Servlet service servlet Faces Servlet threw exception java lang IllegalStateException call associate calling activate org jboss weld context AbstractConversationContext activate AbstractConversationContext java org jboss weld jsf WeldPhaseListener activateConversations WeldPhaseListener java org jboss weld jsf WeldPhaseListener beforePhase WeldPhaseListener java sun faces lifecycle Phase handleBeforePhase Phase java sun faces lifecycle Phase doPhase Phase java sun faces lifecycle RestoreViewPhase doPhase RestoreViewPhase java sun faces lifecycle LifecycleImpl execute LifecycleImpl java javax faces webapp FacesServlet service FacesServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java org apache catalina core StandardHostValve custom StandardHostValve java org apache catalina core StandardHostValve status StandardHostValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http AprProcessor process Http AprProcessor java org apache coyote http Http AprProtocol Http ConnectionHandler process Http AprProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Feb org apache catalina core StandardHostValve custom SEVERE Exception Processing ErrorPage errorCode location jsf javax servlet ServletException call associate calling activate javax faces webapp FacesServlet service FacesServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java org apache catalina core StandardHostValve custom StandardHostValve java org apache catalina core StandardHostValve status StandardHostValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http AprProcessor process Http AprProcessor java org apache coyote http Http AprProtocol Http ConnectionHandler process Http AprProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang IllegalStateException call associate calling activate org jboss weld context AbstractConversationContext activate AbstractConversationContext java org jboss weld jsf WeldPhaseListener activateConversations WeldPhaseListener java org jboss weld jsf WeldPhaseListener beforePhase WeldPhaseListener java sun faces lifecycle Phase handleBeforePhase Phase java sun faces lifecycle Phase doPhase Phase java sun faces lifecycle RestoreViewPhase doPhase RestoreViewPhase java sun faces lifecycle LifecycleImpl execute LifecycleImpl java javax faces webapp FacesServlet service FacesServlet java tomcat java windows issue reminds https issues apache org bugzilla bug cgi issue CDI weld login login failed form authentication
50790	parser dynamic String containes CharSequence resolved correctly situation span facesContext externalContext request requestURI item url activepage template item labelKey span Exception javax ELException faces template mainLayout xhtml java lang NoSuchMethodException java lang String java lang String sun faces facelets compiler AttributeInstruction write AttributeInstruction java sun faces facelets compiler UIInstructions encodeBegin UIInstructions java sun faces renderkit html basic HtmlBasicRenderer encodeRecursive HtmlBasicRenderer java sun faces renderkit html basic OutputLinkRenderer encodeChildren OutputLinkRenderer java javax faces component UIComponentBase encodeChildren UIComponentBase java javax faces component UIComponent encodeAll UIComponent java sun faces facelets component RepeatRenderer encodeChildren RepeatRenderer java sun faces facelets component UIRepeat process UIRepeat java sun faces facelets component UIRepeat encodeChildren UIRepeat java javax faces component UIComponent encodeAll UIComponent java javax faces render Renderer encodeChildren Renderer java javax faces component UIComponentBase encodeChildren UIComponentBase java javax faces component UIComponent encodeAll UIComponent java javax faces component UIComponent encodeAll UIComponent java javax faces component UIComponent encodeAll UIComponent java sun faces application view FaceletViewHandlingStrategy renderView FaceletViewHandlingStrategy java sun faces application view MultiViewHandler renderView MultiViewHandler java ocpsoft pretty faces application PrettyViewHandler renderView PrettyViewHandler java sun faces lifecycle RenderResponsePhase execute RenderResponsePhase java sun faces lifecycle Phase doPhase Phase java sun faces lifecycle LifecycleImpl render LifecycleImpl java javax faces webapp FacesServlet service FacesServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java reardeninc tigris facesutil FacesFilter doFilter FacesFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org primefaces webapp filter FileUploadFilter doFilter FileUploadFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java ocpsoft pretty PrettyFilter doFilter PrettyFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang NoSuchMethodException java lang String java lang String java lang getMethod java javax BeanELResolver invoke BeanELResolver java javax CompositeELResolver invoke CompositeELResolver java org apache parser AstValue getValue AstValue java org apache parser AstChoice getValue AstChoice java org apache ValueExpressionImpl getValue ValueExpressionImpl java sun faces facelets ELText ELTextVariable toString ELText java sun faces facelets compiler AttributeInstruction write AttributeInstruction java
50802	Deviation servlet spec resource lookup META INF resources Created attachment details test application reproduce extract deploy war query root URL system evidence standard deviating behavior writing ZeroTurnaround building JRebel integration containers aiming implement servlet standard stumbled bug implementation core servlet standard major issue integration copy pasting fragment reference javadoc servlet spec method ServletContext getResourcePaths SPEC START web application html catalog html catalog products html catalog offers books html catalog offers music html customer login jsp WEB INF web xml WEB INF classes acme OrderServlet WEB INF lib catalog jar META INF resources catalog moreOffers books html getResourcePaths html catalog customer WEB INF getResourcePaths catalog catalog html catalog products html catalog offers catalog moreOffers SPEC test application discover Tomcat doesn respect standard getResourcesPath catalog catalog moreOffers embedded jars web fragments importantly folder coming solely jar META INF resources wouldn listed getResourcePaths note issues frameworks rely scanning techniques recursive resource lookup tested Tomcat problems Btw received problems users latest glassfish version tomcat problems lot
50826	Embedded Tomcat destroy java lang IllegalArgumentException Embedded Tomcat exception calling destroy method java lang IllegalArgumentException source java util EventObject init EventObject java javax management Notification init Notification java org apache catalina core StandardContext destroyInternal StandardContext java org apache catalina util LifecycleBase destroy LifecycleBase java org apache catalina core ContainerBase removeChild ContainerBase java org apache catalina core ContainerBase destroyInternal ContainerBase java org apache catalina util LifecycleBase destroy LifecycleBase java org apache catalina core ContainerBase removeChild ContainerBase java org apache catalina core ContainerBase destroyInternal ContainerBase java org apache catalina util LifecycleBase destroy LifecycleBase java org apache catalina core StandardService destroyInternal StandardService java org apache catalina util LifecycleBase destroy LifecycleBase java org apache catalina core StandardServer destroyInternal StandardServer java org apache catalina util LifecycleBase destroy LifecycleBase java org apache catalina startup Tomcat destroy Tomcat java msk jet nioproxy rule config EmbeddedWebserver EmbeddedWebserver java StandardContext destroyInternal misses check getObjectName
50836	LifecycleState isAvailable restrictive values returned LifecycleState isAvailable wrong DESTROY stopped STOPPING PREP FAILED STARTING early result complete list isAvailable STARTED
50903	Current alive request processed connector connector stopped connection alive request received connection processed connection closed request received rejected Outstanding questions code client reading request starts connector stopped request allowed complete rejected
50927	patch specific error message missing SSLCertificateFile Created attachment details Patch check report error SSL APR missing SSLCertificateFile attribute cryptic message code patch checks attribute calling code reports specific error
50928	patch JSSESocketFactory wrong password KeyManagerFactory init Created attachment details Patch problem JSSESocketFactory keyPass calling KeyManagerFactory init Attached patch fixes error handling keyPass keyStorePass defaults AbstractEndPoint Patch fixes clause ensure exception reported
50929	patch Ensure rethrown exceptions retain original Created attachment details Patch problem files exception caught rethrown helps provide original exception
50957	Blocking serve wrong response data Tomcat Windows Server Compression enabled HTTP HTTPS connectors standard blocking HTTP period days moderate traffic Tomcat occasionally serve incorrect responses request Incorrect responses span variety behaviors Serving javascript file HTML Image Serving wrong image Serving css file HTML javascript file Image behavior observed HTTP HTTPS observation wrong response served response requested random behavior detected WebScarab proxy monitor entire Browser Tomcat conversation confirm scenario ImageA gif ImageB gif file size ETAG ImageB gif returned ImageA gif ImageA gif ETAG headers binary content content size report corroborates report discovered wild http apacheserver net Tomcat serving wrong content report person requested received image reproduction steps identified trigger condition reporter noticed Tomcat serve traffic period condition established seemingly random occurs happen disable caching reloading image heavy obvious misplaced images debugging proxy verify incorrect content served Switching NIO appears bypass problem NIO exhibit behavior reporter restarting Tomcat clear condition hypothesis condition Tomcat Blocking series pipelined requests images css spawned confused swapped responses duplicated responses output buffer clobbered Based Http Processor pipelined requests constrained Socket risk swapping responses users unknown bug deliberately exploited Needless server serving incorrect content justifies severity rating recommend BIO Production environment time
50984	Manager application fails report stranded artifacts undeploying NOTE tomcat version choice file suspect bug Scenario tomcat starts user manager application place configured deploy automatically user copies webapp tree CATALINA webapps write execute access directory manager webapp called deploy web application credentials deployed webapp directory changed user remove webapp manager webapp called undeploy application BUG answers manager webapp documentation explicitly undeploying application webapp tree removed isn CATALINA webapps symlink lib tomcat installs manager webapp running initially tomcat cockpit wget http user tomcat http password tomcat http localhost manager text list sed manager running usr share tomcat webapps manager webapp tree created deploying application tomcat cockpit wget http user tomcat http password tomcat http localhost manager text deploy path cockpit war file lib tomcat installs cockpit Deployed application context path cockpit terminal root tomcat installs pwd lib tomcat installs files created umask change owner root tomcat installs chown root root cockpit terminal tomcat cockpit wget http user tomcat http password tomcat http localhost manager text undeploy path cockpit Undeployed application context path cockpit bug command returns tree exists webapp stopped undeployed tomcat cockpit wget http user tomcat http password tomcat http localhost manager text list sed manager running usr share tomcat webapps manager cockpit stopped cockpit Listing contents CATALINA webapps tree tomcat cockpit lib tomcat installs cockpit documentation WARNING command delete web application artifacts exist appBase directory typically webapps virtual host delete application WAR application directory deploy unpacked form WAR expansion XML Context definition CATALINA BASE conf enginename hostname directory turns application stopped web application artifacts removed undeploy command failed FAIL context stopped articats remain check access rights logs don mention webapp tree failed removed chown webapp tree rightful owner webapp undeployed intended artifacts destroyed culprit code org apache catalina manager ManagerServlet java methods undeploy undeployDir delete method File objects fail check code
50991	Data source closed contextDestroyed executed tomcat ServletContextListener contextDestroyed method database update clean table tomcat error shutdown tomcat Mar org apache catalina core ApplicationContext log INFO ContextListener contextDestroyed Mar org apache catalina core StandardContext listenerStop SEVERE Exception sending context destroyed event listener instance org ycmi listeners contextListener java lang RuntimeException java sql SQLException Data source closed org ycmi prot ypresults dbUtils update dbUtils java org ycmi listeners contextListener contextDestroyed contextListener java DataSource closed contextDestroyed clean wasn problem tomcat Mark Thomas https issues apache org bugzilla bug cgi
50997	StandardJarScanner ignores web fragment xml files unpacked jars jar Created attachment details directories classpath jar eclipse sysdeo tomcat plugin eclipse add target build directories eclipse tomcat classpath works fine decided web fragment functionality failed work config JarScanner scanAllDirectories fixed problem attached proposed patch
51038	access logs Servlet async requests Access logs written org apache catalina valves AccessLogValve written servlet async requests reproduce Handle request asynchronously marking servlet WebServlet asyncSupported Send traffic notice written access logs AccessLogValve log called org apache catalina Context logAccess source version org apache catalina connector CoyoteAdapter java AsyncContextImpl asyncConImpl AsyncContextImpl request getAsyncContext asyncConImpl async comet response finishResponse postParseSuccess Log processing invoked postParseRequest failed logged Context request getMappingData context logAccess request response System currentTimeMillis req getStartTime req action ActionCode POST REQUEST async logAccess isn called searched code don logAccess called error cases async missing call logAccess
51095	NPE AprEndpoint java Created attachment details Patch AprEndpoint java OVERVIEW versions Tomcat including Trunk running APR SSL site accessed improper SSL handshake SEVERE NullPointerException logged catalina STEPS REPRODUCE pretty easy test type curl http localhost port SSL running Tomcat ACTUAL catalina stack trace error message Apr org apache coyote http Http AprProtocol Http ConnectionHandler process SEVERE Error reading request java lang NullPointerException org apache coyote http Http AprProcessor process Http AprProcessor java org apache coyote http Http AprProtocol Http ConnectionHandler process Http AprProtocol java org apache tomcat util net AprEndpoint SocketWithOptionsProcessor AprEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Exception thread http apr exec java lang NullPointerException org apache tomcat util net AprEndpoint SocketWithOptionsProcessor AprEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java EXPECTED expected behavior Tomcat generate NullPointerException improperly accesses SSL port BUILD INFO latest subversion trunk attached patch fixes
51099	SPNEGO loginConfigName work reported fhanik dev list sun security jgss krb accept configurable authenticator attribute loginConfigName place code omits entry renaming entry jaas conf setting loginConfigName fail validate ticket problem code gssContext manager createContext manager createCredential GSSCredential LIFETIME Oid GSSCredential ACCEPT GSSManager manager GSSManager getInstance PrivilegedExceptionAction GSSCredential action PrivilegedExceptionAction GSSCredential GSSCredential GSSException manager createCredential GSSCredential LIFETIME Oid GSSCredential ACCEPT gssContext manager createContext Subject doAs getSubject action Filip
51136	set context Tomcat embeded adding host org apache catalina startup Tomcat creates contexts add host nice set context adding host including patch overloads methods addWebapp addContext parameter
51154	Spurious deprecated tags ServletContext Created attachment details Remove spurious tags spurious deprecated tags ServletContext
51155	Missing deprecated comments Created attachment details Patch add missing comments deprecated tags tags deprecation replacement
51197	sendError sendRedirect don work AsyncContext reason response sendRedirect response sendError producing expected behavior AsyncContext server side async request completes hunky dory client response server appears Tomcat simply times seconds closes connection headers returned content confirmed thread dumps server isn stuck response setStatus response setHeader works absolutely fine client response time simple test isolates issue reliably https github dcheckoway async test README details NOTE behavior sendError changed sendError close connection client response kind
51226	Patch add FindLeaks ant task ant task FindLeaks
51229	async examples work correctly Created attachment details patch async examples Async code befind complete executed StockTicker link StockTicker wrong
51240	maxConnections honors config acceptorThreadCount acceptorThreadCount maxConnections honors config BIO NIO connector don test config Executor tomcatThreadPool namePrefix catalina exec maxThreads minSpareThreads Connector port protocol org apache coyote http Http Protocol URIEncoding ISO enableLookups acceptorThreadCount executor tomcatThreadPool acceptCount maxConnections Connector port protocol org apache coyote http Http NioProtocol URIEncoding ISO enableLookups acceptorThreadCount executor tomcatThreadPool acceptCount maxConnections test config Test acceptorThreadCount http localhost netstat atn grep grep ESTABLISHED range connections acceptable number Test acceptorThreadCount http localhost netstat atn grep grep ESTABLISHED connections OOPS Logs traces socket closes catalina org apache tomcat util net AbstractEndpoint countDownConnection WARNING Incorrect connection count multiple socket close called socket catalina
51251	Patch add version parameter ant task Created attachment details add version support Add version parameter support ant tasks StartTask StopTask ReloadTask UndeployTask SessionsTask idle parameter
51264	Context Manager Store configuration proposal Persistent Store Store element reference database link defined globalnamingresources required xml version encoding UTF Context path App docbase App reloadable crossContext debug Manager className org apache catalina session PersistentManager distributable maxIdleBackup Store className org apache catalina session JDBCStore connectionURL jdbc oracle thin username password servername port schema driverName oracle jdbc OracleDriver sessionAppCol app sessionDataCol session data sessionIdCol session sessionLastAccessedCol access sessionMaxInactiveCol max inactive sessionTable tomcat sessions sessionValidCol valid session Manager ResourceLink global jdbc dbName jdbc dbName type javax sql DataSource Context couldnâ€™t tomcat accept xml version encoding UTF Context path App docbase App reloadable crossContext debug Manager className org apache catalina session PersistentManager distributable maxIdleBackup Store className org apache catalina session JDBCStore resourceLink jdbc dbName resourceType javax sql DataSource sessionAppCol app sessionDataCol session data sessionIdCol session sessionLastAccessedCol access sessionMaxInactiveCol max inactive sessionTable tomcat sessions sessionValidCol valid session Manager ResourceLink global jdbc dbName jdbc dbName type javax sql DataSource Context application developer username password production database server packaged war file
51276	Startup time high JARs lib webapps Startup time tomcat higher shared JARs tomcat lib webapps issue simple reproduce simply add empty directories tomcat webapps Metro webservices jars tomcat lib machine startup time increase secs installation secs tomcat startup time secs machine test
51277	NPE form authentication form login config missed Created attachment details Log browser NPE form authentication form login config missed missed form login config mistake converted BASIC login config method FORM method realm Tomcat Manager Application realm login config NPE attached understand Form authentication work NPE bad output HTTP Michael java lang NullPointerException org apache catalina authenticator FormAuthenticator forwardToLoginPage FormAuthenticator java org apache catalina authenticator FormAuthenticator authenticate FormAuthenticator java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
51278	Unable override servlet main web xml web xml merged application web xml processing fragments annotations ServletContextInitializers overridden application web xml override fragments annotations ServletContextInitializers
51294	work option unpackWARs WARs appBase Changelog Don unpack WAR files located Host appBase markt change method deployment older versions Tomcat forced change logics early configured servers add parameter unpackExternalWARs configure WARs worse
51310	Connector destroyInternal Execution Tomcat Connector destroyInternal method called server shutdown NIOBlockingSelector close called bug
51324	OutputBuffer doFlush Exception doFlush stuck Created attachment details doFlush stuck exception time opening bug forgive report isn perfect issue OutputBuffer doFlush stuck OutputBuffer doFlush sets doFlush calls flushBuffer sets doFlush issue flushBuffer eventually calls OutputBuffer realWriteBytes realWriteBytes eventually calls coyoteResponse doWrite coyoteResponse doWrite IOException rethrows ClientAbortException client disconnecting early causing doWrite SocketException Broken pipe broken pipe ClientAbortException thrown thrown error bubbled doFlush stuck time processor calls recycle method OutputBuffer recycle doesn reset doFlush set imagine ways obvious mind recycle set doFlush OutputBuffer doFlush doFlush set Exception
51340	Intermittent java lang IllegalArgumentException session config element limited occurrence Eclipse Virgo build failed stack trace haven problem user vanilla Tomcat hit problem Tomcat raising bug record identify pattern usage ultimately lead solution bug JRE XML processing Environment Java bit Sun Sles Tomcat embedded development version Eclipse Virgo http mail archives apache org mod mbox tomcat users mbox EDFE MAILSERV hcrest ERROR start signalling System err Jun org apache tomcat util digester Digester startElement ERROR start signalling System err SEVERE event threw exception ERROR start signalling System err java lang IllegalArgumentException session config element limited occurrence ERROR start signalling System err org apache catalina startup SetSessionConfig WebRuleSet java ERROR start signalling System err org apache tomcat util digester Digester startElement Digester java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser startElement AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XMLParser parse XMLParser java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java ERROR start signalling System err org apache tomcat util digester Digester parse Digester java ERROR start signalling System err org apache catalina startup ContextConfig parseWebXml ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig webConfig ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig configureStart ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig lifecycleEvent ContextConfig java ERROR start signalling System err org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java ERROR start signalling System err org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java ERROR start signalling System err org apache catalina core StandardContext startInternal StandardContext java ERROR start signalling System err org apache catalina util LifecycleBase start LifecycleBase java ERROR start signalling System err org apache catalina core ContainerBase addChildInternal ContainerBase java ERROR start signalling System err org apache catalina core ContainerBase addChild ContainerBase java ERROR start signalling System err org apache catalina core StandardHost addChild StandardHost java ERROR start signalling System err org eclipse gemini web tomcat internal TomcatServletContainer startWebApplication TomcatServletContainer java ERROR start signalling System err org eclipse gemini web internal StandardWebApplication start StandardWebApplication java ERROR start signalling System err org eclipse virgo web core internal WebBundleLifecycleListener onStarted WebBundleLifecycleListener java ERROR start signalling System err org eclipse virgo kernel install artifact internal StandardArtifactStateMonitor onStarted StandardArtifactStateMonitor java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact asyncStartSucceeded AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact access AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact StateMonitorSignal signalSuccessfulCompletion AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel core internal BundleStartTracker BundleStartTracker java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java ERROR start signalling System err java lang Thread Thread java ERROR start signalling System err Jun org apache catalina startup ContextConfig parseWebXml ERROR start signalling System err SEVERE Parse error application web xml file file opt users hudsonbuild workspace virgo web server snapshot org eclipse virgo server smoketest target test expanded virgo tomcat server work org eclipse virgo kernel deployer staging global bundle org eclipse gemini web tomcat BUILD org eclipse gemini web tomcat BUILD jar conf web xml ERROR start signalling System err java lang IllegalArgumentException session config element limited occurrence ERROR start signalling System err org apache tomcat util digester Digester createSAXException Digester java ERROR start signalling System err org apache tomcat util digester Digester createSAXException Digester java ERROR start signalling System err org apache tomcat util digester Digester startElement Digester java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser startElement AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XMLParser parse XMLParser java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java ERROR start signalling System err org apache tomcat util digester Digester parse Digester java ERROR start signalling System err org apache catalina startup ContextConfig parseWebXml ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig webConfig ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig configureStart ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig lifecycleEvent ContextConfig java ERROR start signalling System err org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java ERROR start signalling System err org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java ERROR start signalling System err org apache catalina core StandardContext startInternal StandardContext java ERROR start signalling System err org apache catalina util LifecycleBase start LifecycleBase java ERROR start signalling System err org apache catalina core ContainerBase addChildInternal ContainerBase java ERROR start signalling System err org apache catalina core ContainerBase addChild ContainerBase java ERROR start signalling System err org apache catalina core StandardHost addChild StandardHost java ERROR start signalling System err org eclipse gemini web tomcat internal TomcatServletContainer startWebApplication TomcatServletContainer java ERROR start signalling System err org eclipse gemini web internal StandardWebApplication start StandardWebApplication java ERROR start signalling System err org eclipse virgo web core internal WebBundleLifecycleListener onStarted WebBundleLifecycleListener java ERROR start signalling System err org eclipse virgo kernel install artifact internal StandardArtifactStateMonitor onStarted StandardArtifactStateMonitor java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact asyncStartSucceeded AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact access AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact StateMonitorSignal signalSuccessfulCompletion AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel core internal BundleStartTracker BundleStartTracker java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java ERROR start signalling System err java lang Thread Thread java ERROR start signalling System err Caused java lang IllegalArgumentException session config element limited occurrence ERROR start signalling System err org apache catalina startup SetSessionConfig WebRuleSet java ERROR start signalling System err org apache tomcat util digester Digester startElement Digester java ERROR start signalling System err ERROR start signalling System err Jun org apache catalina startup ContextConfig parseWebXml ERROR start signalling System err SEVERE Occurred column ERROR start signalling System err Jun org apache tomcat util digester Digester startElement ERROR start signalling System err SEVERE event threw exception ERROR start signalling System err java lang IllegalArgumentException session config element limited occurrence ERROR start signalling System err org apache catalina startup SetSessionConfig WebRuleSet java ERROR start signalling System err org apache tomcat util digester Digester startElement Digester java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser startElement AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XMLParser parse XMLParser java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java ERROR start signalling System err org apache tomcat util digester Digester parse Digester java ERROR start signalling System err org apache catalina startup ContextConfig parseWebXml ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig webConfig ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig configureStart ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig lifecycleEvent ContextConfig java ERROR start signalling System err org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java ERROR start signalling System err org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java ERROR start signalling System err org apache catalina core StandardContext startInternal StandardContext java ERROR start signalling System err org apache catalina util LifecycleBase start LifecycleBase java ERROR start signalling System err org apache catalina core ContainerBase addChildInternal ContainerBase java ERROR start signalling System err org apache catalina core ContainerBase addChild ContainerBase java ERROR start signalling System err org apache catalina core StandardHost addChild StandardHost java ERROR start signalling System err org eclipse gemini web tomcat internal TomcatServletContainer startWebApplication TomcatServletContainer java ERROR start signalling System err org eclipse gemini web internal StandardWebApplication start StandardWebApplication java ERROR start signalling System err org eclipse virgo web core internal WebBundleLifecycleListener onStarted WebBundleLifecycleListener java ERROR start signalling System err org eclipse virgo kernel install artifact internal StandardArtifactStateMonitor onStarted StandardArtifactStateMonitor java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact asyncStartSucceeded AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact access AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact StateMonitorSignal signalSuccessfulCompletion AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel core internal BundleStartTracker BundleStartTracker java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java ERROR start signalling System err java lang Thread Thread java ERROR start signalling System err Jun org apache catalina startup ContextConfig parseWebXml ERROR start signalling System err SEVERE Parse error application web xml file file opt users hudsonbuild workspace virgo web server snapshot org eclipse virgo server smoketest target test expanded virgo tomcat server work org eclipse virgo kernel deployer staging global bundle org eclipse gemini web tomcat BUILD org eclipse gemini web tomcat BUILD jar conf web xml ERROR start signalling System err java lang IllegalArgumentException session config element limited occurrence ERROR start signalling System err org apache tomcat util digester Digester createSAXException Digester java ERROR start signalling System err org apache tomcat util digester Digester createSAXException Digester java ERROR start signalling System err org apache tomcat util digester Digester startElement Digester java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser startElement AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java ERROR start signalling System err sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XML Configuration parse XML Configuration java ERROR start signalling System err sun org apache xerces internal parsers XMLParser parse XMLParser java ERROR start signalling System err sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java ERROR start signalling System err sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java ERROR start signalling System err org apache tomcat util digester Digester parse Digester java ERROR start signalling System err org apache catalina startup ContextConfig parseWebXml ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig webConfig ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig configureStart ContextConfig java ERROR start signalling System err org apache catalina startup ContextConfig lifecycleEvent ContextConfig java ERROR start signalling System err org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java ERROR start signalling System err org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java ERROR start signalling System err org apache catalina core StandardContext startInternal StandardContext java ERROR start signalling System err org apache catalina util LifecycleBase start LifecycleBase java ERROR start signalling System err org apache catalina core ContainerBase addChildInternal ContainerBase java ERROR start signalling System err org apache catalina core ContainerBase addChild ContainerBase java ERROR start signalling System err org apache catalina core StandardHost addChild StandardHost java ERROR start signalling System err org eclipse gemini web tomcat internal TomcatServletContainer startWebApplication TomcatServletContainer java ERROR start signalling System err org eclipse gemini web internal StandardWebApplication start StandardWebApplication java ERROR start signalling System err org eclipse virgo web core internal WebBundleLifecycleListener onStarted WebBundleLifecycleListener java ERROR start signalling System err org eclipse virgo kernel install artifact internal StandardArtifactStateMonitor onStarted StandardArtifactStateMonitor java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact asyncStartSucceeded AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact access AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel install artifact internal AbstractInstallArtifact StateMonitorSignal signalSuccessfulCompletion AbstractInstallArtifact java ERROR start signalling System err org eclipse virgo kernel core internal BundleStartTracker BundleStartTracker java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java ERROR start signalling System err java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java ERROR start signalling System err java lang Thread Thread java ERROR start signalling System err Caused java lang IllegalArgumentException session config element limited occurrence ERROR start signalling System err org apache catalina startup SetSessionConfig WebRuleSet java ERROR start signalling System err org apache tomcat util digester Digester startElement Digester java ERROR start signalling System err ERROR start signalling System err Jun org apache catalina startup ContextConfig parseWebXml ERROR start signalling System err SEVERE Occurred column ERROR start signalling System err Jun org apache catalina startup ContextConfig configureStart ERROR start signalling System err SEVERE Marking application unavailable previous error ERROR start signalling System err Jun org apache catalina startup ContextConfig configureStart ERROR start signalling System err SEVERE Marking application unavailable previous error ERROR start signalling System err Jun org apache catalina core StandardContext startInternal ERROR start signalling System err SEVERE Error getConfigured ERROR start signalling System err Jun org apache catalina core StandardContext startInternal ERROR start signalling System err SEVERE Context org eclipse virgo apps repository startup failed previous errors
51344	org apache catalina startup Embedded overrides Lifecycle incorrectly bug mis coding Embedded component Tomcat integration testing server EmbeddedTomcat test JVM PeerToPeerCacheLifecycleListener pListener PeerToPeerCacheLifecycleListener pListener setProperty mcast port server getEmbedded addLifecycleListener pListener sessionManager DeltaSessionManager server getRootContext setManager sessionManager EmbeddedTomcat simply wrapper Embedded passing context port JVM route special add listener programmatic equivalent server xml snippet Server Listener className PeerToPeerCacheLifecycleListener Server DeltaSessionManager performs custom session management ManagerBase Lifecycle SessionManager start DeltaSessionManager initialize listener lifecycle fireLifecycleEvent START EVENT listener picks event starts works nicely Tomcat breaks Tomcat initial investigation LifecycleEvent fired reaching Embedded component listener registered Removing overridden Lifecycle methods Embedded Lifecyle processing LifecycleBase work triggered event reaches listener
51376	Dynamically Servlet instances ignore setLoadOnStartup ServletSecurity pre existing instance Servlet dynamically calling ServletContext addServlet String Servlet ServletContainerInitializer multiple problems setLoadOnStartup ServletSecurity destroy called initialized servlet Adding servlet addServlet String String addServlet String doesn problems methods org apache catalina core StandardWrapper treat presence servlet instance indicator fact servlet initialized addServlet String Servlet
51386	HandlingType correctly handled server startup leads incorrect classes set passed initializers code org apache catalina startup ContextConfig checkHandlesTypes JavaClass buggy match Map Entry Set ServletContainerInitializer entry typeInitializerMap entrySet entry getKey isAnnotation AnnotationEntry annotationEntries javaClass getAnnotationEntries AnnotationEntry annotationEntry annotationEntries entry getKey getName equals getClassName annotationEntry getAnnotationType match entry getKey isAssignableFrom clazz match match ServletContainerInitializer sci entry getValue initializerClassMap sci add clazz Shouldn match variable reset iteration SpringServletContainerInitializer handling WebApplicationInitializers receive huge set applicative classes starting parsed matching type handled parsed ServletContainerInitializer http svn apache org repos asf tomcat trunk java org apache catalina startup ContextConfig java
51395	application loads SAXParserFactory loader memory leak Overview org apache catalina startup ContextConfig array org apache tomcat util digester Digester objects Digester field factory refer SAXParserFactory SAXParserFactory loaded WebappClassLoader WebappClassLoader stuck memory Steps reproduce Create Web application xercesImpl jar lib Web application doesn xerces classes Upload application war file Tomcat Manager Verify application loaded Tomcat Manager List Applications Restart Tomcat Tomcat Manager List Applications verify application running Undeploy application Click Find leaks message application leaking memory dump jmap inspect memory jhat WebappClassLoader application reference chains rootset chain reference org apache catalina startup ContextConfig webDigesters org apache catalina startup ContextConfig Lorg apache tomcat util digester Digester bytes Element Lorg apache tomcat util digester Digester org apache tomcat util digester Digester bytes field factory org apache xerces jaxp SAXParserFactoryImpl bytes org apache xerces jaxp SAXParserFactoryImpl bytes org apache catalina loader WebappClassLoader bytes
51396	Embedding launch webapp jsp servlet https github bimargulies Tomcat Solr Test test creates instance Tomcat adds webapp Apache Solr webapp jsp servlets code crashes implicit web xml include servlet named jsp backtrace Embedded Tomcat INFO org apache catalina startup ContextConfig global web xml Exception thread Embedded Tomcat java lang NullPointerException org apache catalina startup ContextConfig convertJsp ContextConfig java org apache catalina startup ContextConfig convertJsps ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup Tomcat addWebapp Tomcat java org apache catalina startup Tomcat addWebapp Tomcat java org apache catalina startup Tomcat addWebapp Tomcat java org apache tomcat solrWebapp LaunchWithSolr tryToAddSolr LaunchWithSolr java org apache tomcat solrWebapp LaunchWithSolr access LaunchWithSolr java org apache tomcat solrWebapp LaunchWithSolr LaunchWithSolr java
51401	java lang IllegalArgumentException session config element limited occurrence Created attachment details logfile Exception started Tomcat hadn changed configuration java lang IllegalArgumentException session config element limited occurrence org apache catalina startup SetSessionConfig WebRuleSet java org apache tomcat util digester Digester startElement Digester java sun org apache xerces internal parsers AbstractSAXParser startElement AbstractSAXParser java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java org apache tomcat util digester Digester parse Digester java org apache catalina startup ContextConfig parseWebXml ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig deployWARs HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina util LifecycleBase setStateInternal LifecycleBase java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardHost startInternal StandardHost java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardEngine startInternal StandardEngine java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java exception occurs applications session config login config web xml reverted code revision exception
51403	Avoid NullPointerException JULI FileHandler formatter misconfigured formatter assigned org apache juli FileHandler logging properties misconfigured fails load FileHandler starts formatter fails NPE reproduce assign bogus catalina org apache juli FileHandler formatter Tomcat starts printed console java util logging ErrorManager java lang NullPointerException org apache juli FileHandler openWriter FileHandler java org apache juli FileHandler init FileHandler java org apache juli FileHandler init FileHandler java tolerant configuration error fall formatter commit shortly
51418	flexibility adding webapps org apache catalina startup Tomcat Created attachment details patch Tomcat java Tomcat addWebapp create context set realm set surrogate global web xml lifecycle listener differ allowing specific configuration webapp add context host container running calling addChild starts configuration steps precede start setting loader complex user control process today requires subclassing Tomcat copying code arg addWebapp patch subclasses complete control process accomplishes providing methods buried Tomcat memory realm listener serves surrogate global web xml dummy pathname listener work conflicts accessors user simple create context ContextConfig configure heart content pass addChild method Host
51436	ServletRequestListener fails access request parameters Expect Header Created attachment details Acknowledge request listeners called wrote ServletRequestListener access Request Parameter requestInitialized sre getServletRequest getParameter works fine POST Requests send Expect HTTP Header Listener hangs waiting Request Body stacktrace http pastebin Request isn acknowledged body parameters isn send attached patch fixes acknowledging request listeners called patch applied works fine tests pass
51445	Tomcat SingleThreadModel Problem noticed tomcat implement SingleThreadModel initialize variables init ServletConfig config method values initialized init ServletConfig config reflected service block code print java IOException java PrintWriter javax servlet ServletConfig javax servlet ServletException javax servlet SingleThreadModel javax servlet http HttpServlet javax servlet http HttpServletRequest javax servlet http HttpServletResponse test HttpServlet SingleThreadModel Override init ServletConfig config ServletException init config processRequest HttpServletRequest request HttpServletResponse response ServletException IOException response setContentType text html charset UTF PrintWriter response getWriter println close Override doGet HttpServletRequest request HttpServletResponse response ServletException IOException processRequest request response Override doPost HttpServletRequest request HttpServletResponse response ServletException IOException processRequest request response Override String getServletInfo description
51447	Session type Backup Primary Created attachment details patch Steps reproduce Start Tomcat instances BackupManager HTMLManagers node web application distributable web xml Click link number sessions application displayed session type Backup click link session sessions list session type change Primary session detail displayed getSessionForNameAndId calls ctxt getManager findSession findSession calls session cluster BackupManager session instance LazyReplicatedMap LazyReplicatedMap set session type primary thought solutions issue findSession Retrieve session local map attached patch Write note sessions list click backup type sessionid type change primary
51453	Requests open URL include Authorization header reach servlet Tomcat noticed request URL require authentication forwarded login request Authorization header application expects requests processed servlet servlet parses Authorization header takes action redirecting login allowing request headers acceptible token worked older versions Tomcat relevant web xml security constraint web resource collection web resource open web resource url pattern url pattern url patterns web resource collection user data constraint transport guarantee CONFIDENTIAL transport guarantee user data constraint Notice constraint element security constraint observed behavior org apache catalina authenticator AuthenticatorBase invoke constraints variable single constraint matches security constraint web xml authRequired set presence Authorization header authenticate call fails redirects login
51466	typos comments HostManagerServlet Created attachment details correct typos Comment method start instances written
51467	usage method start start thread StandardContext method Thread mistake lines Thread join called wait completion thread remove join rid thread runnable start thread
51494	NPE StandardContextValve invoke webapp redeployed request processed applies Tomcat couldn select version request Servlet takes time process webapp redeployed time replacing war file NPE thrown org apache catalina core StandardContextValve invoke org apache catalina connector CoyoteAdapter service SCHWERWIEGEND exception error occurred container request processing java lang NullPointerException org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http AprProcessor process Http AprProcessor java org apache coyote http Http AprProtocol Http ConnectionHandler process Http AprProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java context attribute StandardContextValve time reproduce behaviour Windows bit Sun Oracle Java Windows binaries Tomcat http people apache org markt dev tomcat included Tomcat reproduce Download install Tomcat windows zip binaries Create simple webapp servlet takes time process requests calling Thread sleep WebServlet LongRequest LongRequest HttpServlet doGet HttpServletRequest request HttpServletResponse response ServletException IOException PrintWriter response getWriter println Start flush Thread sleep InterruptedException println toString println Finished close webapp war file versions file Deploy version Tomcat copying war file webapps directory Open browser request servlet replace war file webapp directory version Tomcat undeploy version deploy request finishes NPE thrown originally observed NPE StandardWrapperValve invoke Tomcat reported users list occured webapp redeployed servlet processing request couldn reproduce NPE StandardWrapperValve invoke StandardContextValve invoke http markmail org message tumlfipaotkshst
51503	Additional error checking required connector port attribute port packaged candidate release unreleased Tomcat service war deployed service takes lot time killed system stderr log paused folowing INFO Stopping ProtocolHandler http apr slow loop fill log lines juil org apache tomcat util net AprEndpoint stopInternal ATTENTION Acceptor thread http apr Acceptor failed unlock Forcing hard socket shutdown juil org apache tomcat util net AprEndpoint stopInternal ATTENTION Acceptor thread http apr Acceptor failed unlock Forcing hard socket shutdown juil org apache tomcat util net AprEndpoint stopInternal ATTENTION Acceptor thread http apr Acceptor failed unlock Forcing hard socket shutdown times killed issue
51518	absolute ordering include element method org apache catalina startup WebRuleSet addRuleInstances Digester digester code digester addCallMethod fullPrefix absolute ordering addAbsoluteOrderingOthers web common xsd xsd complexType absoluteOrderingType xsd annotation xsd documentation specification details xsd documentation xsd annotation xsd choice minOccurs maxOccurs unbounded xsd element type javaee java identifierType minOccurs maxOccurs unbounded xsd element type javaee ordering othersType minOccurs maxOccurs xsd choice xsd complexType
51526	Process web application context config embedded Tomcat addWebApp nice org apache catalina startup Tomcat addWebApp process web application META INF context xml current implementation skips META INF context xml loading offer hook enable StandardContext instantiated initialized configFile single call addWebApp
51532	Performance Issue retriving JAR files TLD file parsing Migrating Tomcat large performance hit noticed lots custom tags rendering time jumped order magnitude Profiling webapp Netbeans narrowed problem getJarFile method org apache jasper compiler ParseController Screenshots Profiler Hotspots Call Tree versions Tomcat http imgur ZmeWM URL path load JAR file changed Tomcat values output debugger Tomcat file svn PATH PROJECT server target snapshot WEB INF lib JAR jar Tomcat jndi localhost snapshot WEB INF lib JAR jar comparison getJarFile methods differences URL path contribute problem Tomcat org apache jasper compiler JarURLResource JarFile getJarFile IOException URL jarFileUrl URL jar jarUrl JarURLConnection conn JarURLConnection jarFileUrl openConnection conn setUseCaches conn connect conn getJarFile Tomcat org apache japser compiler ParserController JarFile getJarFile URL jarFileUrl IOException JarFile jarFile jarFileUrl JarURLConnection conn JarURLConnection jarFileUrl openConnection conn setUseCaches conn connect jarFile conn getJarFile jarFile
51544	parser problem EmptyList Collections emptyList list isEmpty JSP problem occurs didn occur older Tomcat versions user names div forEach test users isEmpty div msg noResults div div Stacktrace root java lang IllegalAccessException javax BeanELResolver access member java util Collections EmptyList modifiers sun reflect Reflection ensureMemberAccess Reflection java java lang reflect Method invoke Method java javax BeanELResolver invoke BeanELResolver java javax CompositeELResolver invoke CompositeELResolver java org apache parser AstValue getValue AstValue java org apache ValueExpressionImpl getValue ValueExpressionImpl java org apache jasper runtime PageContextImpl proprietaryEvaluate PageContextImpl java org apache jsp WEB dINF jsp externalUsers jsp jspx meth fif externalUsers jsp java org apache jsp WEB dINF jsp externalUsers jsp jspService externalUsers jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java org springframework web servlet view InternalResourceView renderMergedOutputModel InternalResourceView java org springframework web servlet view AbstractView render AbstractView java org springframework web servlet DispatcherServlet render DispatcherServlet java org springframework web servlet DispatcherServlet doDispatch DispatcherServlet java
51545	threadname ExtendedAccessLogValve Created attachment details Threadname usable ExtendedAccessLogValve discussed tomcat users mailinglist http nabble thread extended access log valve html threadname thread served request ExtendedAccessLogValve
51555	invalid Lifecycle transition component INITIALIZED MapperListener Created attachment details TEST org apache tomcat util net TestXxxEndpoint BIO txt running TestXxxEndpoint test observed error attached log invalid Lifecycle transition attempted component org apache catalina connector MapperListener INITIALIZED org apache catalina LifecycleException invalid Lifecycle transition attempted component org apache catalina connector MapperListener INITIALIZED org apache catalina util LifecycleBase invalidTransition LifecycleBase java org apache catalina util LifecycleBase LifecycleBase java org apache catalina connector Connector stopInternal Connector java org apache catalina util LifecycleBase LifecycleBase java org apache tomcat util net TestXxxEndpoint testStartStopBindOnStart TestXxxEndpoint java test tests port succeeded port failed Address JVM Bind failure bind unexpected occur normal Tomcat stopping failed start invalid Lifecycle transition exception thrown MapperListener testing BIO connector running single test test entry org apache tomcat util net TestXxxEndpoint startup failure accidentally started copies Ant parallel Eclipse click External Tool button catalina connector Connector startInternal protocolHandler start mapperListener start logs protocolHandler start call failed mapperListener start called test TestXxxEndpoint testStartStopBindOnStart runs bindOnInit property connector set binding failure happen init occurred start
51557	Newline http header field obscures Created attachment details Patch header InternalInputBuffer newlines http header field names Foo Val Bar Val Hup Val lead field MISSHup Hup Digging specs RFC field excluding CTLs SPACE CTL ASCII control character DEL field attached patch stops improvements agreement bug adding unit test TestInternalInputBuffer changing code disallows space ctrl character field
51558	Tomcat Embedded tomcat addWebapp overrides programmatic context settings values context start tomcat server deploy webapp tomcat server Function tomcat addWebapp looked code function call ctx addLifecycleListener DefaultWebXmlListener start tomcat DefaultWebXmlListener activated automatically code manager set context overriden code initWebappDefaults Context ctx Sessions ctx setManager StandardManager ctx setSessionTimeout set StandardManager programatically overriden code workaround unregister DefaultWebXmlListener add context xml specific settings custom manager deactivating session persistance Context warContext tomcat addWebapp warContextPath warLocation LifecycleListener lclisteners warContext findLifecycleListeners LifecycleListener defaultWebXMLListener lclisteners length lclisteners DefaultWebXmlListener defaultWebXMLListener lclisteners warContext removeLifecycleListener defaultWebXMLListener StandardManager manager StandardManager manager setPathname disable session persistance manager setPathname SESSIONS ser warContext setCookies warContext setCrossContext warContext setManager manager bug tomcat addWebapp method impossible set context xml specific settings programmatically overriden values tomcat start
51584	Crash infinite loop files starting library tree Situation stray text file WEB INF classes directory named SurveyMain java backup autosaved source file eclipse helpfully deployed crash startup tomcat dev memory test dev org apache catalina startup ContextConfig java org apache catalina startup ContextConfig java revision org apache catalina startup ContextConfig java working copy dirs hasMoreElements String dir dirs nextElement URL dirUrl URL url toString dir System err println Processing url toString dir processAnnotationsJndi dirUrl fragment Printed tons linesâ€¦ startupâ€¦ crashed beforeâ€¦ java lang OutOfMemoryError Java heap space java util Arrays copyOfRange Arrays java java lang String init String java java lang StringBuilder toString StringBuilder java java UnixFileSystem resolve UnixFileSystem java java File init File java org apache naming resources FileDirContext list FileDirContext java org apache naming resources FileDirContext list FileDirContext java org apache naming resources ProxyDirContext list ProxyDirContext java org apache naming resources DirContextURLConnection list DirContextURLConnection java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java problem URL generated file interprets fragment path Quick patch java org apache catalina startup ContextConfig java java org apache catalina startup ContextConfig java revision java org apache catalina startup ContextConfig java working copy Enumeration String dirs dcUrlConn list dirs hasMoreElements String dir dirs nextElement dir startsWith URL dirUrl URL url toString dir System err println Processing dirUrl toString processAnnotationsJndi dirUrl fragment
51586	ContextConfig checkHandlesTypes doesn check VerifyError loading upgraded Tomcat metadata complete web xml Servlet decided annotation features turned metadata complete VerifyError load classes meant work Tomcat fact Tomcat load expected expected Tomcat doesn ignore error scanning annotations ContextConfig checkHandlesTypes checks virtually type loading failure VerifyError VerifyError list java lang VerifyError org lds stack tomcat decrypt DecryptingStandardContext overrides method start java lang ClassLoader defineClass Method java lang ClassLoader defineClassCond ClassLoader java java lang ClassLoader defineClass ClassLoader java java security SecureClassLoader defineClass SecureClassLoader java java net URLClassLoader defineClass URLClassLoader java java net URLClassLoader access URLClassLoader java java net URLClassLoader URLClassLoader java java security AccessController doPrivileged Method java net URLClassLoader findClass URLClassLoader java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClass ClassLoader java java lang forName Method java lang forName java org apache catalina loader WebappClassLoader loadClass WebappClassLoader java org apache catalina loader WebappClassLoader loadClass WebappClassLoader java org apache catalina startup ContextConfig checkHandlesTypes ContextConfig java org apache catalina startup ContextConfig processAnnotationsStream ContextConfig java org apache catalina startup ContextConfig processAnnotationsJar ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig processAnnotations ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig deployDescriptors HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina util LifecycleBase setStateInternal LifecycleBase java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardHost startInternal StandardHost java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardEngine startInternal StandardEngine java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java
51610	Context fails reload error web xml corrected current trunk Steps reproduce Start Tomcat webapps examples WEB INF web xml uncomment filter mapping Timing Filter Wait seconds examples webapp reloaded fails start typo filter Timing Filter Timing filter stack trace logs org apache catalina startup HostConfig checkResources WARNING Error context examples restart java lang IllegalArgumentException Filter mapping specifies unknown filter Timing Filter org apache catalina core StandardContext validateFilterMap StandardContext java org apache catalina core StandardContext addFilterMap StandardContext java org apache catalina deploy WebXml configureContext WebXml java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup HostConfig checkResources HostConfig java org apache catalina startup HostConfig check HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core ContainerBase backgroundProcess ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor ContainerBase java java lang Thread Thread java web xml edit comment mapping correct typo Wait seconds issue EXPECTED examples webapp reload ACTUAL Reload fails printed logs org apache catalina startup HostConfig checkResources INFO Reloading context examples org apache catalina util LifecycleBase start INFO start method called component StandardEngine Catalina StandardHost localhost StandardContext examples start called call Tomcat issue EXPECTED Successful shutdown ACTUAL org apache catalina startup Catalina SEVERE Catalina org apache catalina LifecycleException invalid Lifecycle transition attempted component StandardEngine Catalina StandardHost localhost StandardContext examples STARTING PREP org apache catalina util LifecycleBase invalidTransition LifecycleBase java org apache catalina util LifecycleBase LifecycleBase java org apache catalina core ContainerBase stopInternal ContainerBase java org apache catalina util LifecycleBase LifecycleBase java org apache catalina core ContainerBase stopInternal ContainerBase java org apache catalina util LifecycleBase LifecycleBase java org apache catalina core StandardService stopInternal StandardService java org apache catalina util LifecycleBase LifecycleBase java org apache catalina core StandardServer stopInternal StandardServer java org apache catalina util LifecycleBase LifecycleBase java org apache catalina startup Catalina Catalina java org apache catalina startup Catalina CatalinaShutdownHook Catalina java exception shutdown examples webapp correct Tomcat started broken broken startup time issue shutdown sequence aborted abnormally EXPECTED INFO Stopping ProtocolHandler http bio messages ACTUAL messages SEVERE Catalina cited
51614	PersistentManager loads session Store calls session expire check session loaded memory StoreBase processExpires calls findSession manager findSession isLoaded PersistentManager findSession loads session Store session memory session loaded Store invalid session PersistentManager logs errorlog calls session expire deletes session Store result findSession returns isLoaded session expire called session deleted Store manager PersistentManager call PersistentManagerBase isLoaded avoid regression managers call findSession
51630	java lang IllegalStateException Calling asyncComplete webapps examples WEB INF classes async Async java log file logs localhost log java lang IllegalStateException Calling asyncComplete valid request Async DISPATCHED org apache coyote AsyncStateMachine asyncComplete AsyncStateMachine java org apache coyote http Http Processor actionInternal Http Processor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Request action Request java org apache catalina core AsyncContextImpl complete AsyncContextImpl java async Async service Async java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doInclude ApplicationDispatcher java org apache catalina core ApplicationDispatcher include ApplicationDispatcher java org apache catalina core AsyncContextImpl AsyncContextImpl java org apache catalina core AsyncContextImpl doInternalDispatch AsyncContextImpl java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter asyncDispatch CoyoteAdapter java org apache coyote http AbstractHttp Processor asyncDispatch AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
51640	clearReferencesJdbc causing leaks oracle ojdbc driver Created attachment details Maven project reproduce problem clearReferencesJdbc causing reference leaks oracle ojdbc version isn loaded application function loading classes jar classes adding jmx MBean reference leak Error message Aug org apache catalina loader WebappClassLoader clearReferencesJdbc SEVERE web application mavenproject SNAPSHOT registered JDBC driver oracle jdbc OracleDriver failed unregister web application stopped prevent memory leak JDBC Driver forcibly unregistered List classes loader org apache catalina loader JdbcLeakPrevention bytes oracle jdbc driver OracleDriver bytes oracle jdbc OracleDriver bytes oracle jdbc driver OracleDriverExtension bytes oracle jdbc driver OracleDriver bytes oracle jdbc driver DiagnosabilityMXBean bytes oracle jdbc driver OracleDiagnosabilityMBean bytes oracle jdbc driver DatabaseError bytes oracle jdbc driver OracleSQLException bytes oracle net NetException bytes oracle jdbc driver SQLStateMapping bytes oracle jdbc driver SQLStateMapping Tokenizer bytes oracle jdbc driver Message bytes oracle jdbc driver Message bytes oracle jdbc internal ObjectDataFactory bytes oracle sql ORADataFactory bytes oracle sql AnyDataFactory bytes oracle jdbc internal ObjectData bytes oracle sql ORAData bytes oracle sql TypeDescriptorFactory bytes JdbcLeakPrevention loaded Steps reproduce Compile project driver http oracle technetwork database enterprise edition jdbc html Deploy project tomcat Undeploy project tomcat error clearReferencesJdbc Expected expect Tomcat leak happy option Tomcat clearReferencesJdbc allowing undeploy app leaking problem wasn causing entire classloader implies leaked
51641	Http NioProcessor correct release org apache coyote http Http NioProtocol Http ConnectionHandler code segment Override release SocketWrapper NioChannel socket Http NioProcessor processor connections remove socket processor processor recycle recycledProcessors offer processor Override release SocketWrapper NioChannel socket Http NioProcessor processor connections remove socket getSocket processor processor recycle recycledProcessors offer processor type connections ConcurrentHashMap NioChannel Http NioProcessor ConcurrentHashMap SocketWrapper NioChannel Http NioProcessor
51644	Unable deploy applications xml deploy context xml exception SEVERE Unable process JNDI URL jndi localhost sample WEB INF classes annotations java FileNotFoundException jndi localhost sample WEB INF classes org apache naming resources DirContextURLConnection list DirContextURLConnection java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig deployDescriptors HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig check HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core ContainerBase backgroundProcess ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor ContainerBase java java lang Thread Thread java expected application URI bug list method DirContextURLConnection java method assumes context characters developer note block condition solved problem String file getURL getFile form hostname contextpath file contextpath empty form hostname file Strip hostname contextpath start context ProxyDirContext equals ProxyDirContext context getContextPath start file indexOf context ProxyDirContext start length ProxyDirContext context getHostName length ProxyDirContext context getContextPath length bug Tomcat code Tomcat handle contextpath sample start file indexOf file indexOf start file indexOf file indexOf NamingEnumeration NameClassPair enumeration context list file substring start enumeration hasMoreElements NameClassPair ncp enumeration nextElement result addElement ncp getName NamingException
51650	nullpointer exception RequestUtil parseParameters Created attachment details set encoding encoding RequestUtil parseParameters NPE CConverter getCharset
51653	ServletRequestListener requestDestroyed called request leaves webapp Created attachment details Sample webapp demonstrating issue Tomcat jdk Ubuntu Linux Steps reproduce declare error code web xml Set location servlet call ErrorServlet invalid URL webapp ErrorServlet called requestDestroyed registered listener kind behaviour correct opinion contradicts contract ServletRequestListener breaks org springframework web context request RequestContextListener ErrorServlet session scoped beans Description attached war file wheleph RequestContextListener sets local variable requestInitialized resets requestDestroyed wheleph SecondServlet writes System variable showing called requestInitialized requestDestroyed registered handler reproduce bug invalid url http localhost SpringListenerPOC abcd message log SecondServlet scope relevant thread dev tomcat apache org Volodymyr Sobotovich wrote bug Tomcat lifecycle handling ServletRequestListener discuss posting Tomcat jdk Ubuntu Linux Steps reproduce declare error code web xml Set location servlet call ErrorServlet invalid URL webapp ErrorServlet called requestDestroyed registered listener kind behaviour correct opinion contradicts contract ServletRequestListener breaks org springframework web context request RequestContextListener ErrorServlet session scoped beans post Bugzilla Hmm error handling host level argue listeners fired place processing enters leaves context custom error defined web app listener calls doesn Addressing moving error handling context calls ServletRequestListener moving calls ServletRequestListener host level leaning wondering leaving dev list folks comment add couple days consensus bug release won early Sept plenty time Mark Mark Mark Thomas wrote Addressing moving error handling context calls ServletRequestListener feels management level error handler called easily level code chris
51654	NullPointerException startup org apache catalina startup HostConfig filterAppPaths missing app base hard diagnose NullPointerException startup bettered error message INFO Starting Servlet Engine Apache Tomcat java lang NullPointerException org apache catalina startup HostConfig filterAppPaths HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java String filterAppPaths String unfilteredAppPaths exception raised String appPath unfilteredAppPaths unfilteredAppPaths passed filterAppPaths check shouldn assertion problems deployApps deployApps File appBase appBase File configBase configBase String filteredAppPaths filterAppPaths appBase list Deploy XML descriptors configBase deployDescriptors configBase configBase list Deploy WARs loop additional descriptors deployWARs appBase filteredAppPaths Deploy expanded folders deployDirectories appBase filteredAppPaths appBase list returns appBase denote directory server xml points nonexisting appBase Suggesting add check deployApps deployApps File appBase appBase File configBase configBase appBase exists appBase list IllegalArgumentException appBase appBase exist listed String filteredAppPaths filterAppPaths appBase list Deploy XML descriptors configBase deployDescriptors configBase configBase list Deploy WARs loop additional descriptors deployWARs appBase filteredAppPaths Deploy expanded folders deployDirectories appBase filteredAppPaths violates requirement
51658	Potential NPE CoyoteAdapter log Created attachment details logAccess host context CoyoteAdapter log request mapping context request mapping host checked branch request mapping context Host request mappingData host logAccess
51698	ajp CPing Request packet forgery design decision security vulnerability Created attachment details ajp CPing packet forgery ajp Data packet CodeType tomcat adopts lazy reading strategy reading ajp Data packetï¼Œ don invoke request getParameter XXX ï¼Œtomcat read post request Data packet soï¼Œthe current Data packet keeping socket inputstreamï¼Œ connection alive ajp bio nio procesor reading packetï¼Œ time Data packetã€‚ Data packet length Code Type Request Packet Code Type CPing Packet ï¼Œ tomcat trouble attachments firt ajp CPing packet forgery ajp Request packet forgery
51704	Dubious mkdirs code juli FileHandler File mkdirs returns method created directory mkdirs returns directory exist code FileHandler Create directory File dir File directory dir exists dir mkdirs reportError Unable create dir ErrorManager OPEN FAILURE writer generate error directory exists safer code check dir mkdirs dir exists call dir exists mkdirs mkdirs code Tomcat check http svn apache org viewvc tomcat trunk java org apache juli FileHandler java view markup http svn apache org viewvc tomcat trunk java org apache juli FileHandler java view markup
51712	Regression cache control headers requests security constraints Created attachment details Patch revert isSecure check Copied http markmail org thread rlkpd hqihc zbji CLN http svn apache org viewvc view revision revision sets securePagesWithPragma request isSecure check block adding cache control headers headers secure requests security constraints change behavior Tomcat improperly cache secure secure check initially CLN http svn apache org viewvc view revision revision bug caching https issues apache org bugzilla bug cgi commented CLN http svn apache org viewvc view revision revision patch remove isSecure check
51713	Bad Connector protocol NullPointerException Executor configuration NPE thrown setExecutor calls con getProtocolHandler getClass protocol handler nice report bad configuration suffering NPE server xml Executor tomcatThreadPool namePrefix catalina exec maxThreads minSpareThreads Connector port redirectPort protocol HTTP secure scheme https proxyPort URIEncoding UTF executor tomcatThreadPool catalina Aug org apache catalina connector Connector init SEVERE Protocol handler instantiation failed Aug org apache tomcat util digester Digester startElement SEVERE event threw exception java lang NullPointerException org apache catalina startup ConnectorCreateRule setExecutor ConnectorCreateRule java org apache catalina startup ConnectorCreateRule ConnectorCreateRule java org apache tomcat util digester Digester startElement Digester java sun org apache xerces internal parsers AbstractSAXParser startElement AbstractSAXParser java sun org apache xerces internal parsers AbstractXMLDocumentParser emptyElement AbstractXMLDocumentParser java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java org apache tomcat util digester Digester parse Digester java org apache catalina startup Catalina load Catalina java org apache catalina startup Catalina load Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap load Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Aug org apache catalina startup Catalina load WARNING Catalina start conf server xml Error Aug org apache catalina connector Connector init SEVERE Protocol handler instantiation failed Aug org apache tomcat util digester Digester startElement SEVERE event threw exception java lang NullPointerException org apache catalina startup ConnectorCreateRule setExecutor ConnectorCreateRule java org apache catalina startup ConnectorCreateRule ConnectorCreateRule java org apache tomcat util digester Digester startElement Digester java sun org apache xerces internal parsers AbstractSAXParser startElement AbstractSAXParser java sun org apache xerces internal parsers AbstractXMLDocumentParser emptyElement AbstractXMLDocumentParser java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanStartElement XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers AbstractSAXParser parse AbstractSAXParser java sun org apache xerces internal jaxp SAXParserImpl JAXPSAXParser parse SAXParserImpl java org apache tomcat util digester Digester parse Digester java org apache catalina startup Catalina load Catalina java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Aug org apache catalina startup Catalina load WARNING Catalina start conf server xml Error Aug org apache catalina startup Catalina start SEVERE start server Server instance configured
51739	landingpage XHTML JSF CDI nullpointer exception
51741	Eclipse WTP Serve modules publishing broken patch tomcat Eclipse WTP option Serve modules publishing works investigation WTP team modifying tomcat problem WTP reported https bugs eclipse org bugs bug cgi Basically DirContext implementation org eclipse jst server tomcat loader WtpDirContext returns ResourceAttributes correctly points existing location org apache catalina loader WebappClassLoader findResourceInternal String String ignores returns ResourceEntry codeBase source fields point existing location breaks applications call getResource Thread ContextClassLoader returned URL call getResourceAsStream Thread CCL
51744	JNDI Lookup Error Context closed integrating Atomikos Tomcat register transaction manager lookup transaction manager works fine JNDI JNDI context closes subsequent calls lookup transaction manager fails java comp code problem org apache naming SelectorContext methods calls delegated Context received getBoundContext returns org apache naming NamingContext object stored map ContextBindings getBoundContext checks cache returns create object store returns problem calls close NamingContext object implemented close NamingException env clear clears environment doesn invalidate cache ContextBindings remove entry time getBoundContext called context earlier closed context creating environment cleared subsequent lookups fail guess proper remove context ContextBinding cache close method closed Cheers Anjana
51758	Setting logger specific overrides logging properties working Logger specific configuration CATALINA conf logging properties file Problem asked unanswered googling turn solution http nabble difficulty suppressing org apache tomcat util digester Digester logger html Steps reproduce Set global logging level FINE level FINE Add logger specific logging level override org apache tomcat util digester Digester level INFO SEVERE Start Tomcat view catalina log file catalina logger outputting countless FINE messages output suppressed statement
51774	java lang NoSuchMethodException thrown starting tomcat security enabled tracking mode web xml starting application security enabled exception web xml session config tracking mode COOKIE tracking mode session config remove tracking mode element don exception Mike HostConfig Error deploying configuration descriptor stack pet store xml java lang RuntimeException org apache catalina core ApplicationContext setSessionTrackingModes java util EnumSet org apache catalina core ApplicationContextFacade doPrivileged ApplicationContextFacade java org apache catalina core ApplicationContextFacade setSessionTrackingModes ApplicationContextFacade java org apache catalina deploy WebXml configureContext WebXml java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase access ContainerBase java org apache catalina core ContainerBase PrivilegedAddChild ContainerBase java org apache catalina core ContainerBase PrivilegedAddChild ContainerBase java java security AccessController doPrivileged Method org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig deployDescriptors HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina util LifecycleBase setStateInternal LifecycleBase java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardHost startInternal StandardHost java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardEngine startInternal StandardEngine java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java lang NoSuchMethodException org apache catalina core ApplicationContext setSessionTrackingModes java util EnumSet java lang getMethod java org apache catalina core ApplicationContextFacade invokeMethod ApplicationContextFacade java org apache catalina core ApplicationContextFacade doPrivileged ApplicationContextFacade java
51852	BeanELResolver varargs handling broken multiple ways supplied patch SVN Revision addresses Incorrectly constructed varargs arguments ArrayIndexOutOfBoundsExceptions Incorrectly detected matching varargs methods originally encountered issue JSF application JUEL implementation conjunction Tomcat API error dropping JUEL application instances Jasper implementation handle varargs invocations BeanELResolver invoked event code resides BeanELResolver function properly mixing ExpressionFactory implementation conforming API implementation AFAICT feasible issue encountered debugging issue
51860	HTTP SSL NIO won work Error reproduction conditions Tomcat Connector Http NioProtocol SSLEnabled secure scheme https clientAuth JDK operation systems user connects https SSL handshake fails error javax net ssl SSLHandshakeException cipher suites common connector settings change BIO Connector Http Protocol works fine problem differences SSL behavior BIO NIO handshake workaround http bugs sun bugdatabase view bug bug org apache tomcat util net jsse JSSESocketFactory JSSEKeyManager wraps KeyManager NIO mode KeyManager extra methods java lang String chooseEngineClientAlias java lang String keyType java security Principal issuers javax net ssl SSLEngine engine java lang String chooseEngineServerAlias java lang String keyType java security Principal issuers javax net ssl SSLEngine engine custom hand SSLInmplemention extra features Keypair storage hardware device database ExtendedKeyUsage verification TrustManager CRL validation CRL distribution point online synchronization ActiveDirectory account lookup certificate complete source code workaround yamoney calypso server security jsse org apache tomcat util net AbstractEndpoint org apache tomcat util net jsse JSSESocketFactory yamoney calypso server CommonKernel javax net ssl java net Socket java security KeyStore java security Principal java security PrivateKey java security cert Certificate SSLImplementation Tomcat NIO author Roman Tsirulnikov CalypsoSSLSocketFactory JSSESocketFactory CalypsoKeyManager keyManager TrustManager trustManager CalypsoSSLSocketFactory AbstractEndpoint endpoint endpoint keyManager CommonKernel getInstance getBean server calypsoKeyManager trustManager CommonKernel getInstance getBean server calypsoTrustManager Override KeyManager getKeyManagers KeyStore keyManager getKeyStore isKeyEntry keyManager getKeyAlias IllegalArgumentException Keystore entry keypair keyManager getKeyAlias KeyManagerFactory kmf KeyManagerFactory getInstance KeyManagerFactory getDefaultAlgorithm kmf init keyManager getKeystorePass toCharArray KeyManager kms kmf getKeyManagers kms length kms NIOKeyManagerWrapper KeyManager kms keyManager getKeyAlias kms Exception IllegalArgumentException SSLSocketFactory init getMessage Override TrustManager getTrustManagers TrustManager trustManager KeyManager wrapper Workaround SSL NIO engine bug http bugs sun bugdatabase view bug bug NIOKeyManagerWrapper ExtendedKeyManager KeyManager delegate String serverKeyAlias Constructor param mgr KeyManager delegate param serverKeyAlias alias server keypair supporting certificate chain NIOKeyManagerWrapper KeyManager mgr String serverKeyAlias delegate mgr serverKeyAlias serverKeyAlias Choose alias authenticate client side secure socket key type list certificate issuer authorities recognized peer param keyType key algorithm type ordered preferred key type param issuers list acceptable issuer subject names matter issuers param socket socket connection parameter method alias alias desired key matches Override String chooseClientAlias String keyType Principal issuers Socket socket delegate chooseClientAlias keyType issuers socket Returns key manager server key alias constructor param keyType key algorithm type param issuers list acceptable issuer subject names matter issuers param socket socket connection parameter method alias Alias desired key Override String chooseServerAlias String keyType Principal issuers Socket socket serverKeyAlias Returns certificate chain alias param alias alias Certificate chain ordered user certificate root certificate authority alias Override Certificate getCertificateChain String alias delegate getCertificateChain alias matching aliases authenticating client side secure socket key type list certificate issuer authorities recognized peer param keyType key algorithm type param issuers list acceptable issuer subject names matter issuers Array matching alias names matches Override String getClientAliases String keyType Principal issuers delegate getClientAliases keyType issuers matching aliases authenticating server side secure socket key type list certificate issuer authorities recognized peer param keyType key algorithm type param issuers list acceptable issuer subject names matter issuers Array matching alias names matches Override String getServerAliases String keyType Principal issuers delegate getServerAliases keyType issuers Returns key alias param alias alias requested key alias Override PrivateKey getPrivateKey String alias delegate getPrivateKey alias java lang String chooseEngineClientAlias java lang String keyType java security Principal issuers javax net ssl SSLEngine engine delegate chooseClientAlias keyType issuers java lang String chooseEngineServerAlias java lang String keyType java security Principal issuers javax net ssl SSLEngine engine serverKeyAlias
51862	JreMemoryLeakPreventionListener enhancement load configurable classes Enhancement proposed add classesToInitialize parameter JreMemoryLeakPreventionListener provoke loading arbitrary classes users tune memory leak protection features avoid leaks triggered loading JRE classes identified leaky party classes commit patch days
51872	request getRemoteAddr returning address previous request request getRemoteAddr returning address previous request compared address returned getRemoteHost headers getRemoteAddr getRemoteAddr returning wrong address pooled request objects sees previous remote problem doesn occur time heavily relying getRemoteAddr verify remote client authentication fixed DEBUG yjava tomcat valves YahooConnectionValve THREADID YahooConnectionValve invoked DEBUG yjava tomcat valves YahooConnectionValve THREADID YahooConnectionValve request getInfo org apache coyote catalina CoyoteRequest DEBUG yjava tomcat valves YahooConnectionValve THREADID YahooConnectionValve request getRemoteAddr DEBUG yjava tomcat valves YahooConnectionValve THREADID YahooConnectionValve request getRemoteHost web mail yahoo nslookup web mail yahoo Server Address web mail yahoo Address DEBUG yjava tomcat valves YahooConnectionValve THREADID YahooConnectionValve request getRequestedSessionId DEBUG yjava tomcat valves YahooConnectionValve THREADID YahooConnectionValve request getHeader accept host mail vip yahoo content type application ypy yahoo app yahoo mail acl yca lsg prod content length DEBUG yjava filter address RemoteIPTranslator THREADID remote address port
51881	Server incorrectly parses incoming HTTP requests loses developing Comet based web application Tomcat Comet support Atmosphere framework HTTP streaming transferring data servlet client scenario user connects server XMLHTTPRequest sending response suspend connection needed send data user opens browser tab connects web application web application close connection opened tab suspend connection serlvet detect incoming session finds previous connection closes internally CometEvent close works intended HTTP request web server correctly handled servlet receive strange HttpServletRequest previous query string duplicate request headers initial request traced Tomcat code noticed org apache coyote http Http Processor process request field empty HTTP method request headers Comet closing object empty previoud HTTP request request headers parsed appended fields existed previous request object invalid object passed Servlet suppose clearing request object closing comet event assosiated data Http NioProcessor actionInternal solve issue
51887	Speedup sessionid generation running testsuite Created attachment details DummySecureRandom patch Tomcat tests Windows lot messages logs junit org apache catalina util SessionIdGenerator createSecureRandom junit INFO Creation SecureRandom instance session generation SHA PRNG milliseconds whan starting single Tomcat instance running tests adds seconds startup Tomcat attaching patch Adds DummySecureRandom Hardcodes SessionIdGenerator SessionIdGenerator patch committed
51910	NPE comet processing shutting Tomcat hit testing Configure Tomcat NIO connector Start Tomcat open Comet chat http localhost examples jsp chat jsp Type Nickname press button start chat chat log frame chat log active Browser loaded shut Tomcat Observe NPE logs org apache coyote AbstractProtocol INFO Stopping ProtocolHandler http nio org apache catalina connector CoyoteAdapter event SEVERE java lang NullPointerException org apache catalina core StandardWrapperValve event StandardWrapperValve java org apache catalina core StandardContextValve event StandardContextValve java org apache catalina valves ValveBase event ValveBase java org apache catalina core StandardHostValve event StandardHostValve java org apache catalina valves ValveBase event ValveBase java org apache catalina valves ValveBase event ValveBase java org apache catalina core StandardEngineValve event StandardEngineValve java org apache catalina connector CoyoteAdapter event CoyoteAdapter java org apache coyote http Http NioProcessor event Http NioProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller cancelledKey NioEndpoint java org apache tomcat util net NioEndpoint Poller processKey NioEndpoint java org apache tomcat util net NioEndpoint Poller timeout NioEndpoint java org apache tomcat util net NioEndpoint Poller NioEndpoint java java lang Thread Thread java org apache coyote AbstractProtocol INFO Stopping ProtocolHandler ajp bio
51912	IOOB exception InternalNioInputBuffer debug logging enabled encountered testing reproduce Replace conf logging properties handlers catalina org apache juli FileHandler handlers catalina org apache juli FileHandler catalina org apache juli FileHandler level FINE catalina org apache juli FileHandler directory catalina base logs catalina org apache juli FileHandler prefix catalina catalina org apache juli FileHandler bufferSize level FINE Note level FINE enables debug logging testsuite NIO org apache coyote http TestInternalInputBuffer adding build properties execute test bio execute test nio execute test apr test entry org apache coyote http TestInternalInputBuffer test fails Testsuite org apache coyote http TestInternalInputBuffer Tests Failures Errors Time elapsed Testcase testBug Testcase testBug NoColon FAILED junit framework AssertionFailedError org apache coyote http TestInternalInputBuffer testBug NoColon TestInternalInputBuffer java Testcase testBug Separators Testcase testBug Ctl FAILED junit framework AssertionFailedError org apache coyote http TestInternalInputBuffer doTestBug TestInternalInputBuffer java org apache coyote http TestInternalInputBuffer testBug Ctl TestInternalInputBuffer java Testcase testBug Continuation Testcase testBug BoundaryStart Testcase testBug BoundaryEnd test testsuite failing logging configuration testsuite test succeeds BIO APR NIO fails log file exception occurs times org apache coyote http AbstractHttp Processor process FINE Error parsing HTTP request header java lang StringIndexOutOfBoundsException String range java lang String checkBounds String java java lang String init String java org apache coyote http InternalNioInputBuffer skipLine InternalNioInputBuffer java org apache coyote http InternalNioInputBuffer parseHeader InternalNioInputBuffer java org apache coyote http InternalNioInputBuffer parseHeaders InternalNioInputBuffer java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java caused debug logging org apache coyote http InternalNioInputBuffer skipLine InternalNioInputBuffer java log isDebugEnabled log debug getString iib invalidheader String buf headerData start headerData lastSignificantChar headerData start CHARSET InternalInputBuffer InternalAprInputBuffer debug logging skipLine methods fail
51952	IllegalStateException CompressionFilter Tomcat Created attachment details Simple test recreate CompressionFilter causing IllegalStateException Tomcat jdk Solaris mod ajp Apache logged exception sendRedirect jsp CompressionFilter enabled occur attached gzipped tar file simple test reproduces problem test jsp sendRedirect test jsp included source code CompressionFilter simple web xml file filter entry Hitting test jsp logs exception SEVERE Servlet service servlet jsp context path threw exception java lang IllegalStateException getWriter called response root java lang IllegalStateException getWriter called response org apache catalina connector Response getOutputStream Response java org apache catalina connector ResponseFacade getOutputStream ResponseFacade java tirerack filters CompressionResponseStream init CompressionResponseStream java tirerack filters CompressionServletResponseWrapper createOutputStream CompressionServletResponseWrapper java tirerack filters CompressionServletResponseWrapper getWriter CompressionServletResponseWrapper java org apache jasper runtime JspWriterImpl initOut JspWriterImpl java org apache jasper runtime JspWriterImpl flushBuffer JspWriterImpl java org apache jasper runtime PageContextImpl release PageContextImpl java org apache jasper runtime JspFactoryImpl internalReleasePageContext JspFactoryImpl java org apache jasper runtime JspFactoryImpl releasePageContext JspFactoryImpl java org apache jsp test jsp jspService test jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java tirerack filters CompressionFilter doFilter CompressionFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpProcessor process AjpProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
51972	sendRedirect support protocol relative URLs URL protocol relative URL server foo bar kala html server relative foo bar kala html org apache catalina connector Response java breaks protocol relative URLs toAbsolute String expects server relative toAbsolute adds protocol server port URL URLs http foo server foo bar kala html correct http server foo bar kala html
52009	NPE exception org apache catalina connector CoyoteAdapter service copied activemq jar commons logging jar tomcat lib folder Edit tomcat user xml context xml server xml server xml Resource jms broker Container type org apache activemq ActiveMQConnectionFactory description JMS Connection Factory factory org apache activemq jndi JNDIReferenceFactory brokerURL tcp localhost brokerName ActiveMQBroker useEmbeddedBroker Resource jms topic MyTopic Container type org apache activemq command ActiveMQTopic factory org apache activemq jndi JNDIReferenceFactory physicalName APP JMS TOPIC Resource jms queue MyQueue Container type org apache activemq command ActiveMQQueue factory org apache activemq jndi JNDIReferenceFactory physicalName APP JMS QUEUE Connector acceptorThreadPriority allowTrace asyncTimeout connectionLinger connectionTimeout NIOConnector pollerThreadPriority port protocol org apache coyote http Http NioProtocol redirectPort tcpNoDelay context xml ResourceLink global jms broker jms broker type javax jms ConnectionFactory ResourceLink global jms topic MyTopic jms topic MyTopic type javax jms Topic ResourceLink global jms queue MyQueue jms queue MyQueue type javax jms Queue file attached zip access http localhost manager text resources JMS resource defined Listed global resources types jms topic MyTopic org apache activemq command ActiveMQTopic jms queue MyQueue org apache activemq command ActiveMQQueue jms broker org apache activemq ActiveMQConnectionFactory UserDatabase org apache catalina users MemoryUserDatabase Start apache activemq create topic APP JMS TOPIC queque APP JMS QUEUE sample files QuoteStreamerApp war attached webapp folder report errors don define NIO connector error doesn exist org apache catalina startup HostConfig checkResources INFO Undeploying context QuoteStreamerApp org apache catalina startup HostConfig deployWAR INFO Deploying web application archive QuoteStreamerApp war ibm websphere webmsg quotestreamer AppInit init INFO DataSimulator created set started ibm webmsg StockServlet setProperties INFO Configured properties quote streamer requests ibm webmsg StockServlet registerURL INFO Registered URL comet requests org apache coyote http AbstractHttp Processor process SEVERE Error processing request java lang NullPointerException org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java org apache coyote http AbstractHttp Processor process SEVERE Error processing request java lang NullPointerException org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java org apache coyote http AbstractHttp Processor process SEVERE Error processing request java lang NullPointerException org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java org apache coyote http AbstractHttp Processor process SEVERE Error processing request java lang NullPointerException org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
52028	Embeded Tomcat Connector random port port feature based discussion http markmail org message nczqiqm smez
52042	NullPointerException DefaultInstanceManager processAnnotations NullPointerException exception thrown randomly DefaultInstanceManager processAnnotations method lines List AnnotationCacheEntry annotations annotationCache annotations annotationCache clazz Pointer Exception thrown annotations AnnotationCacheEntry entry annotations JSF Managed Bean Open JSF managed bean Randomly opening NullPointerException superclass annotations annotationCache clazz returns WeakHashMap annotationCache field reason exception
52051	NullPointerException Jasper compile directory Created attachment details Sample webapp demonstrates problem STR Map JspServlet jsp Create directory jsp dir request jsp dir Result org apache jasper JasperException File jsp dir org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler JspUtil getInputStream JspUtil java org apache jasper xmlparser XMLEncodingDetector getEncoding XMLEncodingDetector java org apache jasper compiler ParserController determineSyntaxAndEncoding ParserController java org apache jasper compiler ParserController doParse ParserController java org apache jasper compiler ParserController parseDirectives ParserController java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java Expected response
52055	ChunkedInputFilter recycled servlet asynchronous request standard servlet async APIs tomcat server side code AsyncContext asyncContext request startAsync processing thread asyncContext getRequest getInputStream read input stream asyncContext complete InputStream returns bytes HTTP post chunking debugging ChunkedInputFilter reused org apache coyote http AbstractInputBuffer recycled nextRequest reuse request result endChunk flag request reading buffer
52091	TagHandlerPool slow high concurrently TagHandlerPool slow stress test web application tomcat occured Profiler followings Lock log instance org apache jasper runtime TagHandlerPool Lock parameters field org apache catalina core StandardWrapper getInitParameter attached patch resolve issue environment log field StandardWrapper lock policy block ReentrantReadWriteLock
52113	Tomcat reports missing context xml wrong location JMX deployment Tomcat JMX deploy apps call MBeanFactory createStandardContext MBeanFactory Catalina type MBeanFactory parameters parent Catalina type Host host localhost path docBase path app call app start app Catalina eeType WebModule localhost EEApplication EEServer result app succesfully deployed context exceptions server console full stacktraces skipped attached comment org apache catalina startup ContextConfig processContextConfig SEVERE Missing context xml file Tomcat base folder conf Catalina localhost xml java FileNotFoundException Tomcat base folder conf Catalina localhost xml org apache catalina startup ContextConfig processContextConfig SEVERE Parse error context xml java FileNotFoundException Tomcat base folder conf Catalina localhost xml org apache catalina startup ContextConfig configureStart SEVERE Marking application unavailable previous error org apache catalina core StandardContext startInternal SEVERE Error getConfigured org apache catalina core StandardContext startInternal SEVERE Context startup failed previous errors exceptions strange don understand Tomcat searches context xml file jmx deploy wrong deployment workflow Michael
52135	Global error handled Servlet global error error location error jsp location error handled Tomcat Glassfish works fine
52156	ServletContext getResource path doesn accept WAR packaged webapp getServletContext getResource mydata mydata myfile txt URL getServletContext getResource mydata myfile txt returns folder based webapp working Tomcat Bug WARDirContext java regression
52173	Add drop additional clarification doc delegate setting WebappClassLoader Created attachment details javadoc tweaks WebappClassLoader full description delegate flag member programmers setDelegate function enlightenment IMPLEMENTATION NOTE top mention existence delegate flag patch harder misunderstand term delegate bit ambiguity
52184	Reduce log level invalid cookies Invalid cookies common Firefox time Tomcat logs fill input Tomcat doesn log invalid HTTP request yield problem Nov org apache tomcat util http Cookies processCookieHeader INFO Cookies Invalid cookie token quoted http vmc ssrc eng vmware HTTP Host vmc ssrc eng vmware User Agent Mozilla Windows WOW Gecko Firefox Accept text html application xhtml xml application xml Accept Language Accept Encoding gzip deflate Accept Charset ISO utf Connection alive Cookie utma utmz utmcsr communities utmccn referral utmcmd referral utmcct community vmtn appplatform testapp fire Cache Control max age
52208	NullPointerException tribes transport nio NioReceiver listen test Created attachment details TEST org apache catalina tribes group interceptors TestOrderInterceptor BIO txt Running tests release candidate NullPointerException tribes tests TEST org apache catalina tribes group interceptors TestOrderInterceptor BIO txt org apache catalina tribes transport nio NioReceiver listen SEVERE Unable process request NioReceiver java lang NullPointerException org apache catalina tribes transport nio NioReceiver listen NioReceiver java org apache catalina tribes transport nio NioReceiver NioReceiver java java lang Thread Thread java test fail occurred tearDown source code doListen selector events socketTimeouts selector select getSelectorTimeout selector field referenced NioReceiver stopListening call issue observed reruns attaching complete log file test
52213	Field org apache catalina tribes transport bio util FastQueue enabled flag org apache catalina tribes transport bio util FastQueue enabled read written multiple threads concurrently http svn apache org repos asf svn tomcat trunk java org apache catalina tribes group interceptors MessageDispatchInterceptor java accesses properly sufficient flag protect access https securecoding cert org confluence display java VNA Ensure visibility accessing shared primitive variables bug pattern Keshmesh https keshmesh illinois Eclipse plugin analyzes source code Java programs common concurrency bug patterns Keshmesh detect concurrency bug pattern
52245	Add detection Jar WebappClassLoader API detected code WebappClassLoader Applications api jar start patch follow
52259	synchonization issues dead lock realm presented configuration Problem Tomcat startup freezes INFO Deploying web application directory Nuances errors displayed logs tomcat process shutted shutdown script http request port wait multi host configuration setup works previous build including lib jar files tomcat replaced lib jar files tomcat works fine asap fill free contact details mail
52303	NonLoginAuthenticator honour session timeout SingleSignOn Valve Created attachment details proposed diff org apache catalina authenticator NonLoginAuthenticator problem explored discussed tomcat users mailing list title SingleSignonValve webapp session timeout Basically webapp define login config valid servlet spec participate single signon realm inherit security principal established webapp realm session timeout honoured sessions SingleSignOnEntry expired problem NonLoginAuthenticator time SSO helper logic primitive logic completely commented tomcat simple webapps drop ins demonstrate problem proposed heavily commented proposed explain surrounding dependent logic relies moment SSO based unit test AuthenticatorBase concrete classes create eventually
52316	AccessLog log size files sendfile Confirming problem reported users list NIO APR protocols file delivered sendfile Note file trigger sendfile Steps reproduce Configure connectors Connector port protocol org apache coyote http Http Protocol connectionTimeout redirectPort Connector port protocol org apache coyote http Http NioProtocol connectionTimeout redirectPort Connector port protocol org apache coyote http Http AprProtocol connectionTimeout redirectPort configure AccessLogValve Host Valve className org apache catalina valves AccessLogValve directory logs prefix localhost access log suffix txt pattern quot quot difference common pattern big file webapps ROOT file Download times http localhost file http localhost file http localhost file Access Log Dec file HTTP Dec file HTTP Dec file HTTP Note printed file size Nio Apr connectors Workarounds Disable sendfile useSendfile connector Add pattern AccessLogValve org apache tomcat sendfile start org apache tomcat sendfile log range bytes sendfile Dec file HTTP Dec file HTTP Dec file HTTP timing printed logging occurs data bytes correct log file size request attributes set sendfile account aborted downloads current logging limitation mentioned documentation patterns AccessLogValve valve html Javadoc
52321	coda prelude order respected WebXml http svn apache org repos asf tomcat trunk java org apache catalina deploy WebXml java ApplicationJspConfigDescriptor http svn apache org repos asf tomcat trunk java org apache catalina core ApplicationJspConfigDescriptor java jspPropertyGroups HashSet kind set doesn preserve order elements guaranteed spec compliant LinkedHashSet HashSet fixes issues
52326	log level failed loading Reference https jira springsource org browse SPR Tomcat attempts load classes searches annotations loading attempts failed silently application attempts load classes receive actual error Tomcat prints stack trace loading error wrong signal wrong application WARN tomcat logs stack trace misleading initial ContextConfig java drop log level debug checkHandleTypes method clazz clazz context getLoader getClassLoader loadClass className NoClassDefFoundError log debug getString contextConfig invalidSciHandlesTypes className ClassNotFoundException log warn getString contextConfig invalidSciHandlesTypes className ClassFormatError log warn getString contextConfig invalidSciHandlesTypes className Throwable ExceptionUtils handleThrowable log warn getString contextConfig invalidSciHandlesTypes className achieve classloading containers ignore type classloading errors sequence
52328	Massive garbage production observed response writer application Tomcat writing content response writer servlet Writer response getWriter append regularly measured performance application stress multiple simultaneous requests upgraded Tomcat observed performance degradation request roundtrip machine tests compared application deployed Tomcat Profiling JProfiler massive amount objects java nio HeapCharBuffer produced minutes writing response multiple statements append small strings single chars work properly experiment wrapped response writer BufferedWriter buffer brought application performance normal anti pattern usage Tomcat provide documentation bug BConverter applied call CoyoteWriter write methods generates garbage buffers call response stream buffer buffer encoding step late garbage Tomcat buffer encodes objects pattern eligible servlet API bug
52356	Prevent potential data races org apache catalina tribes transport bio util FastQueue size accesses org apache catalina tribes transport bio util FastQueue size org apache catalina tribes transport bio util FastQueue add ChannelMessage Member InterceptorPayload org apache catalina tribes transport bio util FastQueue remove read access org apache catalina tribes transport bio util FastQueue getSize properly lead race condition org apache catalina tribes transport bio util FastQueue getSize bug manifests Tomcat developers remove org apache catalina tribes transport bio util FastQueue getSize access shared field safely Field org apache catalina tribes transport bio util FastQueue size declared http svn apache org repos asf svn tomcat trunk java org apache catalina tribes transport bio util FastQueue java
52387	org catalina tomcat startup Tomcat silence method doesn host add applications Created attachment details patch solves issue method calls getHost host methods call host
52405	Update Servlet Rev list http jcp org aboutJava communityprocess maintenance jsr servlet reva html checked
52440	Wrong getValueReference behaviour Facelets parameter expressions ValueExpression method getValueReference base object property returns ValueExpression Facelets parameter someVar concreteObject property ValueExpression someVar method getValueReference guess simple expression someVar logicaly parent expressions ValueReference hierachical ValueReference lookup workaround Java Reflect API code illustrates problem ELContext elContext FacesContext getCurrentInstance getELContext ValueReference reference exp getValueReference elContext reference exp TagValueExpressionUEL ValueExpressionImpl origExp ValueExpressionImpl TagValueExpressionUEL exp getWrapped TODO find base property Code portable Tomcat implementation details Field field ReflectionUtils findField origExp getClass IMPL PROPERTY field setAccessible VariableMapper varMapper VariableMapper ReflectionUtils getField field origExp field ReflectionUtils findField origExp getClass IMPL NODE PROPERTY field setAccessible SimpleNode node SimpleNode ReflectionUtils getField field origExp varMapper node ValueExpression parentExp varMapper resolveVariable node getImage parentExp reference parentExp getValueReference elContext reference reference getValueReference parentExp PropertyNotFoundException LOG warn Property getMessage
52443	Tomcat defaultRealm shares Realm instance web applications INFO log message lifecycle Created attachment details trunk TestTomcat twoapps patch Inspired thread dev http tomcat markmail org thread qxa gjsaav ytcd problem Realm unit tests problem Tomcat getDefaultRealm effectively factory method Realm instance creates Realm caches Tomcat defaultRealm Tomcat addWebapp method calls ctx setRealm defaultRealm Context creates Realm instance shared web applications Context starts calls start method realm method create web applications start message logged org apache catalina util LifecycleBase start INFO start method called component Realm Simple start called call reproduce Apply attached patch org apache catalina startup TestTomcat trunk test start method called message logs ways resolve call start Realm started Lifecycle getState Change Tomcat share Realm instance Contexts assign Engine create instance time lead problems Context stopped clear Realm stopped stopped affect webapp problems asynchronous start contexts implemented consistent server xml parsed
52444	Classloading based ServletContainerInitializer HandlesTypes processing result startup times background noting SCI processing involves expensive classloading larger applications suffer startup times encouraged shut functionality metadata complete issue intended address classloading based approach HandlesTypes processing replacing faster generally problematic ASM
52445	Methodexpression arguments fails nested properties basically improvement issue https issues apache org bugzilla bug cgi Invoking method expression arguments fails nested properties bean submit foo works bean nested submit foo work Bean javax faces bean ManagedBean javax faces bean RequestScoped ManagedBean RequestScoped Bean submit System println Submit argument submit String argument System println Submit argument argument submit String argument System println Submit argument argument Bean getNested Bean test xhtml DOCTYPE html html lang xmlns http org xhtml xmlns http java sun jsf html head title Tomcat nested methodexpression test title head body form commandButton bean submit argument action bean submit commandButton bean submit argument action bean submit foo commandButton bean submit argument action bean submit bar commandButton bean nested submit argument action bean nested submit commandButton bean nested submit argument action bean nested submit foo commandButton bean nested submit nested bean argument action bean nested submit bar form body html Open invoke buttons sequence top bottom result Submit argument Submit argument foo Submit argument bar Submit argument Submit argument Jan sun faces lifecycle InvokeApplicationPhase execute WARNING bean nested submit bar javax MethodNotFoundException test xhtml action bean nested submit bar Method Bean submit javax faces FacesException bean nested submit bar javax MethodNotFoundException test xhtml action bean nested submit bar Method Bean submit sun faces application ActionListenerImpl processAction ActionListenerImpl java javax faces component UICommand broadcast UICommand java javax faces component UIViewRoot broadcastEvents UIViewRoot java javax faces component UIViewRoot processApplication UIViewRoot java sun faces lifecycle InvokeApplicationPhase execute InvokeApplicationPhase java sun faces lifecycle Phase doPhase Phase java sun faces lifecycle LifecycleImpl execute LifecycleImpl java javax faces webapp FacesServlet service FacesServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused javax faces MethodNotFoundException javax MethodNotFoundException test xhtml action bean nested submit bar Method Bean submit javax faces component MethodBindingMethodExpressionAdapter invoke MethodBindingMethodExpressionAdapter java sun faces application ActionListenerImpl processAction ActionListenerImpl java Caused javax MethodNotFoundException test xhtml action bean nested submit bar Method Bean submit sun faces facelets TagMethodExpression invoke TagMethodExpression java javax faces component MethodBindingMethodExpressionAdapter invoke MethodBindingMethodExpressionAdapter java Note button invokes wrong method arguments button exception method basically method arguments exception occurs Mojarra MyFaces tested Mojarra MyFaces Tomcat
52461	java lang IllegalArgumentException URI scheme file thrown ContextConfig getDefaultWebXmlFragment project embeds Apache Tomcat OSGi provide web xml bundles jar files provide separate folder file system Apache Tomcat migrate Apache Tomcat change versions Apache Tomcat exception thrown Caused java lang IllegalArgumentException URI scheme file java File init File java org apache catalina startup ContextConfig getDefaultWebXmlFragment ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java OSGi environment URI scheme file bundleresource call globalWebXml getSystemId OSGi environment returns bundleresource fwk conf web xml propose change ContextConfig getDefaultWebXmlFragment method guarantee URI scheme file patch trunc Iâ€™m comments Violeta Georgieva Patch proposal ContextConfig java ContextConfig java revision ContextConfig java working copy java UnsupportedEncodingException java net JarURLConnection java net MalformedURLException java net URI java net URISyntaxException java net URL java net URLConnection globalWebXml File File URI globalWebXml getSystemId globalTimeStamp lastModified URISyntaxException URL URL globalWebXml getSystemId globalTimeStamp openConnection getLastModified MalformedURLException globalTimeStamp IOException globalTimeStamp hostWebXml File File URI hostWebXml getSystemId hostTimeStamp lastModified URISyntaxException URL URL hostWebXml getSystemId hostTimeStamp openConnection getLastModified MalformedURLException hostTimeStamp IOException globalTimeStamp entry entry getGlobalTimeStamp globalTimeStamp
52474	load listeners declared blank spaces tld file Created attachment details debugging tomcat source load listeners declared blank spaces tld file Removing blank spaces application
52480	AntCompiler problems whitespace pathname Overview Bug opened Linux Windows detailed environments fails compile JSP compiler AntCompiler whitespace absolute pathname dir fail absolute pathname dir URI compatible characters tested whitespace Configuring logging properties AntCompiler set level FINEST logs whitespace translated javac task fails errors javax servlet exist tests AntCompiler tomcat installed directory absolute pathname whitespace compilation AntCompiler tomcat installed directory absolute pathname whitespace compilation fails JDTCompiler compilation whitespace tested environments steps reproduce History ice advice mailing list googled deployment CGI Mode executable full path spaces work https issues apache org bugzilla bug cgi Tomcat fails start linux CATALINA space https issues apache org bugzilla bug cgi java endorsed dirs JSP compilation forked comment https issues apache org bugzilla bug cgi spaces Note Windows installation wizard deploys Program Files Apache Software Foundation spaces Background JDTCompiler huge JSP fails compile JDTCompiler unresolved compilation error delete code JSP compiles resolve problem specific JSP boundary compiles compile suppressSmap development afford deploy application production server compiler randomly fail JSP Previous version application compiled Sun Oracle JDK prefer change compiler brand Build Platform Test environment Linux bits Ubuntu LTS tomcat Files ant jar ant launcher jar ant copied tomcat lib dir File tools jar copied JDK tomcat lib dir javac version returns javac java version returns java version Java Runtime Environment build Java HotSpot Client build mixed mode sharing Test environment Windows bits tomcat Files ant jar ant launcher jar ant copied tomcat lib dir File tools jar copied JDK tomcat lib dir javac exe version returns javac java exe version returns java version Java Runtime Environment build Java HotSpot Bit Server build mixed mode Note Windows Steps reproduce test Extract apache tomcat tar DIR Depending test DIR absolute pathname space Download apache ant bin tar Extract temp directory Copy apache ant lib ant jar apache ant lib ant launcher jar DIR lib Forget ant extracted directory deleted Copy JDK lib tools jar DIR lib mandatory fork Update original web xml starting servlet servlet jsp servlet servlet org apache jasper servlet JspServlet servlet init param param fork param param param failure init param init param param xpoweredBy param param param init param init param param compiler param param javac param JDK init param init param param suppressSmap param param param init param load startup load startup servlet Delete DIR work previous compilation tomcat startup startup bat running Windows http localhost DIR absolute pathname space fails works Actual tests Env DIR mnt DSK tmp FAILS Env DIR mnt DSK tmp apache tomcat WORKS Env DIR Users ekp Desktop Work apache tomcat FAILS Env DIR apache tomcat WORKS Expected compile JSP absolute pathname dir space suppose URI compatible character disturbing Windows installer deploys Program Files Apache Software Foundation spaces Excerpts log file FAIL environment translation FIN fine FIN finer finest GRAVE failure janv org apache jasper compiler JspRuntimeContext initClassPath janv org apache jasper compiler AntCompiler generateClass janv org apache jasper compiler AntCompiler generateClass GRAVE Javac exception Compile failed compiler error output details org apache tools ant taskdefs Javac compile Javac java org apache tools ant taskdefs Javac execute Javac java org apache jasper compiler AntCompiler generateClass AntCompiler java janv org apache jasper compiler AntCompiler generateClass GRAVE Environment Compile javaFileName mnt DSK tmp work Catalina localhost org apache jsp jsp java mnt DSK tmp bin bootstrap jar mnt DSK tmp bin tomcat juli jar mnt DSK tmp work Catalina localhost mnt DSK tmp lib mnt DSK tmp lib tools jar mnt DSK tmp lib tomcat dbcp jar mnt DSK tmp lib tomcat jdbc jar mnt DSK tmp lib jasper jar Excerpts log file WORK environment janv org apache jasper compiler JspRuntimeContext initClassPath janv org apache jasper compiler AntCompiler generateClass janv org apache jasper compiler AntCompiler generateClass FIN Compiled mnt DSK tmp apache tomcat work Catalina localhost org apache jsp jsp java
52500	Improve client certificate authentication
52511	Exception logged annotation scanning web apps WEB INF classes Created attachment details error exception trace web app WEB INF classes directory appears error exception trace logged web app startup Tomcat occur
52543	Exception SEVERE Error finishing response java lang ArrayIndexOutOfBoundsException java lang System arraycopy Method org apache coyote http AbstractOutputBuffer write AbstractOutputBuffer java org apache coyote http AbstractOutputBuffer sendStatus AbstractOutputBuffer java org apache coyote http AbstractHttp Processor prepareResponse AbstractHttp Processor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Response action Response java org apache coyote http AbstractOutputBuffer endRequest AbstractOutputBuffer java org apache coyote http InternalOutputBuffer endRequest InternalOutputBuffer java org apache coyote http AbstractHttp Processor endRequest AbstractHttp Processor java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java big application dont fact add cookie
52547	incorrect byeswritten log completed async request http AbstractHttp Processor call nextRequest socket closed keepAlive http http svn apache org repos asf tomcat tags TOMCAT java org apache coyote http AbstractHttp Processor java recycle caused socket close expected subsume behaviour nextRequest AbstractOutputBuffer recycle byteCount nextRequest lines http svn apache org repos asf tomcat tags TOMCAT java org apache coyote http AbstractOutputBuffer java result bytesWritten log request incorrectly increased size async http request
52577	Response output written filter truncated output written response filter truncated bytes scenario filter invoke getWriter chain doFilter request responseWrapper responseWrapper overrides getWriter method returns buffered writer real execution chain doFilter ApplicationDispather calls resetBuffer response turn calls reset OutputBuffer sets gotEnc field field initialized setConverter method called response getWriter wrapperResponse overrides getWriter OutputBuffer setConverter called OutputBuffer gotEnc Response close flushBuffer methods call OutputBuffer flush gotEnc conv flushBuffer called gotEnc conv conv flushBuffer workaround implement getWriter method responseWrapper Writer getWriter Writer originalWriter originalResponse getWriter save processing ourWriter change flushing conv conv flushBuffer invoke conv convert checks write methods conv
52586	requests forwarded request attribute javax servlet path info assigned incorrect servlet spec values javax servlet request uri javax servlet context javax servlet servlet path javax servlet path info javax servlet query string set values servlet serviced current request Tomcat populating path info path info serviced request servlet serviced request assignments afflicted defects explicitly tested issue impossible correctly reconstruct original request URI piecemeal concatenating context servlet path path info query string path info path servlet concatenation produce invalid URI target creating click retry links impossible workaround code critical issue deviation servlet spec spells behavior attributes
52587	NPE authenticator realm resource defined Realm authenticate NPE thrown STR Start stock modify server xml Comment Resource GlobalNamingResources Comment Realm Engine Deploy manager app log java lang NullPointerException org apache catalina realm RealmBase authenticate RealmBase java org apache catalina authenticator BasicAuthenticator authenticate BasicAuthenticator java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java pathological setup nice decent error message NPE
52591	UnsupportedOperationException logged fetching BasicDataSource loginTimeout BasicDataSource configured Resource simply list MBeans exception emitted stdout SEVERE Error attribute Catalina type DataSource context context host localhost javax sql DataSource jdbc myDataSource loginTimeout javax management RuntimeOperationsException Exception invoking method loginTimeout org apache tomcat util modeler BaseModelMBean getAttribute BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor getAttribute DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer getAttribute JmxMBeanServer java org apache catalina mbeans MBeanDumper dumpBeans MBeanDumper java org apache catalina manager JMXProxyServlet listBeans JMXProxyServlet java org apache catalina manager JMXProxyServlet doGet JMXProxyServlet java javax servlet http HttpServlet service HttpServlet java Caused java lang UnsupportedOperationException supported BasicDataSource org apache tomcat dbcp dbcp BasicDataSource getLoginTimeout BasicDataSource java sun reflect NativeMethodAccessorImpl invoke Method exception request fail puts ugly stack trace catalina UnsupportedOperationException emit error message isn SEVERE
52607	defined Dependencies extensions mechanism Tomcat result mail thread opening bug clear Dependencies extensions mechanism proposals Tomcat implementation separate property catalina ext dirs extensions location Tomcat classpath directories shared loader Pros Tomcat users property specifies directory extensions files located scanned ExtensionValidator validateApplication invocation Cons Additional configuration maintained Tomcat remove separate property catalina ext dirs start searching extensions Tomcat classpath directories shared loader Pros additional configuration needed shared libraries extensions property Cons ExtensionValidator validateApplication lot files scanned provide patch agree solution favourite proposal comments advance Violeta Georgieva http marc info
52669	Annotation processing WEB INF classes Servlets Listeners Filters skipped web app extracted classes packages embedded scenarios Annotation processing Servlets Listeners Filters skipped web app extracted screenshot classes packages screenshot embedded scenarios running Tomcat OSGI environment screenshot test web application attached test web app war history change introduces behaviour revision org apache catalina startup ContextConfig annotations processed correctly cases URL webinfClasses webinfClasses context getServletContext getResource WEB INF classes processAnnotationsUrl webinfClasses webXml MalformedURLException log error getString contextConfig webinfClassesUrl processed assuming FirDirContext NamingEnumeration Binding listBindings context getResources listBindings WEB INF classes listBindings hasMoreElements Binding binding listBindings nextElement binding getObject FileDirContext File webInfCLassDir File FileDirContext binding getObject getDocBase processAnnotationsFile webInfCLassDir webXml NamingException log error getString contextConfig webinfClassesUrl Violeta Georgieva
52671	NIO Connector Exception invoking method readBufSize writeBufSize JMX Proxy Servlet JDK versions tested NIO connector configured Connector protocol org apache coyote ajp AjpNioProtocol port redirectPort URIEncoding UTF maxThreads minSpareThreads connectionTimeout acceptorThreadCount query JMX proxy thread pool status http mydomain manager jmxproxy qry Catalina type ThreadPool ajp nio JMX proxy servlet returns valid response server general operation time Tomcat logs exceptions catalina Feb org apache catalina mbeans MBeanDumper dumpBeans Schwerwiegend Error attribute Catalina type ThreadPool ajp nio readBufSize javax management RuntimeOperationsException Exception invoking method readBufSize org apache tomcat util modeler BaseModelMBean getAttribute BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor getAttribute DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer getAttribute JmxMBeanServer java org apache catalina mbeans MBeanDumper dumpBeans MBeanDumper java org apache catalina manager JMXProxyServlet listBeans JMXProxyServlet java org apache catalina manager JMXProxyServlet doGet JMXProxyServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina filters SetCharacterEncodingFilter doFilter SetCharacterEncodingFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpNioProcessor process AjpNioProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang NullPointerException org apache tomcat util net SocketProperties getRxBufSize SocketProperties java org apache tomcat util net NioEndpoint getReadBufSize NioEndpoint java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat util modeler BaseModelMBean getAttribute BaseModelMBean java Feb org apache catalina mbeans MBeanDumper dumpBeans Schwerwiegend Error attribute Catalina type ThreadPool ajp nio writeBufSize javax management RuntimeOperationsException Exception invoking method writeBufSize org apache tomcat util modeler BaseModelMBean getAttribute BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor getAttribute DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer getAttribute JmxMBeanServer java org apache catalina mbeans MBeanDumper dumpBeans MBeanDumper java org apache catalina manager JMXProxyServlet listBeans JMXProxyServlet java org apache catalina manager JMXProxyServlet doGet JMXProxyServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina filters SetCharacterEncodingFilter doFilter SetCharacterEncodingFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpNioProcessor process AjpNioProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang NullPointerException org apache tomcat util net SocketProperties getTxBufSize SocketProperties java org apache tomcat util net NioEndpoint getWriteBufSize NioEndpoint java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat util modeler BaseModelMBean getAttribute BaseModelMBean java
52724	incomplete resource leak bugs Catalina java revision aimed remove resource leak bug FileInputStream object fis created Socket socket created OutputStream object stream FileInputStream object inputStream file tomcat trunk java org apache catalina startup Catalina java incomplete problems InputSource object created closed statements lines exception fis closed expected statements lines exception socket stream closed expected statements lines exception inputStream closed expected close resource objects putting close operations finaly block structure
52725	org apache jasper compiler JspUtil getTagHandlerClassName org apache jasper Constants TAG FILE org apache jasper compiler JspUtil method String getTagHandlerClassName String path String urn ErrorDispatcher err JasperException string constants org apache jsp tag web org apache jsp tag meta TAG FILE field org apache jasper Constants code adjusted Constants TAG FILE web Constants TAG FILE meta
52726	incomplete resource leak bug MemoryUserDatabase java revision aimed remove resource leak bug FileInputStream object fis created method open file tomcat trunk java org apache catalina users MemoryUserDatabase java incomplete problems statements lines exception fis closed expected close resource objects putting close operations finaly block structure
52727	incomplete resource leak bug HostConfig java revision aimed remove resource leak bug BufferedOutputStream object ostream created method deployWAR file tomcat trunk java org apache catalina startup HostConfig java incomplete problems ostream created temp FileOutputStream object created temp FileOutputStream object leaked close resource objects putting close operations object finaly block structure
52729	incomplete resource leak bug CometConnectionManagerValve java revision aimed remove resource leak bug CometEventImpl object cometEvent created method lifecycleEvent file tomcat trunk java org apache catalina valves CometConnectionManagerValve java incomplete problems statements lines exception cometEvent closed expected close resource objects putting close operations finaly block structure
52731	incomplete resource leak bug JDTCompiler java revision aimed remove resource leak bug BufferedReader object reader created FileInputStream object created method getContents file tomcat trunk java org apache jasper compiler JDTCompiler java incomplete problems reader created temp InputStreamReader created temp InputStreamReader leaked close resource objects putting close operations finaly block structure
52732	incomplete resource leak bug ExpressionFactory java revision aimed remove resource leak bug BufferedReader object created InputStream object created method getClassNameServices file tomcat trunk java javax ExpressionFactory java incomplete problems created temp InputStreamReader created temp InputStreamReader leaked close resource objects putting close operations resource object finaly block structure
52758	Jasper illegally org eclipse jdt internal compiler env ICompilationUnit Eclipse illegal implementation Eclipse bug https bugs eclipse org bugs bug cgi causing severe problems Eclipse SDK Jasper system question org eclipse jdt internal compiler env ICompilationUnit resides internal implemented clients ideal resolution problem Jasper discontinue implementing fine Jasper updating code resolve compilation problems
52770	Potential Bug Inconsistency NioBlockingSelector java Ken Cheung Computer Science Phil student observed code clones Tomcat inconsistent code tomcat trunk java org apache tomcat util net NioBlockingSelector java att getWriteLatch att getWriteLatch getCount att startWriteLatch poller add att SelectionKey WRITE reference att awaitWriteLatch writeTimeout TimeUnit MILLISECONDS InterruptedException ignore Thread interrupted att getWriteLatch att getWriteLatch getCount interrupted haven received notification poller keycount latch countdown happened keycount att resetWriteLatch writeTimeout keycount timedout System currentTimeMillis time writeTimeout tomcat trunk java org apache tomcat util net NioBlockingSelector java att getReadLatch att getReadLatch getCount att startReadLatch poller add att SelectionKey READ reference readTimeout att awaitReadLatch MAX TimeUnit MILLISECONDS att awaitReadLatch readTimeout TimeUnit MILLISECONDS InterruptedException ignore Thread interrupted att getReadLatch att getReadLatch getCount interrupted haven received notification poller keycount latch countdown happened keycount att resetReadLatch readTimeout keycount timedout System currentTimeMillis time readTimeout Quick description inconsistency code snippets code code check readTimeout code checker thought potential bug inconsistency Hope helps
52772	JspC checking uriRoot option validness org apache jasper JspC execute method uriRoot scans jsp files uriRoot checks uriRoot directory desirable check uriRoot directory scanning suggestion uriRoot JasperException Localizer getMessage jsp error jspc uriroot File uriRootF File uriRoot uriRootF exists uriRootF isDirectory JasperException Localizer getMessage jsp error jspc uriroot dir context initServletContext explicit process jsp webapp size scanFiles uriRootF
52776	Generator JspFragment invoke implementation reset ELContext JspContext developer captures JspFragment calls invoke JspContext attribute enclosing pageContext ELContext set generated JspFragment subclass reset original invoking JspContext expressions searching wrong jspContext attribute values org apache jasper compiler Generator responsible creating JspFragment subclass represent compiled fragment generatePostamble method emits generated code set JspContext attribute ELContext printil jspContext getELContext putContext javax servlet jsp JspContext jspContext doesn original jsp invoke tag invoke fragment undoubtedly people code generated visit Node InvokeAction Generator explicitly restores context printil jspContext getELContext putContext javax servlet jsp JspContext getJspContext call invoke Writer JspFragment don tidy code resolution JspFragment invoke method tidy puts change JspContext attribute shouldn restore context generated jsp invoke code tested solution
52777	Automatically shut versions parallel deployment parallel deployment older version application sessions shut automatically release tomcat JVM resources Christopher Schultz suggested approaches Tomcat user list Modify parallel deployment code register MBean NotificationListener filters events expiring session notifications outgoing webapp listener receives notification check current session count suppose filter step session count start thread stops outgoing webapp registers listener Install SessionEventListener counts sessions count JMX suppose equal starts thread Install Timer thread polls intervals minute sessions dead starts thread idea cleanest Tomcat fire MBean events session count changing
52792	Incomplete error message lookup resource bound naming Created attachment details Patch proposal servlet specifies Resource field level attached sample application request servlet Tomcat inject resource instantiate servlet resource ISE returned response code error message returned error full composite Tomcat lookup context incorrect png user understand resource problem context propose patch attached screenshot correct png corrected error message attached advance Violeta Georgieva
52830	DataSource JNDI lookup javax naming failed tomcat hibernate Naming exception dataSource javax naming Works search string hibernate migrate code https hibernate onjira browse HHH
52833	NPE Upgrading maven plugin goal runs tomcat conf dir embed version generate NPE Log org apache catalina util LifecycleBase LifecycleBase java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java org apache tomcat maven plugin tomcat AbstractRunMojo startContainer AbstractRunMojo java org apache tomcat maven plugin tomcat AbstractRunMojo execute AbstractRunMojo java org apache maven plugin DefaultBuildPluginManager executeMojo DefaultBuildPluginManager java org apache maven lifecycle internal MojoExecutor execute MojoExecutor java org apache maven lifecycle internal MojoExecutor execute MojoExecutor java org apache maven lifecycle internal MojoExecutor execute MojoExecutor java org apache maven lifecycle internal LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apache maven lifecycle internal LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apache maven lifecycle internal LifecycleStarter singleThreadedBuild LifecycleStarter java org apache maven lifecycle internal LifecycleStarter execute LifecycleStarter java org apache maven DefaultMaven doExecute DefaultMaven java org apache maven DefaultMaven execute DefaultMaven java org apache maven cli MavenCli execute MavenCli java org apache maven cli MavenCli doMain MavenCli java org apache maven cli MavenCli main MavenCli java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org codehaus plexus classworlds launcher Launcher launchEnhanced Launcher java org codehaus plexus classworlds launcher Launcher launch Launcher java org codehaus plexus classworlds launcher Launcher mainWithExitCode Launcher java org codehaus plexus classworlds launcher Launcher main Launcher java
52839	unit test DigestAuthenticator SingleSignOn Created attachment details complete file test SingleSignOn Digest Authenticator Code passes validation executes trunk svn commit
52846	Programmatic login UserDatabaseRealm returns error IMHO HttpServletRequest login define login config NonLoginAuthenticator login config HttpServletRequest login UserDatabaseRealm GenericPrincipal Memory User set session AuthenticatorBase invoke principal registered session set request MemoryUser set request principal RealmBase hasRole returns result error returned
52850	miscellaneous fixes Tomcat Memory Leak Detection code Problem Description Tomcat memory leak detection issues detection fixing code tested Sun JVMs lot reflection based code work IBM JDK Tests tomcat source test org apache catalina loader incomplete protection Tomcat classloader memory leaks categories threadlocal memory leaks key displayed correctly warning messages dealing indirect references threadlocals org apache catalina loader WebappClassLoader loadedByThisOrChild Object incorrectly traverses object classloader hierarchy current classloader hierarchy Problem Conclusion extensive testing IBM JDKs cleaned sanitized reflection code executors timers threads IBM JDK tests detecting threadlocal leaks thread leaks ThreadLocal leak reporting corrected loadedByThisOrChild method addition expungeStaleEntries method code resilient leak detection scenarios
52858	High CPU load NIO connector client breaks connection unexpectedly reproduce Tomcat NIO connector HTTPS scheme client requests big file breaks connection unexpectedly python script reproduce problem reproduce bug Tomcat NIO connector Install python iptables https github ldx python iptables downloads Author Dmitry Kukushkin dmitry kukushkin external telekom threading Thread threading Lock socket select time traceback ssl sys iptc blockedPorts dict getCssRequest big file HTTP Host host port User Agent Mozilla iPhone CPU iPhone Mac AppleWebKit KHTML Gecko Mobile Accept text css Accept Language Accept Encoding gzip deflate Connection alive Client Thread def init tid lock Thread init lock lock tid tid def print Starting thread tid clientSocket socket INET SOCK STREAM sslSocket ssl wrap socket clientSocket remoteAddr host port sslSocket connect remoteAddr localAddr localPort sslSocket getsockname print socket created tid sfd sport tid clientSocket fileno localPort deleteFirewallRule localPort lock sslSocket send getCssRequest data sslSocket recv socket closed clientSocket shutdown SHUT clientSocket close createFirewallRule localPort lock Exception print Error print exc staticmethod def createFirewallRule port lock lock acquire print Creating iptables rule port port rule iptc Rule rule protocol tcp rule target iptc Target rule REJECT match iptc Match rule tcp match sport port rule add match match chain iptc Chain iptc TABLE FILTER OUTPUT chain insert rule rule rule target reset blockedPorts port rule lock release staticmethod def deleteFirewallRule port lock lock acquire port blockedPorts print Deleteng iptables rule port port rule blockedPorts port chain iptc Chain iptc TABLE FILTER OUTPUT chain delete rule rule chain flush del blockedPorts port lock release main len sys argv print Problem number threads exit clients lock Lock range sys argv Client lock clients append start print Joining clients join client shutdowns socket making connection closed disappears blocked firewall script high CPU load Servers polls socket descriptor reading writing EPOLLIN event closed connection write failing EAGAIN polling writing reading events EPOLLIN write attached strace snippet pid epoll ctl EPOLL CTL DEL pid gettimeofday pid epoll wait unfinished pid epoll wait resumed EPOLLIN pid read pid gettimeofday pid epoll wait unfinished pid epoll wait resumed EPOLLIN pid read pid gettimeofday pid gettimeofday pid gettimeofday pid epoll ctl EPOLL CTL ADD EPOLLOUT pid epoll ctl EPOLL CTL MOD EPOLLIN EPOLLOUT pid gettimeofday pid epoll wait EPOLLIN pid gettimeofday pid gettimeofday pid write EAGAIN Resource temporarily unavailable pid gettimeofday pid gettimeofday pid epoll wait EPOLLIN pid gettimeofday pid gettimeofday pid write EAGAIN Resource temporarily unavailable pid gettimeofday pid gettimeofday pid epoll wait EPOLLIN pid gettimeofday pid gettimeofday pid write EAGAIN Resource temporarily unavailable pid gettimeofday pid gettimeofday solution Check EPOLLOUT event arrived attempting send file apache tomcat src java org apache tomcat util net NioEndpoint java apache tomcat src java org apache tomcat util net NioEndpoint java attach attachment remember NioChannel channel attachment getChannel isReadable isWritable attachment getSendfileData isWritable attachment getSendfileData processSendfile attachment attachment getComet check thread
52926	NPE processSocket sporadic issues triggering proxy errors NIO connector Nginx caused dropped connections streams Tomcat Tomcat log SEVERE Error allocating socket processor java lang NullPointerException org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller cancelledKey NioEndpoint java org apache tomcat util net NioEndpoint Poller timeout NioEndpoint java org apache tomcat util net NioEndpoint Poller NioEndpoint java java lang Thread Thread java code processSocket NioEndpoint attachment setCometNotify reset reg Attachment fetched KeyAttachment attachment KeyAttachment socket getAttachment socket getAttachement method method capable returning check multiple locations inconsistent
52953	BASIC Authentication DIGEST mode work hash stored uppercase Created attachment details patch current dev trunk adding toLowerCase hash retrieval BASIC Authentication DIGEST mode work hash stored uppercase problem hashes generated CATALINA bin digest prepared software generate uppercase hex strings hashes confusing figure digest authentication working hash comparisons equalsIgnoreCase compare hashes digest version RealmBase authenticate prepares serverDigestValue Principal hash prepending nonce digest fields rehashing result hash serverDigest clientDigest browser test change DIGEST hash upper attempt authenticate patch current dev trunk simply toLowerCase retrieved server side hash Neale Rudd
52954	Allowing broken android HTTP DIGEST support Android browser broken implementation DIGEST support causing fail authentication Tomcat issues bypassed DigestAuthenticator Android devices authenticate nonce count digits nonce count LHEX Fail RFC hexadecimal count number requests including current request client nonce request Android sending bit number bit number Tomcat failing based length request match RFC fail based shorter Additionally wrapped client send nonce times single request fail check count info getCount uri absolute URI browsers examples relative URI RFC specifies digest uri uri digest uri digest uri request uri HTTP RFC HTTP Request URI absoluteURI abs path authority transition absoluteURIs requests versions HTTP HTTP servers accept absoluteURI form requests HTTP clients generate requests proxies bit vague absolute uri validation fail issue listed showing problems Apache http code google android issues detail listed enhancement Tomcat isn broken interested opinions patch Tomcat situations allowable setting Realm block digest Android devices problem Neale Rudd
52957	ClassCastException removing Valve Created attachment details Patch proposal exception thrown StandardPipeline removeValve invoked Caused java lang ClassCastException test MyValve org apache catalina Lifecycle org apache catalina core StandardPipeline removeValve StandardPipeline java org apache catalina core StandardPipeline destroyInternal StandardPipeline java org apache catalina util LifecycleBase destroy LifecycleBase java test MyValve Valve attaching patch review comment advance Violeta Georgieva
52970	MethodNotFoundException enum method arguments JSF view snippet form commandButton submit action bean submit FOO form JSF bean snippet ManagedBean RequestScoped Bean enum Type FOO BAR submit Type type System println type javax MethodNotFoundException works Glassfish spec tells string coerced enum type
52974	NameNotFoundException thrown field method annotated Resource annotation Created attachment details Patch proposal web application attached Servlet annotated Resource field annotated Resource method request Servlet receiving javax naming NameNotFoundException test TestServlet bound Context org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina valves ErrorReportValve invoke ErrorReportValve java searched sources org apache catalina startup WebAnnotationSet processes prepares binding Resource annotation level org apache catalina core DefaultInstanceManager process Resource annotation field method level inject Object processed bound naming NameNotFoundException thrown propose patch attached comments advance Violeta Georgieva Steps reproduce issue Deploy attached web application Request http localhost test TestServlet NameNotFoundException thrown Apply patch restart Tomcat Request http localhost test TestServlet browser Annotated field test Annotated method test
52998	Performance issue ExpressionFactory newInstance javax ExpressionFactory newInstance implementation Tomcat cache created instance performs discovery invocation discovery process involves file named META INF services javax ExpressionFactory invocation method involves reading file issue reported dev list thread performance problems myfaces testing starting http tomcat markmail org thread bbvzmkvyvryvn http marc info thread references myfaces method invocation performance http mail archive dev myfaces apache org msg html evaluation problem specific Tomcat ExpressionFactory newInstance method Tomcat hits javax BeanELResolver invoke ExpressionFactory newInstance called invocation places factory instance stored field good performance breaks discovery process consequences implementation bundled web application bug places org apache jasper runtime JspApplicationContextImpl expressionFactory org apache jasper compiler Validator ValidateVisitor EXPRESSION FACTORY
52999	Performance issue locking ContainerBase fireContainerEvent reported dev list org apache catalina core ContainerBase fireContainerEvent method critical listeners list listeners toArray list called pretty operation request session map code tomcat candidate CopyOnWriteArrayList confirm fireContainerEvent calls places StandardSession nested loops loop StandardSession array context getApplicationEventListeners copying list container listeners array context fireContainerEvent confirm reported problem request attributes code send events access solve ReadWriteLock helper avoids copying array access copy write classify enhancement request Thread performance problems myfaces testing dev list starting http tomcat markmail org thread bbvzmkvyvryvn http marc info
53056	Add APR version number tcnative version INFO log message tcnative starts emits catalina org apache catalina core AprLifecycleListener init INFO Loaded APR based Apache Tomcat library Apr org apache catalina core AprLifecycleListener init INFO APR capabilities IPv sendfile accept filters random nice APR version displayed tcnative version OpenSSL version
53057	Add OpenSSL version number INFO log message initializing nice message confirming initialization OpenSSL including version number
53062	Tomcat doesn normalize absolute urls redirect Created attachment details demo app demonstrates problem Issue request serv check produced Location response header Issuing redirect response sendRedirect serv lead response header Location http localhost serv problems smart user agents Internet Explorer JMeter problem reported times Apache Wicket Jira Wicket works relative urls web container absolute redirect needed Tomcat produces absolute urls user agent normalize web containers normalize url server side user agents life easier https issues apache org jira browse WICKET https issues apache org jira browse WICKET
53063	Inconsistency documentation Connector maxConnections property documentation maxConnections property BIO HTTP Connector defaults maxThreads Additionally documentation executor property thread properties Connector includes maxThreads BIO HTTP Connector defined executor maxConnections maxThreads Executor fact appears maxThreads Connector object supposed https tomcat apache org tomcat doc config http html Standard Implementation confirmed test Download Tomcat Edit conf server xml uncomment tomcatThreadPool executor comment HTTP connector uncomment HTTP connector executor Start Tomcat connect jconsole Catalina ProtocolHandler maxConnections set maxThreads executor Tomcat edit conf server xml add maxThreads attribute connector set start tomcat Examine Catalina ProtocolHandler maxConnections property set Suggestions Update documentation maxConnections BIO HTTP Connector defaults maxThreads Connector presence executor maxConnections takes maxThreads executor executor preferences
53067	WebSocket implementation issue wrapped requests Originally reported Atmosphere https github Atmosphere atmosphere issues WebSocketServlet request hasn wrapped RequestFacade wrapped cycle find original request
53074	websocket java net SocketTimeoutException Read timed caused server xml connectTimeout connectTimeout set issue WebSocket connection java net SocketTimeoutException Read timed java net SocketInputStream socketRead Method java net SocketInputStream read SocketInputStream java org apache coyote http upgrade UpgradeBioProcessor read UpgradeBioProcessor java org apache catalina websocket WsFrame nextFrame WsFrame java org apache catalina websocket WsInputStream nextFrame WsInputStream java org apache catalina websocket StreamInbound onData StreamInbound java org apache coyote http upgrade UpgradeProcessor upgradeDispatch UpgradeProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Increasing delay issue timeout occurs
53081	WebappClassLoader java lang OutOfMemoryError findResourceInternal examining code WebappClassLoader findResourceInternal http grepcode file repo maven org maven org apache tomcat tomcat catalina org apache catalina loader WebappClassLoader java conclusion findResourceInternal loads binary content resource binary content findClassInternal needed findResource cases OutOfMemoryError big media file packaged application stack trace http stackoverflow questions Solution binary content loaded types resources classpath properties fileNeedConvert
53087	BackupManager replicate session access time Created attachment details BackupManager replicate session access time BackupManager replicate session access time primary session change attribute access primary session backup node expire session patch replicate session access time
53090	Servlet superclass injection targets Created attachment details patch processing servlet superclass injections folks running Tomcat JEE container Web Profile CTS tests scenario servlet regular env entry element field injection target equal defined app web xml injection target points field annotated app boots Tomcat handles injections servlet processes defined explicitly servlet ignoring superclasses attaching patch top trunk fixed issue small Tomcat respect injections servlet superclasses behavior Bobby
53119	java nio BufferOverflowException AjpAprProcessor output AJP client disconnects reported users list note Tomcat Bugzilla time wrote BufferOverflowException sporadically Tomcat AJP APR Connector time couldn reproduce exception looked today create client sends AJP message aborts connection BufferOverflowException Tomcat Tomcat Tomcat Oracle JDK Windows bit reproduce server side create web application servlet generate random data WebServlet html MyTestServlet HttpServlet serialVersionUID doGet HttpServletRequest request HttpServletResponse response ServletException IOException response setContentType text plain response setCharacterEncoding utf bytesToWrite write bytes client OutputStream response getOutputStream write bytesToWrite IOException Ignore Deploy application ROOT servlet reachable Configure Tomcat AJP APR connector listening port client side create program AjpTester main String args IOException ajpPacketBytes AJP REQUEST xff Socket Socket localhost connect AJP port OutputStream sout getOutputStream InputStream sin getInputStream sout write ajpPacketBytes request Url Read bytes exit JVM buf read bytesRead read sin read buf bytesRead read bytesRead System exit client send AJP REQUEST message requests URL sends Connection alive Host localhost headers Tomcat display exception Apr org apache coyote ajp AjpAprProcessor process Schwerwiegend Error processing request java nio BufferOverflowException java nio DirectByteBuffer DirectByteBuffer java org apache coyote ajp AjpAprProcessor output AjpAprProcessor java org apache coyote ajp AbstractAjpProcessor SocketOutputBuffer doWrite AbstractAjpProcessor java org apache coyote Response doWrite Response java org apache catalina connector OutputBuffer realWriteBytes OutputBuffer java org apache tomcat util buf ByteChunk flushBuffer ByteChunk java org apache catalina connector OutputBuffer doFlush OutputBuffer java org apache catalina connector OutputBuffer close OutputBuffer java org apache catalina connector Response finishResponse Response java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpAprProcessor process AjpAprProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java guess exception harmless fill log files clients disconnect frequently receiving data Note exception occurs regular ClientAbortException java IOException Failed send AJP message thrown org apache catalina connector OutputBuffer realWriteBytes OutputBuffer java exception occurs AJP BIO AJP NIO http markmail org message zogi tfbz kyw http markmail org message ntejdw pfhlqodr
53138	download file size NIO connector tomcat version configuration download tomcat application java script file size downloaded client connector NIO days issue Tomcat upgraded latest Tomcat version started problem file downloaded connection broken middle fiddler happening message â€œContent Length mismatch Response Header bytes server bytes connector issues works fine reproduce created sample application follow steps Clean browser cash Deploy TestNIOConnector app tomcat server xml change connect NIO Connector port protocol org apache coyote http Http NioProtocol maxThreads connectionTimeout acceptCount compression acceptorThreadCount redirectPort Start service access file URL http localhost TestNIOConnector apidocs
53161	error message annotation scanning errors question http stackoverflow questions tomcat severe child container failed start problem scanning info fault input BCEL updating newer Java version error message identified triggering problem analysed error message required names problem
53169	patch don chunking Connection close Created attachment details patch trunk attached patch disables chunking Connection close header HTTP Content Length header helps implement Server Events Server Event conceptually streaming iframe sense infinite response server updated easier issues easier WebSockets don channel specification reccoments disable chunking Jetty behavior Connection close header doesn chunking discussion leads patches patch unit tests verify chunking happending Connection close header http dev org html eventsource notes http tomcat nabble disable chunked encoding Http NioProtocol connector html
53173	maxConnections feature hangs system Created attachment details missing count maxConnections latch scenario JIO Acceptor thread hangs connections counted properly Executor tomcatThreadPool namePrefix tomcat minSpareThreads maxThreads Connector port redirectPort bio https port protocol org apache coyote http Http Protocol maxKeepAliveRequests executor tomcatThreadPool connectionTimeout acceptCount Thread dump yields http bio Acceptor daemon prio tid xXXXXXXXX nid xXX waiting condition xXXXXXXXX xXXXXXXXX java lang Thread WAITING parking sun misc Unsafe park Method parking wait xXXXXXXXX org apache tomcat util threads LimitLatch Sync java util concurrent locks LockSupport park LockSupport java java util concurrent locks AbstractQueuedSynchronizer parkAndCheckInterrupt AbstractQueuedSynchronizer java java util concurrent locks AbstractQueuedSynchronizer doAcquireSharedInterruptibly AbstractQueuedSynchronizer java java util concurrent locks AbstractQueuedSynchronizer acquireSharedInterruptibly AbstractQueuedSynchronizer java org apache tomcat util threads LimitLatch countUpOrAwait LimitLatch java org apache tomcat util net AbstractEndpoint countUpOrAwaitConnection AbstractEndpoint java org apache tomcat util net JIoEndpoint Acceptor JIoEndpoint java java lang Thread Thread java imagine hard reproduce simple test easiest reproduce create configuration Executor tomcatThreadPool namePrefix catalina exec maxThreads minSpareThreads maxQueueSize Connector port protocol HTTP executor tomcatThreadPool connectionTimeout redirectPort maxConnections reproduces test machine account connections rejected queue doesn count latch attaching patch specific complete workaround patch introduces maxConnections configuration disables usage maxConnections setting administrator workaround edge cases tracked reproduce error NIO connector place JioEndpoint requires handling RejectedExecutionException processSocketAsync SocketWrapper Socket socket SocketStatus status unhandled
53180	DefaultInstanceManager populateAnnotationsCache incomplete check validating setter method Created attachment details Patch proposal org apache catalina core DefaultInstanceManager populateAnnotationsCache iterating methods cases injection target validate method valid setter method opinion check validation complete propose patch attached introduces additional checks order guarantee method suitable injection target commends Violeta Georgieva
53225	IllegalStateException zip file closed resource webfragment jar JreMemoryLeakPreventionListener removed Created attachment details icontest war issue reported thread users http markmail org thread fimchl vyl http marc info reproduce issue current trunk steps Remove JreMemoryLeakPreventionListener server xml Deploy attached war file icontest war WEB INF lib icon jar copies Tomcat icon Start Tomcat access URL http localhost icontest favicon ico Expected behaviour icon displayed Actual behaviour SEVERE http bio exec org apache coyote http AbstractHttp Processor process Error processing request java lang IllegalStateException zip file closed java util jar JarFile getMetaInfEntryNames Method java util jar JarFile maybeInstantiateVerifier JarFile java java util jar JarFile getInputStream JarFile java org apache naming resources WARDirContext WARResource streamContent WARDirContext java org apache naming resources ProxyDirContext cacheLoad ProxyDirContext java org apache naming resources ProxyDirContext cacheLookup ProxyDirContext java org apache naming resources ProxyDirContext lookup ProxyDirContext java org apache tomcat util http mapper Mapper internalMapWrapper Mapper java org apache tomcat util http mapper Mapper internalMap Mapper java org apache tomcat util http mapper Mapper map Mapper java org apache catalina connector CoyoteAdapter postParseRequest CoyoteAdapter java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
53230	custom error mapping Manager maxActiveSessions exceeded Tomcat ManagerBase IllegalStateException thrown configured maxActiveSessions attribute exceeded customized error handling configuration web xml discussion http markmail org thread xqjgdhf gjrzjz reproduced sample application http localhost examples jsp security jsp set maxActiveSession catalina base conf context xml configuration error exception type org apache catalina session MaxActiveSessionsExceededException exception type location maxSessions html location error
53257	getLastModified compilation context returns negative number Created attachment details full stacktrace Jasper Compiler issue compiling JSPs contained folder test jsp charachter org apache jasper JspCompilationContext getLastModified method returns time java lang IllegalArgumentException Negative time java File setLastModified File java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java net ehcache constructs web filter GzipFilter doFilter GzipFilter java net ehcache constructs web filter Filter doFilter Filter java org springframework web filter CharacterEncodingFilter doFilterInternal CharacterEncodingFilter java org springframework web filter OncePerRequestFilter doFilter OncePerRequestFilter java details suspected URIEncoding utf Connector removing configuration didn bug bug occurs developing machine Windows NTFS Apache Tomcat customer machine worked fine Linux Distribution Apache Tomcat URI Encoding http test jsp find attached full stack trace Etzlstorfer
53266	ServletContainerInitializer crash catalina dependcy ServletContainerInitializer HandlesTypes annotation classes HandlesTypes annotation missing jar file catalina crash java lang ArrayStoreException sun reflect annotation TypeNotPresentExceptionProxy Caused java lang ArrayStoreException sun reflect annotation TypeNotPresentExceptionProxy sun reflect annotation AnnotationParser parseClassArray AnnotationParser java sun reflect annotation AnnotationParser parseArray AnnotationParser java sun reflect annotation AnnotationParser parseMemberValue AnnotationParser java sun reflect annotation AnnotationParser parseAnnotation AnnotationParser java sun reflect annotation AnnotationParser parseAnnotations AnnotationParser java sun reflect annotation AnnotationParser parseAnnotations AnnotationParser java java lang initAnnotationsIfNecessary java java lang getAnnotation java org apache catalina startup ContextConfig processServletContainerInitializers ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java exception thrown HandlesTypes sci getClass getAnnotation HandlesTypes
53267	JreMemoryLeakPreventionListener full hour gcDaemonProtection Created attachment details Increases timeout sun misc requestLatency JreMemoryLeakPreventionListener JreMemoryLeakPreventionListener full hour gcDaemonProtection prevention technique invokes sun misc requestLatency Increasing MAX beneficial attached patches add setting MAX add documentation update permit configured System property
53301	Servlet init method called embedded Tomcat embedded Tomcat servlet init method called container Apache DirectMemory unit test checked normal Tomcat launched Tomcat Maven plugin mvn tomcat init method correctly called
53322	Odd decapitalization inferring JavaBean property setter injection target code DefaultInstanceManager converts setter method JavaBean property code wrong removes set prefix converts character lowercase wrong JavaBeans property correct follow JavaBeans specification java beans Introspector decapitalize String method method setURL correct property URL uRL http oracle technetwork java javase documentation spec html
53333	NPE thrown env entry env entry type injection target Created attachment details Test web application web application attached specifies env entry web xml env entry env entry type specifies injection target deploying web application exception thrown Caused java lang NullPointerException java util Hashtable Hashtable java org apache catalina deploy NamingResources addEnvironment NamingResources java org apache catalina deploy WebXml configureContext WebXml java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java Servlet Specification Deployment Descriptor Diagram describes handled env entry element injection target environment entry enventry type ommitted match type injection target injection target env entry type required propose patch attached solves issue comments Violeta Steps reproduce problem Deploy attached application Request http localhost test TestServlet NPE thrown Apply patch Request http localhost test TestServlet response generated envEntry envEntry dataSource org apache tomcat dbcp dbcp BasicDataSource
53337	IllegalStateException render JSP startAsync scenario involves ServletA forwards Servlet ServletB calls request startAsync starts thread thread attempts render JSP JSP rendering asyncContext dispatch request getRequestDispatcher include RequestDispatcher calling ServletA fails calling ServletB succeeds AsyncContext dispatch ServletA ServletB fail exception attempting render JSP java lang IllegalStateException create session response committed created project https github rstoyanchev dispatch test project instructions attached war check source order couple variations specifics bug general question request getRequestDispatcher async thread Tomcat bug containers Jetty recommended Servlet Spec discussion question http java net projects servlet spec lists users archive message
53339	ClassNotFoundException WebSocketServlet JNDI lookup onOpen method StreamInbound exception code works move JNP JARs server lib webapp lib code works fine doGet method ERROR http bio exec Test javax naming NoInitialContextException instantiate org jnp interfaces NamingContextFactory Root exception java lang ClassNotFoundException org jnp interfaces NamingContextFactory javax naming spi NamingManager getInitialContext NamingManager java javax naming InitialContext getDefaultInitCtx InitialContext java javax naming InitialContext init InitialContext java javax naming InitialContext init InitialContext java Test TestStreamInbound onOpen Test java org apache catalina websocket StreamInbound onUpgradeComplete StreamInbound java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
53342	starting Tomcat fail BindException Context LifecycleException main thread stops startStopThreads Host Engine remain startStopThreads demon thread result main thread stops Acceptor Threads stopped keepAliveTime seconds set startStopExecutor ThreadPoolExecutor getStartStopThreadsInternal getStartStopThreadsInternal TimeUnit SECONDS startStopQueue order avoid BindException waiting seconds required startStopThreads demon thread
53353	Malformed contentType attribute charset values contentType attribute JSP broken Tomcat behave strangely send charset values Content Type header reproduce Create simple JSP file ROOT test jsp Note typo UTF charset UTF triggers issue pageEncoding UTF contentType text html UTF Start Tomcat access Firefox http localhost test jsp version Live HTTP Headers addon loads click info Encoding Content Type header current Tomcat Encoding UTF Content Type header text html UTF charset UTF current Tomcat Encoding ISO Content Type header text html UTF charset UTF charset ISO contentType header parser bug convincing confirms fears backporting bug
53354	filter mapping doesn find WebFilter filterName invocation order WebFilter users forced explicitly filter mapping web xml works combination WebFilter filterName Glassfish JBoss WebFilter filterName filter Filter Filter WebFilter filterName filter Filter Filter filter mapping filter filter filter url pattern url url pattern filter mapping filter mapping filter filter filter url pattern url url pattern filter mapping fails Tomcat confusing exception url pattern set Caused java lang IllegalArgumentException Filter mapping url pattern servlet org apache catalina core StandardContext validateFilterMap StandardContext java org apache catalina core StandardContext addFilterMap StandardContext java org apache catalina deploy WebXml configureContext WebXml java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java
53356	Mapping servlet applicatioâ€‹n context root IAE Created attachment details test web app application map servlet application context root override mapping servlet Servlet spec special url mapping purposes empty string approaches web xml annotation IAE Caused java lang IllegalArgumentException Invalid url pattern servlet mapping org apache catalina core StandardContext addServletMapping StandardContext java org apache catalina core StandardContext addServletMapping StandardContext java org apache catalina deploy WebXml configureContext WebXml java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java issue started mail thread users list http marc info provide feature advance Violeta test application attached
53366	Running SecurityManager jsp returns blank accessed eproducible current reproduce Start catalina bat start security http localhost examples jsp security jsp Expected result Display login form Actual result Blank Access log Jun examples jsp security jsp HTTP response code count bytes stay refreshing problem persists visit starts work suspect preloaded http localhost examples
53373	whitespace delimiters Context aliases readability bug Request Aliases Alias element Context Context aliases attribute whitespace surround delimiters Context aliases EDSILabCatalog xampp htdocs cLabs EDSILabCatalog EDSILabs xampp htdocs cLabs EDSILabs Global xampp htdocs cLabs Global Skyline xampp htdocs cLabs Skyline Sun xampp htdocs cLabs Sun Sunset xampp htdocs cLabs Sunset Tech xampp htdocs cLabs Tech
53398	Incorrect tag XML response calling manager status XML Created attachment details Manager Status XML Response calling manager status XML Tomcat Server XML response includes incorrect requestBytesRecieved attributes worker nodes Attribute read requestBytesReceived typo generating requestBytesReceived attribute nodes Recieved Received Error generated CURL command Tomcat status response curl http tomcat server address manager status XML basic user assumes user defined proper privileges access status API command
53406	Stack overflow connector trunk Jun SEVERE java lang StackOverflowError org apache catalina core StandardContextValve event StandardContextValve java org apache catalina valves ValveBase event ValveBase java org apache catalina core StandardHostValve event StandardHostValve java org apache catalina valves ValveBase event ValveBase java org apache catalina valves ValveBase event ValveBase java org apache catalina core StandardEngineValve event StandardEngineValve java org apache catalina connector CoyoteAdapter event CoyoteAdapter java org apache coyote http Http NioProcessor event Http NioProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache tomcat util net NioEndpoint Poller add NioEndpoint java org apache coyote http Http NioProtocol Http ConnectionHandler longPoll Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java
53430	JVM crash startup version Tomcat release exists minimum version Tomcat library work Tomcat requires Tomcat start older version library explicitly configured Apr variant connector crashes JVM startup Actual result Tomcat start crash JVM crash report file created JVM err pidNNNN log Stack trace crash report file Stack free space frames compiled Java code interpreted code code tcnative dll tcnative dll ddd Java org apache tomcat jni Pool create org apache tomcat jni Pool create org apache tomcat util net AprEndpoint bind org apache tomcat util net AbstractEndpoint init org apache coyote AbstractProtocol init org apache catalina connector Connector initInternal org apache catalina util LifecycleBase init org apache catalina core StandardService initInternal org apache catalina util LifecycleBase init org apache catalina core StandardServer initInternal org apache catalina util LifecycleBase init org apache catalina startup Catalina load org apache catalina startup Catalina load Ljava lang String Expected result Log error initialize connector initialize endpoint org apache catalina startup EXIT INIT FAILURE system property configured exit Tomcat property defined current startup sequence connector http tomcat apache org tomcat doc config systemprops html Steps reproduce Windows Place older version tcnative dll Tomcat bin directory Configure connector protocol org apache coyote http Http AprProtocol protocol org apache coyote ajp AjpAprProtocol Start Tomcat Actual result JVM crashes Notes code issue AprLifecycleListener isAprAvailable flag tested Connector setProtocol String influences autoselection protocols Apr protocol implementation configured explicitly prevent starting code essentially issue issue running testsuite testsuite explicitly selects Apr connector version required AprLifecycleListener shuts library calling terminateAPR library crashes early AprEndpoint supposed call AprLifecycleListener isAprAvailable belong subsystems coyote tomcat util net catalina core care isAprAvailable check Connector Connector ProtocolHandler implementations require library guess ProtocolHandler Apr pretty Thread dev tcnative version check broken test suite http tomcat markmail org thread izbqzmfgs jdgnnq
53450	Deployment application ROOT context hangs scenario running Tomcat deploy application ROOT context deployment hangs tread dump suspicious localhost startStop daemon prio tid nid waiting condition ebf java lang Thread WAITING parking sun misc Unsafe park Method parking wait java util concurrent locks ReentrantReadWriteLock NonfairSync java util concurrent locks LockSupport park LockSupport java java util concurrent locks AbstractQueuedSynchronizer parkAndCheckInterrupt AbstractQueuedSynchronizer java java util concurrent locks AbstractQueuedSynchronizer acquireQueued AbstractQueuedSynchronizer java java util concurrent locks AbstractQueuedSynchronizer acquire AbstractQueuedSynchronizer java java util concurrent locks ReentrantReadWriteLock WriteLock lock ReentrantReadWriteLock java org apache catalina core ContainerBase removeContainerListener ContainerBase java org apache catalina core StandardEngine AccessLogListener uninstall StandardEngine java org apache catalina core StandardEngine AccessLogListener containerEvent StandardEngine java org apache catalina core ContainerBase fireContainerEvent ContainerBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDirectory HostConfig java org apache catalina startup HostConfig DeployDirectory HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java read lock acquired org apache catalina core ContainerBase fireContainerEvent ContainerBase java listener invoked process container event AccessLogListener invoked org apache catalina core StandardEngine AccessLogListener uninstall StandardEngine java call write lock org apache catalina core ContainerBase removeContainerListener ContainerBase java ReentrantReadWriteLock stated upgrade read write lock Reentrancy downgrading write lock read lock acquiring write lock read lock releasing write lock upgrading read lock write lock Violeta Georgieva
53465	mapped read Resource web xml Created attachment details Patch proposal code servlet Resource mappedName test DataSource mapped read Resource processed org apache catalina startup WebAnnotationSet addResource WebAnnotationSet java Reference object StringRefAddr declaration web xml resource res datasource res res type javax sql DataSource res type mapped test mapped resource mapped read propose patch adds additional Rule WebRuleSet mapped process set property comments Violeta Georgieva
53467	longer accept jsp filenames running Tomcat attempting upgrade jsp files square brackets commas filenames WEB INF templates standard Container asHeaderItem closings jsp works fine error thrown localhost log file Jun org apache catalina core ApplicationContext log SEVERE Failed locate resource WEB INF templates standard CMContainer asHeaderItem closings jsp context cae java net URISyntaxException Illegal character path jndi localhost cae WEB INF templates standard Container asHeaderItem closings jsp java net URI Parser fail URI java java net URI Parser checkChars URI java java net URI Parser parseHierarchical URI java java net URI Parser parse URI java java net URI init URI java org apache catalina core ApplicationContext getResource ApplicationContext java org apache catalina core ApplicationContextFacade getResource ApplicationContextFacade java org springframework web context support ServletContextResource exists ServletContextResource java change breaking http svn apache org viewvc tomcat trunk java org apache catalina core ApplicationContext java pathrev intentional naming bug
53469	bug Response normalize CharChunk Response normalize CharChunk introduced introduced bug Bug URL encoded resources org apache wicket markup html WicketEventReference wicket event IllegalArgumentException method java lang IllegalArgumentException org apache catalina connector Response normalize Response java org apache catalina connector Response toAbsolute Response java org apache catalina connector Response encodeURL Response java org apache catalina connector ResponseFacade encodeURL ResponseFacade java org apache wicket protocol http WebResponse encodeURL WebResponse java org apache wicket protocol http request WebRequestCodingStrategy encode WebRequestCodingStrategy java Running application tomcat works issue
53498	Atomicity violation bugs misusing concurrent collections Created attachment details patch atomicity violation bugs Lin student department UIUC mining Java concurrent library misusages misusages ConcurrentHashMap Tomcat result potential atomicity violation bugs harm performance code snapshot code file java org apache catalina core ApplicationContext java attributes containsKey attributes attributes remove parameters containsKey parameters code atomicity violation occur lines Suppose thread executes finds concurrent hashmap attributes key thread executes thread removes key attributes thread resumes execution NullPointerException invoking method snapshot atomicity violation lines Suppose thread executes finds concurrent hashmap dose key execute thread puts pair concurrent hashmap parameters thread resumes execution overwrite written thread code longer preserves absent semantics misusages files java org apache catalina context ReplicatedContext java atomicity violation occur thread remove key concurrent hashmap tomcatAttributes thread executes java org apache catalina startup HostConfig java suppose thread executes finds concurrent hashmap dose key contextName executes thread puts pair contextName concurrent hashmap deployed thread resumes execution overwrite written thread putIfAbsent method shoule method
53535	memory performing ContextConfig webConfig Created attachment details Suggested solution improve ContextConfig JavaClassCacheEntry objects memory causing eventually kinds memory errors container startup save JavaClass cache superclass names needed processing Suggested solution attached
53545	jsp action resources IllegalStateException classic custom tag JSP java lang IllegalStateException getOutputStream called response Notes jsp classic custom tag BodyTagSupport dynamic resource fine redirect jsp response flushed jsp redirects resource exception trown test jsp language java contentType text html charset ISO pageEncoding ISO taglib prefix uri test jsp redirect html DOCTYPE html DTD HTML Transitional http org html loose dtd html head meta http equiv Content Type content text html charset ISO title Insert title title head body body html
53574	metadata complete servlet defined jsp working servlet defined servlet servlet VersionInfoServlet servlet jsp file WEB INF svnrevision jsp jsp file servlet mapped servlet mapping servlet VersionInfoServlet servlet url pattern svnrevision url pattern servlet mapping worked fine changed metadata complete receive INFO Marking servlet VersionInfoServlet unavailable lip org apache catalina core StandardWrapperValve invoke SEVERE Allocate exception servlet VersionInfoServlet javax servlet ServletException servlet servlet VersionInfoServlet org apache catalina core StandardWrapper loadServlet StandardWrapper java org apache catalina core StandardWrapper allocate StandardWrapper java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpNioProcessor process AjpNioProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
53623	Incorrect request properties AsyncContext dispatch scenario involves call startAsync dispatch path properties request dispatch match path query params send dispatch project demonstrating issue https github rstoyanchev dispatch test Build deploy sources tomcat issue repro branch deployed application select Dispatch AsyncContext scenario scenario involves couple forwards ServletA Servlet ServletC turn starts thread dispatches Servlet forwards JSP WebAppInitializer setupDispatchScenario ServletContext details setup log output content request Servlet entered expected dispatch ServletD requestUri servletPath pathInfo ServletC scenario Dispatch AsyncContext wrap request wraps request yields incorrect requestUri servletPath pathInfo parameterMap application thread dispatch match request ServletA FWIW couple scenarios forwarding dispatching RequestDispatcher scenario appears work RequestDispatcher wrap request works request async thread matches ServletA
53624	sendRedirect doesn work dispatch AsyncContext call sendRedirect AsyncContext dispatch doesn redirect returns status code project demonstrating issue https github rstoyanchev dispatch test Build deploy source tomcat issue repro deployed application select Redirect scenario scenario involves Servlet RedirectA creates thread dispatches Servlet RedirectB turn redirects Servlet RedirectC forwards simple JSP JSP rendering blank log output processing ended ServletC details setup WebAppInitializer setupRedirectScenario ServletContext FWIW dispatch async thread scenario works modify creates servlet RedirectA ForwardingAsyncServlet DispatchingAsyncServlet issue marked resolved current issue tested
53641	Wrong websocket subprotocol implementation RFC handling subprotocol requests correct checked WebSocket Protocol WebSocket Protocol Client WebSocketServlet
53654	JSP file recompiled file based TLD URL Jasper codes supports jar URL relative URL common web applications party protocol URL file protocol based URL JSP files recompiled access target codes located Compiler isOutDated method provide handlering URL
53697	java lang NullPointerException org apache coyote http Http AprProcessor actionInternal Http AprProcessor java hit tomcat urls seconds test functionality wait minutes exception intermitent connection interrupted messages browser full trace Aug org apache catalina connector CoyoteAdapter event SEVERE Aug org apache catalina connector CoyoteAdapter event java lang NullPointerException org apache coyote http Http AprProcessor actionInternal Http AprProcessor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Response action Response java org apache catalina connector CoyoteAdapter event CoyoteAdapter java org apache coyote http Http AprProcessor event Http AprProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Aug org apache coyote http Http AprProcessor event SEVERE Error processing request java lang NullPointerException org apache coyote http Http AprProcessor actionInternal Http AprProcessor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Request action Request java org apache catalina connector Request getRemoteAddr Request java org apache catalina connector Request getRemoteHost Request java org apache catalina valves AccessLogValve HostElement addElement AccessLogValve java org apache catalina valves AccessLogValve log AccessLogValve java org apache catalina core AccessLogAdapter log AccessLogAdapter java org apache catalina core ContainerBase logAccess ContainerBase java org apache catalina core ContainerBase logAccess ContainerBase java org apache catalina connector CoyoteAdapter event CoyoteAdapter java org apache coyote http Http AprProcessor event Http AprProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Additional Proliant ghz processors CentOS app runs websockets bleading edge Atmosphere Grails urls chrome firefox simulatneously
53702	url pattern jsp property group processed Created attachment details Modified files ROOT webapp XSDs jsp xsd jsp xsd jsp xsd url pattern occur jsp property group xsd complexType jsp property groupType xsd element url pattern type javaee url patternType maxOccurs unbounded places jsp property group element represented object Tomcat Jasper jasper compiler JspConfig JspPropertyGroup Catalina catalina deploy JspPropertyGroup Servlet API javax servlet descriptor JspPropertyGroupDescriptor implemented core ApplicationJspPropertyGroupDescriptor implementations correct collection url patterns mistakenly represented single setUrlPattern method setUrlPattern method called digester configured startup WebRuleSet url pattern survives observable consequences issue Merged web xml reproduced passed Jasper incorrectly passed metadata complete absent dev issue hides feature paths mentioned jsp property group implicitly mapped JspServlet issue mapping occurs url pattern WebXml configureContext reproduce current Unpack attached archive files ROOT webapp files context xml Context logEffectiveWebXml web xml metadata compete attribute adding jsp config jsp property group url pattern foo url pattern url pattern bar url pattern xml xml jsp property group jsp config Start Tomcat catalina log file merged web xml dumped jsp property group element Actual result jsp config jsp property group url pattern bar url pattern xml xml jsp property group jsp config Expected result foo bar mentioned Tomcat issue object Catalina digester configured WebRuleSet calls StandardContext addJspMapping additive
53713	Performance tuning solution JspReader Created attachment details patch JspReader java mark called times JSP tag files compilation reduced bit code Attached files solution
53714	misleading log output jarsToSkip cointains web fragments jar web fragment TLDs starting server Message org apache jasper compiler TldLocationsCache tldScanJar INFO JAR scanned TLDs contained TLDs Enable debug logging logger complete list JARs scanned TLDs Skipping unneeded JARs scanning improve startup time JSP compilation time good adding tomcat util scan DefaultJarScanner jarsToSkip property web fragment won scanned log message printed TLDs web fragments jar
53725	GZipped responses result java IOException Corrupt GZIP trailer gunzip Created attachment details description purpose attachment FlushableGZIPOutputStream corrupt output rare circumstances Tomcat encounters bug compression turned attachment Compile ErrorCase java FlushableGZIPOutputStream GZIP contents data bin included attachment GZIPInputStream gunzip output FlushableGZIPOutputStream java IOException Corrupt GZIP trailer
53758	Dynamic Filter Registration mapping logic inverted org apache catalina core ApplicationFilterRegistration methods addMappingForServletNames addMappingForUrlPatterns inverted logic register filter context parameter isMatchAfter passed filter context addFilterMapBefore method isMatchAfter context addFilterMapBefore filterMap context addFilterMap filterMap logic ultimate methods isMatchAfter context addFilterMapBefore filterMap context addFilterMap filterMap isMatchAfter context addFilterMap filterMap context addFilterMapBefore filterMap svn rev trunk
53777	Ability bundle JAAS Configuration Webappp JAASRealm load JAAS Configuration properties file bundled web application WEB INF classes JAR classpath context JAASRealm creates LoginContext args constructor loginContext LoginContext appName callbackHandler propose add configuration parameter JAASRealm load javax security login Configuration ContextClassLoader Configuration passed args constructor loginContext LoginContext appName subject callbackHandler configuration http docs oracle javase docs api javax security login LoginContext html LoginContext java lang String javax security Subject javax security callback CallbackHandler javax security login Configuration
53783	resources jsp files WEB INF lib jar META INF resources Created attachment details Servlet Specification Servlet container serve resources jsp files located META INF resources jar file WEB INF lib Directory Structure Web application exists structured hierarchy directories root hierarchy serves document root files application Web application context path catalog Web container html file base Web application hierarchy JAR file WEB INF lib includes html META INF resources directory served satisfy request catalog html html root context META INF resources directory JAR file WEB INF lib directory application file root context requesting resource jsp file Tomcat returns attached Request http localhost test meta inf resources test jsp http localhost test meta inf resources meta inf resource jsp investigating issue problem code org apache catalina startup ContextConfig processResourceJARs Set WebXml fragments jar entryExists META INF resources context addResourceJarUrl url list entries jar receive INFO Deploying web application archive apache tomcat webapps test met inf resources war META INF MANIFEST META INF resources meta inf resource jsp entry META INF resources propose patch attached request URLs working expected Violeta Georgieva
53793	Change webapp links Manager point appname appname column table lists Web Applications Tomcat Manager webapp links applications href examples examples link clicked browser navigates examples redirect examples change link point examples href examples examples changing link address text Path web application displayed column Manager commands additional
53800	Infinte loop FileDirContext CDI Weld project Eclipse Server modules publishing Created attachment details Patch FileDirContext java Weld TomcatListener recurse method recited encountering DirContext Tomcat FileDirContext discovery code Weld encounters appears bug FileDirContext FileDirContexts child directories created current FileDirContext path infinite loop searches root directory Assuming discovery code Weld correct tracked problem specific FileDirContext java Fixing set path child FileDirContext matching child directory fixes issue encountering change project appears pass unit tests ant test attached patch issue Weld recurse function assuming correct recurse DirContext context Set String classes Set URL urls String prefix Exception prefix length prefix NamingEnumeration context listBindings hasMoreElements Binding Binding nextElement String prefix getName endsWith classes add substring length Object nextObject getObject nextObject DirContext recurse DirContext nextObject classes urls
53828	StreamInbound closeOutboundConnection WsFrame closes opcode status closeOutboundConnection WsFrame frame IOException getWsOutbound close frame doOnClose Constants OPCODE CLOSE close opcode valid status Constants STATUS exact context called called frame client close frame Constants STATUS NORMAL order frame opcode inspected mapped status normal shutdown Michael
53843	isAsyncStarted thread started async processing async processing starts container thread subsequent calls request isAsyncStarted expected application thread calls asyncContext dispatch isAsyncStarted actual dispatch occurred spec dispatch operation delayed container initiated dispatch returned container period dispatch called actual dispatch DispatcherType ASYNC isAsyncStarted isAsyncStarted suddenly change thread exiting causing recognize async processing started exit
53854	DefaultServlet directory listings aliased directories work situation work Context add alias directory Enable directory listings DefaultServlet view directory listing alias directory conf context xml Context aliases files downloads Context conf web xml servlet servlet servlet servlet org apache catalina servlets DefaultServlet servlet init param param debug param param param init param init param param listings param param param init param load startup load startup servlet contents directory downloads daniel staff Sep apache tomcat zip URL works http localhost files apache tomcat zip URL work http localhost files URL work fails error SEVERE Servlet service servlet context path threw exception Error accessing resource root javax naming NameNotFoundException Resource files org apache naming resources FileDirContext list FileDirContext java org apache naming resources ProxyDirContext list ProxyDirContext java org apache catalina servlets DefaultServlet renderHtml DefaultServlet java org apache catalina servlets DefaultServlet render DefaultServlet java org apache catalina servlets DefaultServlet serveResource DefaultServlet java org apache catalina servlets DefaultServlet doGet DefaultServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
53863	Unable override servlet Tomcat embedded mode implementation ServletContainerInitializer add mapping servlet loaded reported SampleServletContainerInitializer ServletContainerInitializer onStartup Set ServletContext ctx ServletException XmlWebApplicationContext appCtx XmlWebApplicationContext appCtx setConfigLocation WEB INF DispatcherServlet servlet xml ServletRegistration Dynamic dispatcher ctx addServlet DispatcherServlet DispatcherServlet appCtx dispatcher setLoadOnStartup Set String conflictSet dispatcher addMapping String conflict conflictSet println conflict prints test attached
53867	Performance tuning solution PageContextImpl XmlEscape Created attachment details Patch PageContextImpl java XmlEscape escape special characters result characters String check special character StringBuilder cases string special characters creates StringBuilder iteration check special characters special character create StringBuilder characters front special character StringBuilder check string character original logic result comparison testing methods escape escape escape escape escape escape escape escape escape escape escape escape escape escape escape escape escape escape escape escape
53869	Performance tuning solution resolve cascaded JspContextWrapper issue Created attachment details Patch JspContextWrapper java JspContextWrapper getServletContext JspContextWrapper findAttribute JspContextWrapper getELContext time cascaded tag files tag tag tag tag tag tag tag calling JspContextWrapper tag getServletContext tag call JspContextWrapper tag getServletContext JspContextWrapper tag getServletContext JspContextWrapper tag getServletContext PageContext getServletContext root PageContext held JspConextWrapper session application scopes calling directy root PageContext check attached diff file JspContextWrapper diff detail change
53871	java lang StackOverflowError deploying web application starting Tomcat automatically deploying war file webapps error thrown ERROR HostConfig Error waiting multi thread deployment context descriptors complete java util concurrent ExecutionException java lang StackOverflowError java util concurrent FutureTask Sync innerGet FutureTask java java util concurrent FutureTask FutureTask java org apache catalina startup HostConfig deployDescriptors HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina util LifecycleBase setStateInternal LifecycleBase java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardHost startInternal StandardHost java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase StartChild call ContainerBase java org apache catalina core ContainerBase StartChild call ContainerBase java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang StackOverflowError java util HashSet HashSet java org apache catalina startup ContextConfig populateSCIsForCacheEntry ContextConfig java org apache catalina startup ContextConfig populateSCIsForCacheEntry ContextConfig java org apache catalina startup ContextConfig populateSCIsForCacheEntry ContextConfig java identical lines works fine
53896	Optimized Jasper ELResolver JspApplicationContextImpl sets CompositeELResolver standard application specific resolvers CompositeELResolver implementation basically invokes ELResolver list resolved issue situations ELResolvers called needlessly base calling getValue ImplicitObjectELResolver unnecessary cases ELResolvers skipped heavy applications skipping ELResolvers add
53960	Extensions HttpClient test helper Created attachment details Enhancements HttpClient including preparation cookie tests FormAuthenticatorTest cases cookies implementation issues tomcat dev list attached patch prepares HttpClient helper ready Authenticator unit test cases change includes style cleanup methods logic refactoring methods change leaves compatible existing unit tests concrete Authenticator tests eventually extended logic HttpClient fully existing test cases
53986	Comment tag preceded dash JSP fail compilation Created attachment details JSP file reproduce compilation error JSP file contained comment comment JSP compiles Tomcat compile Iâ€™ve attached copy test file compiles change release notes https issues apache org bugzilla bug cgi reading JSP spec appears absent specific comment whitespace rules XML apply effectively whitespace regression introduced spec vague comments ERROR Oct http bio exec liferay portal log mmonsLogImpl error org apache jasper JasperException html portal layout iew portlet jsp column Unterminated tag org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler Parser parseComment Parser java org apache jasper compiler Parser parseElements Parser java org apache jasper compiler Parser parse Parser java org apache jasper compiler ParserController doParse ParserController java org apache jasper compiler ParserController parse ParserController java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java liferay filters strip StripFilter doFilter StripFilter java
53993	NPE AccessLogValve load test tomcat occasionally NPEs AccessLogValve requests executed load test call HttpSession invalidate mention code question appears susceptible multithreaded manipulation session simple check request getSessionInternal access log pattern includes logging session java lang NullPointerException org â€‹apache â€‹catalina â€‹valves â€‹AccessLogValve â€‹SessionIdElement â€‹addElement â€‹AccessLogValve java org apache catalina valves AccessLogValve log AccessLogValve java org apache catalina core AccessLogAdapter log AccessLogAdapter java org apache catalina core StandardEngine logAccess StandardEngine java org apache catalina core ContainerBase logAccess ContainerBase java org apache catalina core ContainerBase logAccess ContainerBase java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org â€‹apache â€‹coyote â€‹http â€‹AbstractHttp Processor â€‹process â€‹AbstractHttp Processor java org â€‹apache â€‹coyote â€‹AbstractProtocol â€‹AbstractConnectionHandler â€‹process â€‹AbstractProtocol java org â€‹apache â€‹tomcat â€‹util â€‹net â€‹JIoEndpoint â€‹SocketProcessor â€‹run â€‹JIoEndpoint â€‹java â€‹ â€‹ java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java existing code convenience SessionIdElement AccessLogElement Override addElement StringBuilder buf Request request Response response time request request getSession buf append request getSessionInternal getIdInternal buf append buf append request getSession Session internalSession request getSessionInternal internalSession buf append internalSession getIdInternal buf append buf append
54011	Code generation error jstl tagPlugin escapeXml tagPlugin Created attachment details Patch org apache jasper tagplugins jstl core java setting org apache jasper tagplugins jstl core tagplugin code generation code escapeXml test generate error typo hasEscapeXml ctxt generateJavaSource strEscapeXmlName parseBoolean ctxt generateAttribute ctxt generateJavaSource toString attribute escapeXml change occurs error toString Attached patchs bug code simplified
54012	pageContext tag files generated java code code generation JSTL tagplugin Set Created attachment details Patch org apache jasper tagplugins jstl core Set java code generated code org apache jasper tagplugins jstl core Set work Tag Files PageContext tag file check isTagFile String strVar ctxt getConstantAttribute ctxt generateJavaSource resultName ctxt generateJavaSource pageContext setAttribute strVar resultName iScope ctxt generateJavaSource hasScope ctxt generateJavaSource pageContext removeAttribute strVar iScope ctxt generateJavaSource pageContext removeAttribute strVar ctxt generateJavaSource
54017	String instance generated constant string Generator convertString target Object generator generates String quoted attribute Tag Handler quoted target Object Creating String instance overhead memory allocation hash code recaluation key HashMap detail code param target coerce string param string param attrName attribute supplied param propEditorClass property editor attribute param isNamedAttribute attribute named attribute jsp attribute standard action String convertString String String attrName propEditorClass isNamedAttribute String quoted isNamedAttribute quoted quote propEditorClass String className getCanonicalName className org apache jasper runtime JspRuntimeLibrary getValueFromBeanInfoPropertyEditor className attrName quoted propEditorClass getCanonicalName String quoted JspUtil coerceToPrimitiveBoolean isNamedAttribute JspUtil coerceToBoolean isNamedAttribute JspUtil coerceToPrimitiveByte isNamedAttribute JspUtil coerceToByte isNamedAttribute JspUtil coerceToChar isNamedAttribute Character JspUtil coerceToCharacter isNamedAttribute JspUtil coerceToPrimitiveDouble isNamedAttribute JspUtil coerceToDouble isNamedAttribute JspUtil coerceToPrimitiveFloat isNamedAttribute JspUtil coerceToFloat isNamedAttribute JspUtil coerceToInt isNamedAttribute Integer JspUtil coerceToInteger isNamedAttribute JspUtil coerceToPrimitiveShort isNamedAttribute JspUtil coerceToShort isNamedAttribute JspUtil coerceToPrimitiveLong isNamedAttribute JspUtil coerceToLong isNamedAttribute Object String quoted String className getCanonicalName className org apache jasper runtime JspRuntimeLibrary getValueFromPropertyEditorManager className attrName quoted
54022	CometEvent event suspended socket disconnect running Tomcat tcnative dll Windows Vista Windows Server newer Created attachment details Tomcat source file bugfix Web application asynchronous servlet Atmosphere send notification messages clients connected running sockets HTTP streaming polling bug Tomcat sending CometEvent event platforms Tomcat socket disconnect pressing CTRL HTTP curl command narrowing debugging Tomcat source tracked problem org apache coyote AbstractProtocol java APR handles socket polling Tomcat bug occurs Windows platforms tcnative dll Vista Server newer happening startup APR tcnative dll method named WSAPoll method dll finds assigns function function poll sockets falls legacy method polling sockets WSAPoll Windows Vista Server newer org apache tomcat util net AprEndpoint doPoll pollset method invokes Poll poll pollset pollTime desc delegates call tcnative dll doPoll returns socket requires processing falls block doPoll method AprEndpoint java comments marked Check failed sockets hand socket worker desc Poll APR POLLHUP Poll APR POLLHUP WSAPoll method sets APR POLLHUP flag socket disconnects legacy tcnative polling method pure Java Coyote polling method sets flag fine desc Poll APR POLLERR Poll APR POLLERR comet processSocket desc SocketStatus OPEN executed comet sockets WSAPoll platform pre Vista Server tcnative dll fine comet processSocket desc Close socket clear pool comet processSocket desc SocketStatus DISCONNECT reached tcnative dll running Vista Server newer bug SocketStatus DISCONNECT handling comet sockets processSocket step destroySocket desc processSocket socket SocketStatus status method fires SocketEventProcessor runs excutes Handler SocketState handler process socket status send CometEvent comet status SocketStatus DISCONNECT details steps Handler SocketState CLOSED Close socket pool destroySocket socket getSocket longValue closes socket frees reuse Comet application notified socket time send data socket crashes JVM writes data response owned Chaos ensues socket running Tomcat handler process socket status method implemented org apache coyote http Http AprProtocol Http ConnectionHandler AbstractConnectionHandler defined org apache coyote AbstractProtocol method test instance add processor isComet condition block SocketState process SocketWrapper socket SocketStatus status snip NOTE status SocketStatus DISCONNECT running tcnative Windows Vista Server newer cases status SocketStatus OPEN disconnect occurred falls processor isComet Original status SocketStatus DISCONNECT status SocketStatus DISCONNECT processor isComet BUGFIX comet processor event SocketStatus DISCONNECT block send Comet event SocketState CLOSED wait recycled processor isAsync SocketState ASYNC processor asyncDispatch status processor isComet processor event status sends CometEvent returns SocketState CLOSED status SocketStatus DISCONNECT processor isUpgrade processor upgradeDispatch processor process socket snip deployed updated tomcat coyote jar CometEvent events expected Tomcat Windows Atmosphere Comet release Tomcat bugfix deploy ship custom patched tomcat coyote jar prefer official Tomcat patch release deploy works reproduce problem Install Tomcat Tomcat Windows Windows Server bit Windows servlet org apache catalina comet CometProcessor logs CometEvents received suspends HttpRequest receives Connect servlet HTTP Curl Press CTRL abort socket connection CometEvent event fired attached source file bugfix AbstractProtocol java marked comments
54044	AccessLogValve stale time SimpleDateFormat noticing stale times access logs copied scrubbed entries access log SimpleDateFormat functionality beginTime prefix pattern Tomcat Session Forwarded yyyy SSSZ quot quot Referer quot User Agent quot jvm tomcat instance started seconds stuck time access log times caching issues problems occasionally log entries incorrect startup dates times yesterday access log note millisecond times correct increase reasonable unrelated truncated time
54060	DigestAuthenticator doesn parse Authorization header correctly DigestAuthenticator Bugzilla http issues apache org bugzilla bug cgi String tokens authorization split term enclosed quotes single term Header username mthornton qop token username mthornton qop Header username mthornton qop cnonce ede token username mthornton token qop token cnonce ede Headers abbreviated clarity
54067	Upgrade Response Transfer Encoding chunked invalid WebSocket upgrade response Tomcat invalid response header Transfer Encoding chunked Full Request Response URI localhost examples websocket echoMessage distribution examples websocket echoMessage HTTP Host localhost Upgrade websocket Connection Upgrade WebSocket Key ZDTIRU xOfkg JAgN WebSocket Version HTTP Switching Protocols Server Apache Coyote Upgrade websocket Connection upgrade WebSocket Accept Kgo KVE YPONSeyhgL GwqhI Transfer Encoding chunked Mon Oct GMT Jetty project working issue Jetty WebSocket client point view https bugs eclipse org bugs bug cgi
54068	Web fragment sorting incorrectly detects circular reference Created attachment details Test implementation implementation web fragment sorting relative ordering constraints detect circular references circle occurrence bug depends iteration order input map attached test defining simple chain web fragments web fragments relative constraints expected result actual result Testcase testOrderWebFragmentsRelative Caused ERROR Fragment relative ordering circular references Thsi resolved absolute ordering web xml java lang IllegalArgumentException Fragment relative ordering circular references Thsi resolved absolute ordering web xml org apache catalina deploy WebXml orderWebFragments WebXml java org apache catalina deploy TestWebXmlOrdering testOrderWebFragmentsRelative TestWebXmlOrdering java Workaround absolute ordering Details Java
54086	ConcurrentModificationException NioReceiver shutdown Solaris jdk tomcat clustering session replication nodes nodes ConcurrentModificationException occasionally shutdown unable reliably reproduce exception log Unable close cluster receiver selector exception java util ConcurrentModificationException java util HashMap HashIterator nextEntry HashMap java java util HashMap KeyIterator HashMap java java util Collections UnmodifiableCollection Collections java org â€‹apache â€‹catalina â€‹tribes â€‹transport â€‹nio â€‹NioReceiver â€‹closeSelector â€‹NioReceiver â€‹java org â€‹apache â€‹catalina â€‹tribes â€‹transport â€‹nio â€‹NioReceiver â€‹stopListening â€‹NioReceiver â€‹java org apache catalina tribes transport nio NioReceiver NioReceiver java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹ChannelCoordinator â€‹internalStop â€‹ChannelCoordinator java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹ChannelCoordinator â€‹stop â€‹ChannelCoordinator â€‹java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹ChannelInterceptorBase â€‹stop â€‹ChannelInterceptorBase java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹ChannelInterceptorBase â€‹stop â€‹ChannelInterceptorBase java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹ChannelInterceptorBase â€‹stop â€‹ChannelInterceptorBase java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹interceptors â€‹MessageDispatchInterceptor â€‹stop â€‹MessageDispatchInterceptor java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹ChannelInterceptorBase â€‹stop â€‹ChannelInterceptorBase java org â€‹apache â€‹catalina â€‹tribes â€‹group â€‹ChannelInterceptorBase â€‹stop â€‹ChannelInterceptorBase java org apache catalina tribes group GroupChannel GroupChannel java org â€‹apache â€‹catalina â€‹ha â€‹tcp â€‹SimpleTcpCluster â€‹stopInternal â€‹SimpleTcpCluster â€‹java â€‹ org apache catalina util LifecycleBase LifecycleBase java org apache catalina core ContainerBase stopInternal ContainerBase java org apache catalina util LifecycleBase LifecycleBase java org apache catalina core StandardService stopInternal StandardService java org apache catalina util LifecycleBase LifecycleBase java org apache catalina core StandardServer stopInternal StandardServer java org apache catalina util LifecycleBase LifecycleBase java org apache catalina startup Catalina Catalina java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun â€‹reflect â€‹DelegatingMethodAccessorImpl â€‹invoke â€‹DelegatingMethodAccessorImpl â€‹java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java looked code noticed SelectionKey Iterator dug deep find issue NioReceiver code find relevant text Selector javadocs http docs oracle javase docs api java nio channels Selector html selector key selected key sets general safe multiple concurrent threads thread modify sets access controlled synchronizing set iterators returned sets iterator methods fail fast set modified iterator created invoking iterator remove method ConcurrentModificationException thrown
54096	env entry rejects legal types servlet type env entry type constructor single String character argument Tomcat accepts fixed list types NamingContextListener legal web xml accepted tomcat env entry env entry location env entry env entry type java File env entry type env entry lib tomcat env entry env entry
54115	Minor enhancements HttpClient test helper Created attachment details patch HttpClient Main reason change add accessor methods enhanced logic https issues apache org bugzilla bug cgi opportunity sendRequest method tolerant elements input array comments proper javadoc methods clarify purpose change compatible
54123	servlet spec violation async timeout processing Created attachment details test war file java source Servlet Spec Asynchronous processing event asynchronous operation times container steps â–  Invoke AsyncListener onTimeout method AsyncListener instances registered ServletRequest asynchronous operation initiated â–  listeners called AsyncContext complete AsyncContext dispatch methods perform error dispatch status code equal HttpServletResponse INTERNAL SERVER ERROR â–  matching error error call AsyncContext complete AsyncContext dispatch methods container call AsyncContext complete servlet mrel spec pdf pdf Spec AsyncListeners calls AsyncContext complete AsyncContext dispatch container perform error dispatch error code tomcat send error response sends org apache catalina core AsyncContextImpl timeout listenerInvoked request getCoyoteRequest action ActionCode ASYNC TIMINGOUT result result listeners container calls complete complete calls complete spec violation attached test war file test source Test URL http localhost asyncTimeoutTest AsyncTimeoutTestServlet
54124	wrong javax servlet async request uri javax servlet async path info missing org apache catalina core AsyncContextImpl dispatch ServletContext String Override dispatch ServletContext context String path log isDebugEnabled logDebug dispatch check request getAttribute ASYNC REQUEST URI request setAttribute ASYNC REQUEST URI request getRequestURI request getQueryString request setAttribute ASYNC CONTEXT PATH request getContextPath request setAttribute ASYNC SERVLET PATH request getServletPath request setAttribute ASYNC QUERY STRING request getQueryString ASYNC REQUEST URI request getRequestURI equal defined Servlet Dispatched Request Parameters ASYNC PATH INFO missing
54127	WsOutbound missing ping method Created attachment details patch adds ping functionality WsOutbound WsOutbound lacks ability send ping request client Attached patch creates method pong takes ByteBuffer passes ping sendControlMessage sets opcode frame Refactored pong method call sendControlMessage opposed duplicate code websocket Constants OPCODE PING PONG
54141	Configuration Realms nested levels deep Realm configured lock combined obvious configuration attempt CombinedRealm LockoutRealm DataSourceRealm LockoutRealm UserDatabaseRealm CombinedRealm configuration yields error rules matching Server Service Engine Realm Realm Realm org apache catalina startup RealmRuleSet addRuleInstances levels deep Realms Realm Realm Realm Adding level work sufficient option configure digester arbitrary levels Realm nesting pathological cases reference link question StackOverflow http stackoverflow questions tomcat nesting combinedrealm lockoutrealm datasourcerealm
54143	Add display PermGen memory pool usage Status Manager webapp nice add display PermGen memory pool usage Status Manager webapp OutOfMemoryError caused PermGen pool exhaustion fatal server hard predict visible simple Free Max Total Heap statistics Technically speaking MemoryPool MBeans easier display memory pools search specific beans query easier standard API Java http localhost manager jmxproxy qry java lang Atype DMemoryPool http docs oracle javase docs api java lang management MemoryPoolMXBean html implementation ready commit shortly small question suitable simple Server Status Complete Server Status simple
54144	Processing java Reader tagplugin Reviewing issues tagplugin jasper tagplugins jstl core code plugin generates calls toString toString passes String values method output method output method accept Objects Strings wrong evaluation toString needed JSTL spec special processing java Reader processing current code feature JSTL quote result evaluation java Reader object coerced String subsequently emitted current JspWriter object result evaluation java Reader object data read Reader object written current JspWriter object quote issues existed
54170	JMX ObjectName Filters names quoting escaping reproduce Execute context addFilter deprecatedApiReporterFilterFor myAPI ArbitraryServletFilter addMappingForUrlPatterns myAPI contextInitialized Method ServletContextListener Nov org apache catalina core ApplicationFilterConfig registerJMX JMX registration failed filter type ArbitraryServletFilter deprecatedApiReporterFilterFor myAPI javax management RuntimeOperationsException sun jmx mbeanserver Repository addMBean Repository java sun jmx interceptor DefaultMBeanServerInterceptor registerWithRepository DefaultMBeanServerInterceptor java sun jmx interceptor DefaultMBeanServerInterceptor registerDynamicMBean DefaultMBeanServerInterceptor java sun jmx interceptor DefaultMBeanServerInterceptor registerObject DefaultMBeanServerInterceptor java sun jmx interceptor DefaultMBeanServerInterceptor registerMBean DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer registerMBean JmxMBeanServer java org apache tomcat util modeler Registry registerComponent Registry java org apache catalina core ApplicationFilterConfig registerJMX ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig initFilter ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig init ApplicationFilterConfig java org apache catalina core StandardContext filterStart StandardContext java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig DeployDescriptor HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang IllegalArgumentException Repository add mbean pattern Catalina eeType Filter deprecatedApiReporterFilterFor myAPI WebModule localhost EEApplication EEServer happen ApplicationFilterConfig constructs ObjectName String concatenation escaping filterName ObjectName quote String reproduce Catalina
54190	TestNonLoginAndBasicAuthenticator test session timeout properly Created attachment details Extensive update test demonstrate session timeout properly working test Authenticator decided follow timeout test test cases discovered fundamental flaws existing timeout test BasicAuthenticator create session session timeout Context setSessionTimeout called timeout seconds method expects timeout argument minutes presence Unauthorized status intended confirm session timeout erroneously succeeding credentials supplied attempting access resource attached patch extensive easily broken smaller units AuthenticatorBase setAlwaysUseSession variable manipulated test cases doTestBasic method reimplemented single HTTP request doTestBasic controlled authenticate harvest session cookie supply cookie subsequent requests doTestNonLogin method controlled send saved session cookie erroneous timeout test reimplemented renamed properly commented explain testing timeout session persistence test session persistence timeout test Raw control flags replaced documenting constants Helpful comments places logic evident enclosed patch file compatible passes checkstyle
54207	javaURLContextFactory javadoc refers defunct names initial context properties Javadoc org apache naming java javaURLContextFactory Context factory java namespace note factory java URL prefix Adding java naming factory url pkgs org apache catalina util naming property JNDI properties file Setting environment variable named Context URL PKG PREFIXES including org apache catalina util naming detail JNDI documentation link javax naming spi NamingManager getURLContext java lang String java util Hashtable author Remy Maucherat version org apache catalina util naming correct org apache naming
54239	Extensible Interpreter Created attachment details ELInterpreter cases applications code generation evaluation faster tomcat provide extensible Interpreter application inject ELInterpreter replace JspUtil interpreterCall Attached implementation
54249	JSP compilation problem application context root white spaces Created attachment details Test web application noticed jsp compilation problem application context root white spaces Steps reproduce Deploy attached application request http host port Space AppTest testClassInvoker jsp exception received response org apache jasper JasperException Unable compile JSP org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java root java lang IllegalArgumentException Negative time java File setLastModified File java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java propose small patch fixes simply moves decoding org apache naming resources DirContextURLConnection connect method bit earlier path startsWith contextPath check returns contexPath decoded form path decoded Polina
54256	Enhance Exception reporting JAR file error posted mailing list Oct didn creating report error Tomcat PROBLEM DESCRIPTION exception appended nice context find problem exception file resource problem speed troubleshooting immensely REPRODUCE JAR file contained WAR file WEB INF lib folder Change MANIFEST file JAR file Path Note space period error load application exception appended message SUGGESTED IMPROVEMENT suggestion modify ExtensionValidator validateApplication location resource nice IOException caught Resource exception wrapping exception overhead version Tomcat running source compiled tested suggestion straight suggested code code change move definition resource Locate Manifests bundled JARs Resource resource NamingEnumeration Binding code change existing declaration resource assignment resource Resource obj MODIFIED inputStream resource streamContent Manifest jmanifest getManifest inputStream code change add clause NamingException nex Jump check application resources IOException ioex IOException validation problem resource toString ioex problem resource proper toString changing FileDirContext FileResource toString method lines String toString file file toString Note original email thread Konstantin Kolinko FileResource toString adding IOException doable exception Oct org apache catalina core StandardContext startInternal SEVERE Error dependencyCheck java IOException invalid header field java util jar Attributes read Attributes java java util jar Manifest read Manifest java java util jar JarInputStream init JarInputStream java java util jar JarInputStream init JarInputStream java org apache catalina util ExtensionValidator getManifest ExtensionValidator java org apache catalina util ExtensionValidator validateApplication ExtensionValidator java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardHost startInternal StandardHost java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase startInternal ContainerBase java org apache catalina core StandardEngine startInternal StandardEngine java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java java util jar Attributes read reported attribute problem business
54262	empty absolute ordering turn web fragments absolute ordering element disable ServletContainerInitializer classpath scanning discussed issue require web fragment listed absolute ordering turn web fragments named workaround list web fragment doesn exist shouldn
54284	Util objectNameValueNeedsQuote NPE anonymous Filters reproduce contextInitialized Method ServletContextListener instance call context addFilter ArbitraryFilter pathPrefix addMappingForUrlPatterns pathPrefix Dec org apache catalina core StandardContext filterStart SEVERE Exception starting filter java lang NullPointerException org apache tomcat util modeler Util objectNameValueNeedsQuote Util java org apache catalina core ApplicationFilterConfig registerJMX ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig initFilter ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig init ApplicationFilterConfig java org apache catalina core StandardContext filterStart StandardContext java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig DeployDescriptor HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Dec org apache catalina core StandardContext startInternal SEVERE Error filterStart Dec org apache catalina core StandardContext startInternal SEVERE Context startup failed previous errors happen allowed filter IllegalArgumentException context addFilter allowed filter handle values gracefully
54338	exception tagPlugin Set generated code Created attachment details Test Set convert object code generated tagPlugin Set exception primitive type sample Caused java lang ClassCastException java lang Integer java lang java org apache jsp WEB dINF views error jsp jspService error jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java correct ELSupport coerceToType Attached patch test issue
54370	NPE mapping method Created attachment details Patch NPE parameters cases https issues jboss org browse workaround don legitimate bit NPE toString reverted object argument
54371	java FileNotFoundException deploying web application white space context root Created attachment details Test web application exception thrown web application deploy Tomcat including latest Tomcat dev trunk branch SEVERE Unable process JNDI URL jndi localhost Fragment WEB INF classes annotations java FileNotFoundException jndi localhost Fragment WEB INF classes org apache naming resources DirContextURLConnection list DirContextURLConnection java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig DeployWar HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java reproduce Deploy attached application white space Includes web fragment web app extraction disabled unpackWARs Host attribute server xml Note Bug applied avoid exceptions prior questioned propose small substring start position incorrectly calculated based string decoded form â€œ Fragment Exampleâ€ substring encoded string â€œ localhost Fragment WEB INF classes comâ€ proposed simply encode string calculations Polina
54377	RemoteIpFilter correctly set request attributes AccessLog RemoteIpFilter code publishes request attributes AccessLog requestAttributesEnabled request setAttribute AccessLog REMOTE ADDR ATTRIBUTE request getRemoteAddr request setAttribute AccessLog REMOTE HOST ATTRIBUTE request getRemoteHost request setAttribute AccessLog PROTOCOL ATTRIBUTE request getProtocol request setAttribute AccessLog SERVER PORT ATTRIBUTE Integer valueOf request getServerPort problem source values xRequest xRequest getRemoteAddr xRequest getRemoteHost written RemoteIpFilter simply republishes current values AccessLog display correct values
54379	Implement support post construct pre destroy elements web xml appears feature web fragment xml file elements post construct pre destroy treated equivalents PostConstruct PreDestroy annotations classes mentioned feature mentioned Java Platform Specification chapter Annotations Injection mentioned chapter Assembling descriptor web xml webfragment xml annotations points servlet mrel spec pdf javaee platform spec pdf http jcp org aboutJava communityprocess jsr html Jetty wiki http wiki eclipse org Jetty Feature Annotations Lifecycle callbacks PostConstruct PreDestroy Searching tag names code current trunk processes XML elements
54380	MapperListener lifecycleEvent check parent calling registerWrapper test trunk test attempt start Context fails failure removed context started time test TestStandardContext testBug runs message logged Jan org apache catalina mapper Mapper addWrapper SEVERE context context started time breakpoint logs message stack trace running Tomcat trunk Mapper addWrapper String String String String Wrapper MapperListener registerWrapper Wrapper MapperListener lifecycleEvent LifecycleEvent LifecycleSupport fireLifecycleEvent String Object Tomcat ExistingStandardWrapper LifecycleBase fireLifecycleEvent String Object Tomcat ExistingStandardWrapper LifecycleBase setStateInternal LifecycleState Object Tomcat ExistingStandardWrapper LifecycleBase start StandardContext startInternal StandardContext LifecycleBase start TestStandardContext testBug understanding Tomcat starts registration mapper performed StandardService startInternal Stack trace Mapper addHost String String Host MapperListener registerHost Host MapperListener startInternal MapperListener LifecycleBase start StandardService startInternal StandardService LifecycleBase start StandardServer startInternal StandardServer LifecycleBase start TomcatBaseTest TomcatWithFastSessionIDs Tomcat start TomcatBaseTest TomcatWithFastSessionIDs start TestStandardContext testBug Context failed start skipped MapperListener registerHost getState isAvailable check Mapper addWrapper call prints context message START EVENT processed Wrapper moment StandardContext startInternal completed context registered mapper message StandardContext startInternal completes START EVENT Context processed Context Wrappers registered check MapperListener lifecycleEvent MapperListener registerWrapper tests getContainer getState isAvailable
54381	Websocket StreamInbound reports receipt Pong tomcat websocket api send Ping frame server WsOutbound reports receipt Pong StreamInbound onData method opCode Constants OPCODE PONG intended Pings heartbeat messages allowing Ping informing server extension returned Pong leaves utility StreamInbound onData method opCode Constants OPCODE PONG onPong frame getPayLoad Add method onPong ByteBuffer buffer onPong ByteBuffer buffer implementations override handle Pong receipt heartbeat logic onData marked alternate workaround
54382	Nullpointer Exception activating SSI loading html file specific comment Activate SSI Tomcat restart Tomcat create html file comment html file webapp folder tomcat html file tomcat Nullpointer Exception SSIServlet SSI classes
54387	servlets url warning interesting mal functioning application copied mapping portion web xml created servlet forgot change URI Tomcat deployed application warning running application referenced servlet working mapping overwritten XML file additional tests annotations servlets behavior servlet mapping random access determine predictable order prevent breaking existing applications big warning log startup deployment application servlet mapped URL Examples problem Web xml servlet servlet PrintDacteServlet servlet servlet simfreteV web PrintDacteServlet servlet servlet servlet servlet CotacaoReportServlet servlet servlet simfreteV web CotacaoReportServlet servlet servlet servlet mapping servlet PrintDacteServlet servlet url pattern secure relatorios Action url pattern servlet mapping servlet mapping servlet CotacaoReportServlet servlet url pattern secure relatorios Action url pattern servlet mapping annotations java servlet files WebServlet PdfReportPrint urlPatterns secure relatorios doReport PdfReportPrint AbstractBaseServlet WebServlet PrintBoletoServlet urlPatterns secure relatorios doReport PrintBoletoServlet HttpServlet
54391	Provide javax servlet context orderedLibs attribute Servlet spec Rev chapter written quote addition Servlet compliant Servlet container provide ServletContext attribute javax servlet context orderedLibs type java util List java lang String list names JAR files WEB INF lib directory application represented ServletContext ordered web fragment names exclusions fragment JAR files excluded absolute ordering application absolute relative ordering quote source code constant ServletContext ORDERED LIBS code understanding list jar names foo jar bar jar absent ordering
54438	Bug introduces NullPointerException RealmBase java user JDBC bug introduces NullPointerException RealBase java compare http svn apache org repos asf tomcat tags TOMCAT java org apache catalina realm RealmBase java http svn apache org repos asf tomcat tags TOMCAT java org apache catalina realm RealmBase java String getDigest username realm changed String getDigest username realm toLowerCase Locale ENGLISH getDigest username realm returns user result NPE toLowerCase invoked looked trunk code hasn changed bug posted digest authentication useless find
54440	TagPluginManager init NPE Ant jasper task NPE compiling JSPX files jasper Ant task jasper java lang NullPointerException jasper org apache jasper compiler TagPluginManager init TagPluginManager java jasper org apache jasper compiler TagPluginManager apply TagPluginManager java jasper org apache jasper compiler Compiler generateJava Compiler java jasper org apache jasper compiler Compiler compile Compiler java jasper org apache jasper JspC processFile JspC java jasper org apache jasper JspC execute JspC java jasper org apache tools ant UnknownElement execute UnknownElement java jasper sun reflect GeneratedMethodAccessor invoke Unknown Source jasper sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java jasper java lang reflect Method invoke Method java jasper org apache tools ant dispatch DispatchUtils execute DispatchUtils java jasper org apache tools ant Task perform Task java jasper org apache tools ant Target execute Target java jasper org apache tools ant Target performTasks Target java jasper org apache tools ant Project executeSortedTargets Project java jasper org apache tools ant Project executeTarget Project java jasper org apache tools ant helper DefaultExecutor executeTargets DefaultExecutor java jasper org apache tools ant Project executeTargets Project java jasper org apache tools ant Main runBuild Main java jasper org apache tools ant Main startAnt Main java jasper org apache tools ant launch Launcher Launcher java jasper org apache tools ant launch Launcher main Launcher java didn happen change http svn apache org viewvc tomcat trunk java org apache jasper compiler TagPluginManager java diff format assume urls ctxt getClassLoader getResources META INF JASPER TAG PLUGINS XML ClassLoader ctxt evidently Fall Thread currentThread getContextClassLoader Ant snippet file tomcat bin catalina tasks xml jasper validateXml failonerror listerrors trimspaces uriroot module web basedir docs outputDir module web basedir gen xpoweredBy
54448	Field primitive type annotated Resource recognized env entry servlet field primitive type field annotated Resource MyServlet HttpServlet Resource mappedName envEntry doGet HttpServletRequest req HttpServletResponse resp ServletException IOException request servlet receive exception SEVERE Allocate exception servlet MyServlet javax naming NamingException create resource instance org apache naming factory ResourceEnvFactory getObjectInstance ResourceEnvFactory java javax naming spi NamingManager getObjectInstance NamingManager java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache catalina core DefaultInstanceManager lookupFieldResource DefaultInstanceManager java org apache catalina core DefaultInstanceManager processAnnotations DefaultInstanceManager java org apache catalina core DefaultInstanceManager newInstance DefaultInstanceManager java org apache catalina core DefaultInstanceManager newInstance DefaultInstanceManager java org apache catalina core StandardWrapper loadServlet StandardWrapper java org apache catalina core StandardWrapper allocate StandardWrapper java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java method primitive types converted wrappers field interpreted env entry resource env org apache catalina startup WebAnnotationSet addResource Context Resource String String attaching patch solves issue test comments Violeta
54450	Injection fails servlet properties Resource injection target servlet annotated properties injection target declarations web xml request servlet receive javax naming NameNotFoundException envEntry bound Context Unable find envEntry org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache naming NamingContext lookup NamingContext java org apache catalina core DefaultInstanceManager lookupMethodResource DefaultInstanceManager java org apache catalina core DefaultInstanceManager processAnnotations DefaultInstanceManager java org apache catalina core DefaultInstanceManager newInstance DefaultInstanceManager java org apache catalina core DefaultInstanceManager newInstance DefaultInstanceManager java org apache catalina core StandardWrapper loadServlet StandardWrapper java org apache catalina core StandardWrapper allocate StandardWrapper java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java problem application injection target declarations org apache catalina core DefaultInstanceManager populateAnnotationsCache Map String String setter method evaluated skipped propose patch test comments Violeta
54456	ChunkedInputFilter returning EOF client closes connection sending chunk Created attachment details Patch bug client processing user InputStream sending data chunks server server read EOF Client simple Java program web application facing issue client error user InputStream closes connection server ChunkedInputFilter returning logs confirmed endChunk Issue fixed result result endChunk EOFException Unexpected stream reading chunk body ChunkedInputFilter endChunk client sending complete chunk ChunkedInputFilter EOF socket stream reading chunk header handled properly ChunkedInputFilter happening attached patch Patch generated tomcat trunk
54458	DataSourceRealm provide info SQLException getPassword method DataSourceRealm log encounters SQL error block SQLException containerLog error getString dataSourceRealm getPassword exception username helpful details SQLException intermittently resorted subclassing getPassword attempt figure wrong
54496	tribes membership MemberImpl toString getClass getName String toString StringBuilder buf StringBuilder org apache catalina tribes membership MemberImpl getClass getName cover StaticMember classes
54507	Notification expired session initializing servlet context Tomcat backgroundprocess expiring sessions wait servlet context application loaded filter fully initialized stacktrace Filter init executed application partly initialized shouldn receive work org apache wicket protocol http WebApplication sessionUnbound WebApplication java org apache wicket session HttpSessionStore SessionBindingListener valueUnbound HttpSessionStore java org apache catalina session StandardSession removeAttributeInternal StandardSession java org apache catalina session StandardSession expire StandardSession java org apache catalina session StandardSession isValid StandardSession java org apache catalina session ManagerBase processExpires ManagerBase java org apache catalina session ManagerBase backgroundProcess ManagerBase java org apache catalina core ContainerBase backgroundProcess ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor ContainerBase java java lang Thread Thread java
54521	DigestAuthenticator nonceCountValid fails simultaneous asynchronous requests client Concerned components org apache catalina authenticator DigestAuthenticator org apache catalina authenticator DigestAuthenticator NonceInfo Scenario multithreaded client sends requests millisecond DigestAuthenticator creates request nonce NonceInfo instance nonces equal created millisecond writing data cache method generateNonce NonceInfo instance overwrites key Problem client threads send request digest authentication header requests â€œncâ€ nonce count equal â€œ nonce newly created NonceInfo request array â€œseenâ€ set â€œtrueâ€ nonceCount offset length request NonceInfo instance instance retrieved map â€œnoncesâ€ â€œnonceâ€ key requests key method â€œnonceCountValid â€œ returns â€žfalseâ€œ nonceCount offset length set â€žtrueâ€œ authentication fails client valid digest authentication header Conclusion Working multi threaded clients requests digest authentication function reliably
54536	ErrorReportValve doesn respect HttpServletResponse sendError String msg ErrorSupportValve introduced catalina respect HttpServletResponse sendError String msg msg status LocalStrings properties org apache catalina valves error won forwarded response body issue triggered change performed revision change report getString http statusCode message report getString http statusCode report custom status codes returning response error body report
54585	WebappLoader doesn honor delegate attr constructing jsp classpath custom WebappClassLoader created delegate parent classloading model works expected jsp classpath constructed manner customWebappClassLoader urls parent urls parent parent urls expected delegate parent urls
54602	CConverter character decode underflow leaves bytes buffer request uri ends multi character missing extra bytes left buffer reused request problem CConverter convert ByteChunk ends character underflow convert character left buffer CConver CConverter org apache catalina connector Request recycled objects intentionally based comment declaration issue CConverter demonstrated code simplification CoyoteAdapter convertURI code CConverter conv CConverter UTF ByteChunk ByteChunk CharChunk CharChunk bytes append bytes bytes length allocate getLength conv convert getBuffer length getEnd System println recycle recycle append bytes bytes length allocate getLength conv convert getBuffer length getEnd System println code CConverter recycled Request prevent previous request corrupting request doesn issue character dropped initial decode playing CConverter convert ignoring limit argument reading stream tomcat moving direction move NIO playing latest CConverter issues sequence
54612	Fatal Error send data WebSocket conection closed Created attachment details Crash report Java Occures send data WebSocet org apache catalina websocket WsOutbound socket closed onClose method managed work remove connection collection Expected behavior IOException Actual behavior Fatal Error EXCEPTION ACCESS VIOLATION Java JDK Tomcat Actual DLL version Note works Linux crash Tomcat Windows
54618	Add filter implementing HTTP Strict Transport Security HSTS PATCH Created attachment details actual filter specification HTTP Strict Transport Security HSTS published RFC Tomcat include filter implementing specification easy add web applications attached implementation suggestion
54624	Form authenticator hangs authentication POST request mod proxy ajp Setup Tomcat AJP connector mod proxy ajp form based authentication session expires POST request submitted Tomcat login form user logs authenticator restore original POST request swallow AJP message body replacing body request original POST request body read bytes AJP message message length blocks waiting bytes
54628	wrong send binary data websocket wrong send binary data websocket org apache catalina websocket WsOutbound doWriteBytes ByteBuffer Write content upgradeOutbound write buffer array buffer limit upgradeOutbound flush change Write content upgradeOutbound write buffer array buffer arrayOffset buffer limit upgradeOutbound flush bts ByteBuffer ByteBuffer wrap bts writeBinaryMessage write client fact
54638	manager status XML manager status XML informations memory pools incorrect row values initial committed maximum Memory Pools Eden Space Type Heap memory Initial Committed Maximum Survivor Space Type Heap memory Initial Committed Maximum Tenured Gen Type Heap memory Initial Committed Maximum Code Cache Type heap memory Initial Committed Maximum Perm Gen Type heap memory Initial Committed Maximum Perm Gen shared Type heap memory Initial Committed Maximum Perm Gen shared Type heap memory Initial Committed Maximum gui values correct
54660	AccessLogValve fileDateFormat changed JMX AccessLogValve catalina host JMX addVale operation Host object valve start fileDateFormat Changing attribute valve JMX object valve started Executing rotate operation valve Steps Reproduce Start tomcat server Add Host JMX Add valve Host JMX Set valve attribute fileDateFormat yyyy Actual access log file format include fileDateFormat yyyy Expected access log file format
54702	File descriptor leak web xml loading file descriptor leak file tomcat trunk java org apache catalina startup ContextConfig java method getGlobalWebXmlSource stream file web xml closed WebXml getDefaultWebXmlFragment InputSource globalWebXml getGlobalWebXmlSource Parse global web xml globalWebXml unusual log log info getString contextConfig defaultMissing parseWebXml globalWebXml webXmlDefaultFragment full stack trace java FileInputStream init FileInputStream java org apache catalina startup ContextConfig getWebXmlSource ContextConfig java org apache catalina startup ContextConfig getGlobalWebXmlSource ContextConfig java org apache catalina startup ContextConfig getDefaultWebXmlFragment ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig check HostConfig java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat util modeler BaseModelMBean invoke BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor invoke DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer invoke JmxMBeanServer java org apache catalina manager ManagerServlet check ManagerServlet java org apache catalina manager HTMLManagerServlet upload HTMLManagerServlet java org apache catalina manager HTMLManagerServlet doPost HTMLManagerServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina filters CsrfPreventionFilter doFilter CsrfPreventionFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina filters SetCharacterEncodingFilter doFilter SetCharacterEncodingFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
54703	Nullpointer exception HttpParser parseMediaType input parseMediaType multipart signed protocol application pkcs signature micalg sha boundary exception trace java lang NullPointerException org apache tomcat util http parser HttpParser parseMediaType HttpParser java org apache tomcat util http parser MediaTypeCache parse MediaTypeCache java org apache catalina connector Response setContentType Response java org apache catalina connector Response checkSpecialHeader Response java org apache catalina connector Response setHeader Response java org apache catalina connector ResponseFacade setHeader ResponseFacade java
54707	Buggy Perl http clients tomcat digest fail quoted values problem discovered Perl LWP library work tomcat path digest authentication Ultimately bug Perl https cpan org Bug Display html fixed requires users update perl libraries big pain customers simple tomcat solve problem life good typical digest response header perl Authorization Digest username joe realm ACME qop algorithm uri path nonce fdbfff bece cnonce response baeeff message digest ecf opaque entry tomcat reject request perl client mistake perl script demonstrates problem usr bin perl strict LWP doGet myname mypassword myrealmname myhost path doGet username password realm host port uri url http host port uri print url browser LWP UserAgent browser agent Debug Digest Problem browser credentials host port realm username password response browser url print HTTP STATUS response status print response content org apache tomcat util http parser HttpParser java build code FIELD TYPE LHEX readLhex input hit field fieldTypes FIELD TYPE LHEX method readLhex tolerant quotes tomcat issue fixed quoted qop field qop response field quoted tomcat handles defined RFC special handle data buggy clients buggy clients include Microsoft Apple Safari OSX iOS add quotes values tokens Server software tolerates mistake perl client includes Apache Spring security filter org springframework security web authentication DigestAuthenticationFilter
54712	Prefer Locale ENGLISH Locale conversion Created attachment details Convert Locale Locale ENGLISH conversion methods conversion toLowerCase toUpperCase Locale parameter avoid unexpected Locales code Locale places code Locale ENGLISH code standardise ENGLISH Locale ROOT
54801	expressions jsp scriptlet compilation JSP XML documents Created attachment details helloWorld tagx Steps reproduce webapps examples WEB INF tags Delete helloWorld tag file helloWorld tagx file attached issue file header xml version encoding utf jsp root xmlns jsp http java sun JSP version jsp scriptlet CDATA foo println jsp scriptlet jsp root Start Tomcat open browser http localhost examples jsp jsp tagfiles jsp ACTUAL result current trunk org xml sax SAXException Body scriptlet element XML elements org apache jasper compiler JspDocumentParser checkScriptingBody JspDocumentParser java org apache jasper compiler JspDocumentParser endElement JspDocumentParser java behaviour caused foo scriptlet remove displayed EXPECTED RESULT expressions recognized jsp scriptlet jsp declaration jsp expression trigger error confirmation helloWorld tag JSP syntax compiles executes issue XML syntax foo Alternative solution change error message issue XML elements XML elements expressions
54851	Folder web fragment xml impact status distributable Created attachment details patch revision JARs web xml fragments impact status distributable applied scan JarURLConnection jarConn applied scan File file cluster nodes eclipse wtp supplies folders WebappClassLoader addRepository workspace project classes app marked distributable supplying distributable tag web xml attached patch resolved issue
54888	TagPlugin ForEach doesn support CSV items Created attachment details Patch ForEach JSTL forEach supports items String string CSV format foreach items foreach doesn support tagPlugin ForEach patch issue
54939	logging maxHeaderCount hit versions tomcat maxHeaderCount parameter connector configuration limit hit Tomcat returns HTTP response blank configuration logged server org apache coyote ajp AjpProcessor logs error DEBUG level doesn written configuration headers SSO systems provide user attributes HTTP headers Internet Shibboleth project good common headers passed Tomcat systems propose fixes Write message response explaining response returned easier application deployers determine functional application logger setup AJP connector change log level INFO treated time warning request hits limit logged WARN subsequent requests logged DEBUG avoid log clutter Increase maxHeaderCount easily accommodate HTTP headers pass user attributes happy provide patch solutions proposed ideas
54955	Mapping application context root returns reload Created attachment details minimum war file reproduce bug sources attached URL mapping empty string maps servlet context root servlet specification feature working application deployed broken reloaded reload result error url mappings Steps reproduce Create servlet URL mapping empty string WebServlet annotation url pattern url pattern web xml deploy Tomcat work http localhost myapp reload app manager app http localhost myapp error Servlet step called time Actual Expected context root Env Tomcat Java Windows
54964	loading issue TagPlugin TagPluginManager Created attachment details Patch TagPluginManager java TagPluginManager forName load extensions TagPlugin work extensions WEB INF lib code String pluginClassStr pluginClassNode getBody TagPlugin tagPlugin pluginClass forName pluginClassStr tagPlugin TagPlugin pluginClass newInstance Exception JasperException
54968	JspEngineInfo getSpecificationVersion returns
54971	javax servlet http write String fileName properly implemented fileName parameter relative absolute filaName parameter specification JSR Java Servlet Release javadocs javax API tomcat refers JSR Java Servlet Release javadocs Parameters fileName file stream written file created relative location MultipartConfig javax API tomcat refers param fileName location uploaded stored Relative locations relative link javax servlet MultipartConfigElement getLocation Tomcat implemented process absolute path accept relative path JSR Java Servlet Release javadocs MultiPartConfig location set write String relative path FileNotFound Exception location set order avoid exception windows write test java IOException java FileNotFoundException test Access denied org apache catalina core ApplicationPart write ApplicationPart java servlet multipart MultipleUploadServlet doPost MultipleUploadServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
54974	SessionCookieConfig setXXX methods IllegalStateException invoked initialization phase Servlet javadoc javax servlet SessionCookieConfig setter methods IllegalStateException invoked initialization phase setComment String setDomain String setHttpOnly setMaxAge setName String setPath String setSecure java lang IllegalStateException ServletContext SessionCookieConfig acquired initialized
54981	ServletContext getJspConfigDescriptor jsp configuration Servlet javadoc ServletContext getJspConfigDescriptor jsp configuration Returns jsp config configuration aggregated web xml web fragment xml descriptor files web application represented ServletContext configuration exists
54984	multipart form data read correct encoding bug occurs form data posted multipart form data Servlet API posted files servlet set encoding request setCharacterEncoding UTF invoke request getParts invoke String text request getParameter sometextfield UTF characters text garbled Order method calls getParameter called getParts correct encoding order invoke methods matter
54999	JSESSIONIDSSO created authentication request logout login username password testing JSESSIONIDSSO created authentication logout login username password request problem stemmed REQ SSOID NOTE reset request logout documentation logout web app logout web apps REQ SSOID NOTE removed logout subsequent login username password request create JSESSIONID current web app fails create JSESSIONIDSSO REQ SSO NOTE lingers request AuthenticatorBase java adjustment logout request removes REQ SSOID NOTE subsequent login username password work request Override logout Request request ServletException register request request getResponse request removeNote Constants REQ SSOID NOTE upload diff patch trunk
55017	Ability configure RMI bind address Created attachment details Patch provider bind rmi bind address setup ability patch adds rmiBindAddress property JmxRemoteLifecycleListener bind RMI server specific binding RMI localhost avoiding firewall configuration monitoring SSH tunnel Unfortunatly rmiBindAddress incompatible rmiSSL issue rarely intersecting cases
55035	Deploy ROOT webapp version text manager Ant Ant deploy task support separate parameter version URLEncoder workaround apps empty context define version setting path someContext someVersion apps empty context receive error deploy url tomcat manager text username username password password path ROOT war pathtowar Result Failed deploy application context path ROOT deploy url tomcat manager text username username password password path war pathtowar Result Failed deploy application context path
55052	JULI ClassLoaderLogManager getProperty unprefixed property prefixed exist issue reported Edson comments system http tomcat apache org tomcat doc logging html quote explaining SimpleFormatter format log behave expected JULI Tomcat ignore attemps set catalina system property Djava util logging SimpleFormatter format clarified documentation quote confirming behaviour current Tomcat JDK Actual add logging properties logging output change reported comment java util logging SimpleFormatter format add output handlers console catalina log localhost log files log files empty catalina java util logging SimpleFormatter format Problem Oracle SimpleFormatter format field initialized good prefixed catalina property works specific formatter configured handler free implement formatter field file enhancement request Oracle OpenJDK code question ClassLoaderLogManager getProperty String prefix prefix prefix active prefixed property unprefixed Expected SimpleFormatter sense configure unprefixed property Handler initialized Workaround Change values handlers handlers properties unprefixed handler listed configuration ConsoleHandler handlers java util logging ConsoleHandler catalina org apache juli FileHandler localhost org apache juli FileHandler manager org apache juli FileHandler host manager org apache juli FileHandler handlers java util logging ConsoleHandler catalina org apache juli FileHandler Alternatively remove prefix handlers handler SimpleFormatter unprefixed configuration property work java util logging SimpleFormatter format
55071	structure masks original exception JDBCRealm getPassword mysterious apparent SQL exception JDBCRealm getPassword stmt executeQuery occasionally fails block dbConnection commit exception Connection Closed logged summary surrounded
55073	wasted work ValidateVisitor isExpression Created attachment details patch problem appears version revision attached patch fixes method ValidateVisitor isExpression loop nodes elExpression set iterations elExpression set perform work set elExpression Method startInternal StandardHost loop valves loop breaks set proposed patch methods MapperListener findDefaultHost CollectVisitor checkSeen JspDocumentParser processChars ParameterParser isOneOf loops breaks proposed patch
55108	Wasted work AbstractReplicatedMap excludeFromSet Created attachment details patch problem appears version revision attached patch fixes method AbstractReplicatedMap excludeFromSet loop mbrs include set iterations include set perform work set include Method inSet AbstractReplicatedMap definition excludeFromSet loop set loop breaks result set proposed patch methods MapperListener findDefaultHost CollectVisitor checkSeen JspDocumentParser processChars ParameterParser isOneOf loops breaks proposed patch
55110	Wasted work TestNonLoginAndBasicAuthenticator doTestBasic Created attachment details patch problem appears version revision attached patch patch diff fixes method TestNonLoginAndBasicAuthenticator doTestBasic loop authHeaders methodFound set iterations methodFound set perform work set methodFound Method TestWsWebSocketContainer testSessionExpiryContainer problem loop setA isOpen set attached patch patch diff problem Method startInternal StandardHost loop valves loop breaks set proposed patches methods MapperListener findDefaultHost CollectVisitor checkSeen JspDocumentParser processChars ParameterParser isOneOf loops breaks proposed patches
55125	Tomcat shut LifecycleListener exception Created attachment details Logs needed shut Tomcat application fails start advised LifecycleListener shut Tomcat throwing IllegalStateException lifecycleEvent method produces severe errors logs Tomcat shut behaviour Tomcat test web application https github cloudfoundry java test applications listener https github cloudfoundry java buildpack support listener coded halt JVM attach catalina Mark Thomas suggested raise bug believes Tomcat shut
55158	Wasted work AttributeNamesEnumerator constructor Created attachment details patch problem appears version revision attached patch fixes AttributeNamesEnumerator constructor loop specials overriding written visible loop writes iterations patch iterates specials breaks time set
55159	Wasted work ErrorReportValve getPartialServletStackTrace Created attachment details patch problem appears version revision attached patch patch diff fixes method ErrorReportValve getPartialServletStackTrace loop elements overriding pos written visible loop writes iterations patch iterates elements breaks time pos set patch diff correct easy code inspection shorter patch patchShort diff pos set reversion loop order patchShort diff correct elements org apache catalina core ApplicationFilterChain method internalDoFilter doesn matter elements detected original code patchShort diff
55160	NIO connectionUploadTimeout work configure disableUploadTimeout connectionTimeout connectionUploadTimeout connectionUploadTimeout doesn work code internalNioInputBuffer readSocket NioEndpoint KeyAttachment att NioEndpoint KeyAttachment socket getAttachment att IOException Key cancelled nRead pool read socket getBufHandler getReadBuffer socket selector att getTimeout EOFException eof nRead selector pool selector att getTimeout connectionTimeout connectionUploadTimeout NioBlockingSelector read readTimeout connectionTimeout
55177	connectionTimeout high CPU Created attachment details Setting connectionTimeout server xml request high CPU java full version Connector port protocol HTTP connectionTimeout redirectPort looked statement Http Processor Attached patch file resolved issue server
55179	Incorrect Parameter RemoteIpValve Examples RemoteIpValve sample configurations incorrectly refer remoteIpProxiesHeader property proxiesHeader property http tomcat apache org tomcat doc api org apache catalina valves RemoteIpValve html
55180	connectionTimeout timeout negative configured server xml connectionTimeout disableUploadTimeout connectionUploadTimeout stupid configure connectionTimeout disableUploadTimeout java lang IllegalArgumentException timeout negative sun nio SocketAdaptor setSoTimeout SocketAdaptor java org apache coyote http Http NioProcessor setSocketTimeout Http NioProcessor java disableUploadTimeout endpoint getSoTimeout setSocketTimeout endpoint getSoTimeout configure connectionTimeout NioBlockingSelector read ByteBuffer buf NioChannel socket readTimeout readTimeout socket read buf timeout readTimeout keycount timedout System currentTimeMillis time readTimeout SocketTimeoutException
55210	SEVERE ServletContentInitializer Licensed Apache Software Foundation ASF created Javadoc java util ServiceLoader http docs oracle javase docs api java util ServiceLoader html quote service provider identified placing provider configuration file resource directory META INF services file fully qualified binary service type file list fully qualified binary names concrete provider classes Space tab characters surrounding blank lines comment character NUMBER SIGN characters comment character file encoded UTF quote based error appears Tomcat abide requirement Log Core JAR beta ServletContainerInitializer provider configuration file SCI copyright statement Tomcat barfs fails deploy application copyright statement problem exists Tomcat Tomcat SEVERE ServletContentInitializer Licensed Apache Software Foundation ASF created java lang ClassNotFoundException Licensed Apache Software Foundation ASF org apache catalina loader WebappClassLoader loadClass WebappClassLoader java org apache catalina loader WebappClassLoader loadClass WebappClassLoader java java lang forName Method java lang forName java org apache catalina startup ContextConfig getServletContainerInitializer ContextConfig java org apache catalina startup ContextConfig processServletContainerInitializers ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig manageApp HostConfig java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat util modeler BaseModelMBean invoke BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor invoke DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer invoke JmxMBeanServer java org apache catalina mbeans MBeanFactory createStandardContext MBeanFactory java org apache catalina mbeans MBeanFactory createStandardContext MBeanFactory java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat util modeler BaseModelMBean invoke BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor invoke DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer invoke JmxMBeanServer java javax management remote rmi RMIConnectionImpl doOperation RMIConnectionImpl java javax management remote rmi RMIConnectionImpl access RMIConnectionImpl java javax management remote rmi RMIConnectionImpl PrivilegedOperation RMIConnectionImpl java javax management remote rmi RMIConnectionImpl doPrivilegedOperation RMIConnectionImpl java javax management remote rmi RMIConnectionImpl invoke RMIConnectionImpl java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java sun rmi server UnicastServerRef dispatch UnicastServerRef java sun rmi transport Transport Transport java sun rmi transport Transport Transport java java security AccessController doPrivileged Method sun rmi transport Transport serviceCall Transport java sun rmi transport tcp TCPTransport handleMessages TCPTransport java sun rmi transport tcp TCPTransport ConnectionHandler TCPTransport java sun rmi transport tcp TCPTransport ConnectionHandler TCPTransport java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
55230	DirContextURLConnection getInputStream fails reopen resources ProxyDirContext appears bug DirContextURLConnection fails reopen resource getInputStream method context ProxyDirContext DirContextURLConnection connect method special code ProxyDirContext stripping hostName contextPath path URL stripped path context lookup call works great getInputStream method DirContextURLConnection attempts reopen resource special logic path context lookup resource raw path URL object fails NamingException thrown swallowed stale resource initial call connect returned application isn causing logic issue resources changing initial connection call getInputStream bug manifesting notable performance problem time bad path passed ProxyDirContext causing lot NamingExceptions thrown alternative paths BaseDirContext lookup exceptions swallowed happening times request application resources time takes build swallowed NamingExceptions
55267	NIO thread locked load test thread stuck dump Basically simulate users connect disconnect
55282	JSF PhaseListeners duplicated Created attachment details source code reproduce issue jsf project add Phase Listeners created list Phase Listeners load Phase Listeners executed happening sun faces config ConfigureListener defined web xml declaration web xml jsf initialized time behaviour happen version didn behaviour didn chance check checked installed fine behaviour critical applications jsf Phase Listeners Phase Listeners duplicated didn problem jsf initialized duplicated Attaching eclipse project check bug compare tomcat version duplicated message console Phase Listener created
55309	Concurrent issue TagPluginManager Created attachment details Patch TagPluginManager TagPluginManager shared ServletContext variable PageInfo pageInfo PageInfo aligned PageInfo holding compiled parallel encounters concurrent issue compiled server restarted
55317	Facilitate weaving allowing ClassFileTransformer WebppClassLoader application servers provide mechanism web applications instrument bytecode form instrumentation methods ClassLoader implementation responsible web application loading Spring Framework automatically detect instrumentable ClassLoaders application servers Tomcat catalina loader WebappClassLoader instrumentable Spring WebappClassLoader implement instrumentation Users place special spring instrument tomcat jar file TOMCAT lib loader declaration META INF context xml order work pain rear Spring extended WebappClassLoader trivial involve classes helper called WeavingTransformer extended TomcatInstrumentableClassLoader intend port Tomcat Tomcat submit patch started needed answers community objection simple addition WebappClassLoader easy big improvement Tomcat steps Spring code officially donated Tomcat legal requirements met code licensed Apache easier https github SpringSource spring framework blob master spring instrument tomcat src main java org springframework instrument classloading WeavingTransformer java https github SpringSource spring framework blob master spring instrument tomcat src main java org springframework instrument classloading tomcat TomcatInstrumentableClassLoader java
55331	Dispatch async timeout fails Tomcat NIO connector calling AsyncContext dispatch onTimeout handler fails error message jul org apache coyote AbstractProtocol AbstractConnectionHandler process SEVERE Error reading request java lang IllegalStateException Calling asyncPostProcess valid request Async STARTED org apache coyote AsyncStateMachine asyncPostProcess AsyncStateMachine java org apache coyote AbstractProcessor asyncPostProcess AbstractProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Test code AsyncServlet HttpServlet doGet HttpServletRequest request HttpServletResponse response ServletException IOException request isAsyncStarted response getWriter write asyncResult request getAttribute asyncResult AsyncContext asyncContext request startAsync request response asyncContext addListener AsyncListener onTimeout AsyncEvent event IOException request setAttribute asyncResult timeout asyncContext dispatch onStartAsync AsyncEvent event IOException onError AsyncEvent event IOException onComplete AsyncEvent event IOException asyncContext setTimeout ancient report
55333	JDBCRealm Digest authentication Flow working Function sequence error Issue Digest authentication flow working Error Thrown Function sequence error PackageName org apache catalina realm ClassName JDBCRealm MethodName String getPassword String username Snapshot mentioned method stmt credentials dbConnection username stmt executeQuery connection commit resultset nullified dbConnection commit executing statement Function sequence error dbCredentials getString explanation validate placing catalina jar bug snapshot error observed Digest authentication Jul org apache catalina realm JDBCRealm getPassword SEVERE Exception performing authentication java sql SQLException TimesTen TimesTen ODBC Driver Function sequence error timesten jdbc JdbcOdbc createSQLException JdbcOdbc java timesten jdbc JdbcOdbc standardError JdbcOdbc java timesten jdbc JdbcOdbc SQLFetch JdbcOdbc java timesten jdbc JdbcOdbcResultSet JdbcOdbcResultSet java org apache catalina realm JDBCRealm getPassword JDBCRealm java org apache catalina realm RealmBase getDigest RealmBase java org apache catalina realm RealmBase authenticate RealmBase java kodiak digest authentication KnDigestAuthenticator KnDigestInfo authenticate KnDigestAuthenticator java kodiak digest authentication KnDigestAuthenticator authenticate KnDigestAuthenticator java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Jul org apache catalina realm JDBCRealm getPassword SEVERE Exception performing authentication java sql SQLException TimesTen TimesTen ODBC Driver Function sequence error timesten jdbc JdbcOdbc createSQLException JdbcOdbc java timesten jdbc JdbcOdbc standardError JdbcOdbc java timesten jdbc JdbcOdbc SQLFetch JdbcOdbc java timesten jdbc JdbcOdbcResultSet JdbcOdbcResultSet java org apache catalina realm JDBCRealm getPassword JDBCRealm java org apache catalina realm RealmBase getDigest RealmBase java org apache catalina realm RealmBase authenticate RealmBase java localhost log Cheers Mahaaboob
55354	JNDIRealm getPrincipal context username gssCredential corrupts realm context getPrincipal context username gssCredential method JNDIRealm designed delegated credentials applied directory server connection SPNEGO authentication manipulation number directory context environment parameters implemented environment parameters forcibly cleared getUser call values changed isUseDelegatedCredential returned container realm defined GSSAPI authentication SPNEGO authentication request succeed subsequent requests fail exception javax naming NamingException LDAP error code LdapErr DSID comment order perform operation successful bind completed connection data exception Context SECURITY AUTHENTICATION cleared getPrincipal attempted simple bind username password anonymous workaround ensure connectionName connectionPassword parameters realm definition GSSAPI shouldn defeats purpose GSSAPI place code preserve pre existing environment parameters context changing restore values clearing settings completely
55357	deserialize session Externalizable objects PersistentManager PersistentManager JDBCStore store sessions database webapplication object session instance org apache MethodExpressionImpl Externalizable readExternal method org apache util ReflectionUtil forName String Thread currentThread getContextClassLoader ClassLoader incorrect method StandardClassLoader find classes WEB INF lib directory webapp problem MethodExpressionImpl method JDBCStore set thread contextClassLoader WebappClassLoader stacktrace SEVERE Error processing request java lang IllegalStateException Erreur lors dÃ©sÃ©rialisation session FDB org apache catalina session PersistentManagerBase swapIn PersistentManagerBase java org apache catalina session PersistentManagerBase findSession PersistentManagerBase java org apache catalina connector Request isRequestedSessionIdValid Request java org apache catalina connector CoyoteAdapter parseSessionCookiesId CoyoteAdapter java org apache catalina connector CoyoteAdapter postParseRequest CoyoteAdapter java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang ClassNotFoundException javax faces event ActionEvent java net URLClassLoader URLClassLoader java java net URLClassLoader URLClassLoader java java security AccessController doPrivileged Method java net URLClassLoader findClass URLClassLoader java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClass ClassLoader java java lang forName Method java lang forName java org apache util ReflectionUtil forName ReflectionUtil java org apache util ReflectionUtil toTypeArray ReflectionUtil java org apache MethodExpressionImpl readExternal MethodExpressionImpl java java ObjectInputStream readExternalData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java sun facelets TagMethodExpression readExternal TagMethodExpression java java ObjectInputStream readExternalData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream defaultReadFields ObjectInputStream java java ObjectInputStream readSerialData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java util ArrayList readObject ArrayList java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeReadObject ObjectStreamClass java java ObjectInputStream readSerialData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readArray ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream defaultReadFields ObjectInputStream java java ObjectInputStream readSerialData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java util HashMap readObject HashMap java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeReadObject ObjectStreamClass java java ObjectInputStream readSerialData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java util HashMap readObject HashMap java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeReadObject ObjectStreamClass java java ObjectInputStream readSerialData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream defaultReadFields ObjectInputStream java java ObjectInputStream defaultReadObject ObjectInputStream java org ajax jsf application AjaxStateHolder readObject AjaxStateHolder java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeReadObject ObjectStreamClass java java ObjectInputStream readSerialData ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java org apache catalina session StandardSession readObject StandardSession java org apache catalina session StandardSession readObjectData StandardSession java org apache catalina session JDBCStore load JDBCStore java org apache catalina session PersistentManagerBase swapIn PersistentManagerBase java
55399	Request English Response Spanish Language Locale Server Windows Language Client Linux Language Request POST xxxxxx HTTP Host Accept Accept Language Content Length Content Type application form urlencoded Response HTTP PeticiÃ³n incorrecta Server Apache Coyote Content Type text html charset ISO Content Length Sat Aug GMT Connection close cut HTTP Response PeticiÃ³n incorrecta English response setLocale workarround Servlet works doPost HttpServletRequest request HttpServletResponse response ServletException IOException response setLocale Locale ENGLISH Locale response sendError HttpServletResponse BAD REQUEST BAD REQUEST HttpServletResponse setLocale don honors
55453	AJP send Body Status Status set Response AJP send Body Apache HTTP Connector check Method prepareResponse org apache coyote http AbstractHttp Processor Body corrupt Apache Bug https issues apache org bugzilla bug cgi
55454	NullPointerException caused invalid contentType trailing semicolon invalid contenttype jsp directive language java contentType text html note trailing Tomcat NullPointerException java lang NullPointerException org apache tomcat util http parser HttpParser parseMediaType HttpParser java org apache tomcat util http parser MediaTypeCache parse MediaTypeCache java org apache catalina connector Response setContentType Response java org apache catalina connector ResponseFacade setContentType ResponseFacade java javax servlet ServletResponseWrapper setContentType ServletResponseWrapper java removing extra entering charset jsp directive language java contentType text html charset UTF works expected desired behaviour Don crash NPE Tomcat versions handly
55469	Missing HTML closing tags Manager application Created attachment details Patch trunk Tomcat trunk WAR file deploy upload war file closing form tag missing closing tag opened form tag
55494	JNDIRealm exception timeout Connection reset tomcat configured Windows JNDI Realm application running hours Tomcat logs exceptions timeouts stacktrace WARNING Exception performing authentication javax naming CommunicationException Connection reset Root exception java net SocketException Connection reset remaining xxx sun jndi ldap LdapCtx doSearch Unknown Source sun jndi ldap LdapCtx searchAux Unknown Source sun jndi ldap LdapCtx search Unknown Source sun jndi toolkit ctx ComponentDirContext search Unknown Source sun jndi toolkit ctx PartialCompositeDirContext search Unknown Source sun jndi toolkit ctx PartialCompositeDirContext search Unknown Source javax naming directory InitialDirContext search Unknown Source org apache catalina realm JNDIRealm getUserBySearch JNDIRealm java org apache catalina realm JNDIRealm getUser JNDIRealm java org apache catalina realm JNDIRealm getUser JNDIRealm java org apache catalina realm JNDIRealm getPrincipal JNDIRealm java org apache catalina realm JNDIRealm getPrincipal JNDIRealm java org apache catalina realm RealmBase authenticate RealmBase java org apache catalina realm CombinedRealm authenticate CombinedRealm java org apache catalina realm LockOutRealm authenticate LockOutRealm java org apache catalina authenticator SpnegoAuthenticator authenticate SpnegoAuthenticator java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina authenticator SingleSignOn invoke SingleSignOn java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpAprProcessor process AjpAprProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net AprEndpoint SocketProcessor AprEndpoint java java util concurrent ThreadPoolExecutor runWorker Unknown Source java util concurrent ThreadPoolExecutor Worker Unknown Source java lang Thread Unknown Source Caused java net SocketException Connection reset java net SocketInputStream read Unknown Source java net SocketInputStream read Unknown Source java BufferedInputStream fill Unknown Source java BufferedInputStream read Unknown Source java BufferedInputStream read Unknown Source sun jndi ldap Connection Unknown Source LDAP Lookup search user LDAP server closed Connection http stackoverflow questions tomcat ldap authentication
55500	AsyncListener onTimeout called AJP AjpNioProtocol connector AsyncListener onTimeout called timeout occurs traffic routed AJP connector configured AjpNioProtocol protocol
55521	Race Condition HttpSession invalidate HttpServletRequest getSession Created attachment details code flow exhibits race condition session fixation protection discard user session create user login rely Spring Security SessionFixationProtectionStrategy core commands session invalidate session request getSession Yesterday message log command returned session invalidated servlet container change session session created adequately session fixation attacks catalina exec org springframework security web authentication session SessionFixationProtectionStrategy SessionFixationProtectionStrategy java investigated issue fact race condition threads requests client enter session fixation protection code parallel attached TXT file illustrates code flow leads race condition thread calls session invalidate call returns becuase session expiring session invalid call request getSession won create session thread session documentation http tomcat apache org tomcat doc servletapi indication session invalid session invalidate returns session detect expiring session error message appears production log files weeks infrequent event implement session fixation race condition Christoph
55524	Deadlock produced Websocket write operation org apache catalina websocket WsOutbound Created attachment details thread dump deadlock Tomcat application Websockets websockets handled Atmosphere framework https github Atmosphere atmosphere deadlock occurs write operations websocket attached thread dump deadlock issue duscussed https github Atmosphere atmosphere issues deadlocked threads Java level deadlock Atmosphere Shared AsyncOp waiting lock monitor efebc object org apache catalina websocket WsOutbound held Atmosphere Scheduler Atmosphere Scheduler waiting lock monitor efe object org atmosphere cpr AtmosphereResourceImpl held Atmosphere Shared AsyncOp Java stack threads listed Atmosphere Shared AsyncOp org apache catalina websocket WsOutbound writeTextMessage WsOutbound java waiting lock org apache catalina websocket WsOutbound org atmosphere container version TomcatWebSocket write TomcatWebSocket java org atmosphere websocket WebSocket write WebSocket java org atmosphere websocket WebSocket write WebSocket java org atmosphere websocket WebSocket write WebSocket java org atmosphere cpr AtmosphereResponse write AtmosphereResponse java org atmosphere handler AbstractReflectorAtmosphereHandler onStateChange AbstractReflectorAtmosphereHandler java org atmosphere cpr DefaultBroadcaster invokeOnStateChange DefaultBroadcaster java org atmosphere cpr DefaultBroadcaster prepareInvokeOnStateChange DefaultBroadcaster java org atmosphere cpr DefaultBroadcaster executeAsyncWrite DefaultBroadcaster java org atmosphere cpr DefaultBroadcaster DefaultBroadcaster java locked org atmosphere cpr AtmosphereResourceImpl java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Atmosphere Scheduler org atmosphere cpr AsynchronousProcessor completeLifecycle AsynchronousProcessor java waiting lock org atmosphere cpr AtmosphereResourceImpl org atmosphere cpr AsynchronousProcessor timedout AsynchronousProcessor java org atmosphere cpr AsynchronousProcessor AsynchronousProcessorHook timedOut AsynchronousProcessor java org atmosphere websocket DefaultWebSocketProcessor close DefaultWebSocketProcessor java org atmosphere container TomcatWebSocketHandler onClose TomcatWebSocketHandler java org apache catalina websocket StreamInbound doOnClose StreamInbound java org apache catalina websocket WsOutbound doWriteBytes WsOutbound java org apache catalina websocket WsOutbound doWriteText WsOutbound java org apache catalina websocket WsOutbound writeTextMessage WsOutbound java locked org apache catalina websocket WsOutbound org atmosphere container version TomcatWebSocket write TomcatWebSocket java org atmosphere websocket WebSocket write WebSocket java org atmosphere websocket WebSocket write WebSocket java org atmosphere websocket WebSocket write WebSocket java org atmosphere cpr AtmosphereResponse write AtmosphereResponse java org atmosphere cpr AtmosphereResponse write AtmosphereResponse java org atmosphere interceptor HeartbeatInterceptor call HeartbeatInterceptor java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurrent ScheduledThreadPoolExecutor ScheduledFutureTask ScheduledThreadPoolExecutor java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
55534	Tomcat missing javax annotation classes Java JSR Common Annotations set common annotations application development included Java Java specific Java Tomcat included annotations Tomcat supported annotations included Tomcat javax annotation Generated javax annotation PostConstruct javax annotation PreDestroy javax annotation Resource javax annotation Resources javax annotation security DeclareRoles javax annotation security DenyAll javax annotation security PermitAll javax annotation security RolesAllowed javax annotation security RunAs fine Java Tomcat Java Common Annotations annotations Tomcat included javax annotation ManagedBean javax annotation sql DataSourceDefinition javax annotation sql DataSourceDefinitions Java Common Annotations annotation Tomcat included javax annotation Priority Tomcat included annotations annotations api jar frameworks Spring Framework JPA providers annotations Tomcat include correct application include official javax annotation api jar artifact application JAR redefines annotations supplied Tomcat lead hard diagnose errors application include servlet api artifact application Adding missing annotations remove requirement applications include problem JAR application Tomcat ship ManagedBean DataSourceDefinition DataSourceDefinitions Tomcat ship Priority
55570	SpnegoAuthenticator Resource file missing placeholders exceptions java org apache catalina authenticator SpnegoAuthenticator java problems logged exception exception logging exception hack java org apache catalina authenticator LocalStrings properties catalina jar add placeholder REPRODUCE Configure NEGO Kerberos Mess principal sun security jgss krb accept jaas config login FINE org apache catalina authenticator SpnegoAuthenticator authenticate Failed validate client supplied ticket java org apache catalina authenticator LocalStrings properties add lines spnegoAuthenticator ticketValidateFail Failed validate client supplied ticket spnegoAuthenticator serviceLoginFail Unable login service principal SpnegoAuthenticator java verify exceptions passed log VALIDATE Reproduce Failed validate client supplied ticket GSSException Failure unspecified GSS API level Mechanism level Invalid argument find key type decrypt REP HMAC exception helpful
55576	Order ServletRequest parameters preserved ServletRequest methods iterate request parameters Enumeration String getParameterNames Map String String getParameterMap underlying implementation Tomcat HashMap fails preserve order parameters request alternate implementation preserve request order LinkedHashMap capable preserving insertion order Servlet Specification speaks relative ordering query string data post body data HTML specification titled Processing form data control names values listed order document valid interpretation specification rationalize Tomcat implementation receive request ordered list parameters represent implementation guaranteed preserve order difficult rationalize
55582	Concurrent issue TagFileProcessor Created attachment details Unsynchronized wrapper RuntimeContext code concurrent issue JspRuntimeContext rctxt ctxt getRuntimeContext JspServletWrapper wrapper rctxt getWrapper wrapperUri rctxt wrapper creates duplicated JspServletWrapper scenario jsp tag jsp tag jsp jsp compiling lines threads JspRuntimeContext JspServletWrapper instances JspServletWrapper created
55629	StatusManagerServlet remove JMX notification listener StatusManagerServlet destroy call mBeanServer removeNotificationListener init method call mBeanServer addNotificationListener
55639	Add Drawboard Websocket Created attachment details Patch add Drawboard add Drawboard Tomcat Websocket examples draw mouse touch input colors open drawing opens current room image drawn people asynchronous sending messages doesn separate threads client send messages NIO APR connector Room drawing dedicated thread actions Room single threaded drawing BufferedImage multiple rooms Room dedicated thread Room implemented open receive binary websocket message current room image PNG image receive string messages drawing actions Note simple string messages JSON introduce dependency JSON lib synchronization mechanisms ensure image user network latency speed user draw time place server decide reflected client
55656	Server ClassLoader Server creation Created attachment details proposed patch configuring server loader catalina properties libraries valves realms dependencies classes set server xml CNFE thrown reason Digester StandardServer ClassLoader context ClassLoader
55681	JSR message handling pointer thrown DecodeException caught PojoMessageHandlerWholeBase onMessage testing Encode Decode Exceptions occur JSR communication annotation extend Endpoint implement ThingworxMessage forcing DecodeException occur expecting onError called actual DecodeException Stepping code Tomcat onMessage WsSession session result actual DecodeException lost message decoded Object payload payload decode message DecodeException WsSession session getLocal onError session Tracing stack Util getMessageHandlers initializing passing session decoderMatch getTextDecoders size MessageHandlerResult result MessageHandlerResult PojoMessageHandlerWholeText listener endpointConfig decoderMatch getTextDecoders Object MessageHandlerResultType TEXT add result provide details bob
55684	WebappClassLoader getThread access root ThreadGroup Tomcat permissions granted method WebappClassLoader getThread access root ThreadGroup order list threads manage SecurityException avoid access parent ThreadGroup thread start Tomcat
55772	Flushing AsyncContext response writer ClientAbortException BrokenPipe request leak Created attachment details Test reproduce request cookie leakage issue easily reproducible attached test Request leaked requests ADAPTER NOTES note coyote request catalina connector request holds cookies request cleaned error worthwhile clear notes field coyote request recycle prevent issues
55778	JNDIRealm Authentication GSSAPI LDAP SSL connection exception authenticate GSSAPI LDAP server SSL connection ldaps exception thrown javax naming ServiceUnavailableException myserver socket closed remaining org sun jndi ldap Connection readReply Connection java sun jndi ldap LdapClient getSearchReply LdapClient java sun jndi ldap LdapClient search LdapClient java sun jndi ldap LdapCtx doSearch LdapCtx java sun jndi ldap LdapCtx searchAux LdapCtx java sun jndi ldap LdapCtx search LdapCtx java Steps reproduce Configure valve org apache catalina authenticator SpnegoAuthenticator server xml storeDelegatedCredential Configure realm org apache catalina realm JNDIRealm server xml SSL connection url ldaps myserver Configure method SPNEGO security constraints security roles web xml Add required keystores jdk ldaps connection authenticate debugged JNDIRealm figured changing context addToEnvironment javax security sasl qop conf context addToEnvironment javax security sasl qop solve problem tested written JNDIRealm security issues
55798	Enabling Manager App process description inadequate
55801	Add ability provide custom SSLContext websocket client Created attachment details Proposed patch customisation setting trust store SSL TRUSTSTORE PROPERTY situations custom trust manager trivial accepting certificates proposition property pass SSLContext user properties ClientEndpointConfig Attached proposed patch add capability
55804	SPNEGOAUTHENTICATOR GSSCredential renewed RemainingLifeTime SpnegoAuthenticator check request getUserPrincipal returns prinicpal fresh authentication GSSCredential returned GenericPrincipal remainingLife time issues delegating credential credential valid add additional check reauthenticate credental expired GSSCredential session
55807	JSP marked outdated Jar Scanner Component configured â€œscanAllDirectoriesâ€ referenced Taglib WEB INF classes META INF simplified eclipse project configuration web base jar shared taglib web war web base jar developing web project locally exploded war layout compile output web base jar copied jar warâ€™s web war WEB INF classes directory ideâ€™s eclipse sysdeo plugin intellij shared taglib ends web war WEB INF classes META INF myTaglib tld taglib picked Jar Scanner configured â€œscanAllDirectoriesâ€ leads generated jsp code myTaglib jspx dependants java util HashMap java lang String java lang jspx dependants file somepath web war exploded WEB INF classes META INF myTaglib tld valueOf relevant code snippet org apache jasper compiler TagLibraryInfoImpl init TagLibraryInfoImpl java Taglib file uri file somepath web war exploded WEB INF classes META INF myTaglib tld ApplicationContext getResource method org apache jasper JspCompilationContext getLastModified JspCompilationContext java returns compiler checks current jsp outdated checks includes dependants myTaglib dependants list jsps checked check tests lastModified timestamp file returns org apache jasper compiler Compiler isOutDated Compiler java jsps recompiled request workarounds nice setup work box
55811	parse web fragment xml files empty absolute ordering ContextConfig webConfig Scans web fragments Map String WebXml fragments processJarsForWebFragments method returns list JAR files jarsToSkip options parses META INF web fragment xml files Filters sorts ordering orderedFragments WebXml orderWebFragments webXml fragments sContext ordered set fragments SCI declarations processServletContainerInitializers orderedFragments ordered set fragments scan annotated classes merge main web xml original list web fragments scan resources processResourceJARs resourceJars parsing fragments step skipped web application configured empty ordered fragments element web xml validation turned strict servlet compliance Note metadata complete skip parsing fragment names perform ordering skipping parsing validation bad idea JARs resources validate
55839	DataSourceRealm doesn handle prefix password digest Created attachment details Entire additional check prefix bug JNDIRealm DataSourceRealm remove prefixes form SHA comparing digests attached corporate firewall wouldn create patch suitable prefix compared insensitively acknowledge fuller providing helper method removing prefixes RealmBase
55842	response setBufferSize work properly problem setting buffer size ServletResponse call response setBufferSize send characters response chunked response chunks Transfer Encoding chunked response header understanding response fully buffered server Content Length header problem application larger buffer redirect error error occurs rendering response reproduce Tomcat Tomcat works fine expected easily reproducable JSP response setBufferSize response getWriter write response getWriter write
55851	Tomcat SPNEGO authenticator incompatible IBM JDK Accept Security Context wrapped Privileged Action order server side authentication Created attachment details GNU unified diff SpnegoAuthenticator modified format Problem report bug report change system property javax security useSubjectCredsOnly longer set naturally GSSAPI AcceptSecContext method wrapped PrivilegedExceptionAction IBM JDK fails failure IBM JDK fetch credential GSSAPI AcceptSecContext method JAAS Subject call performed Subject doAs call fails IBM JDK access JAAS subject fetch credential find attached File gnu unified diff format SpnegoAuthenticator modified version NOTE DIFF TOP BUG REPORTED file AcceptAction wraps GSSAPI AcceptSecContext PrivilegedExceptionAction solves issue allowing IBM JDK fetch credential JAAS Subject sincerely Arunav Sanyal
55855	Unexpected WsFilter configured webapp WebSocket Reproducible Tomcat current tested Tomcat Steps reproduce Create file webapps ROOT test jsp ROOT web application RuntimeException Configure JAVA point Java JRE Start Tomcat Browse http localhost test jsp stacktrace printed error log files org apache jasper JasperException exception occurred processing JSP test jsp RuntimeException Stacktrace org apache jasper servlet JspServletWrapper handleJspException JspServletWrapper java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache tomcat websocket server WsFilter doFilter WsFilter java WsFilter stacktrace unexpected ROOT web application WebSockets
55905	Error message unhelpful web xml references tld file doesn exist web application web xml add taglib element taglib location wrong forgot include tld packaging archive jsp config taglib taglib uri http org mytaglib taglib uri taglib location WEB INF wrong tld taglib location taglib jsp config Start web app Expected helpful message WARN org apache catalina startup TldConfig Failed process TLD path WEB INF wrong tld URI http org mytaglib java FileNotFoundException WEB INF wrong tld Actual WARN org apache catalina startup TldConfig Failed process TLD path http org mytaglib URI WEB INF wrong tld java net MalformedURLException Note current error message path labelled URI vice versa adding confusion
55943	Provide prevent System classloader webapp classloaders prevent Tomcat checking System classloader webapp classloaders embedded Tomact API produce isolated servlet containers difficulty adding Tomcat support SBT Simple Build Tool plugin https github JamesEarlDouglas xsbt web plugin issue SBT includes version Scala standard library system classpath Proguard conflicting web applications including version Scala standard library eventually work hack https github JamesEarlDouglas xsbt web plugin commit nice accomplish didn involve hack happy submit patch guidence API changed accomplish flag WebappLoader
55956	Tomcat Manager Application Status Tomcat Manager Application browse status report running request column Client address tomcat running Proxy NGINX Apache Mod Proxy Client address Proxy pass Forwarded parameter change Client address problem exist request getRemoteAddr returns proxy address Access Log Configuration logs proxy address access log file nice incorporate Forwarded wise HTTP FORWARDED Proxy Client situations
55958	Tomcat deploy dir zip archive directory ends war Webapp deployment fails dirname ends war automatically considered zip archive
55973	Failure parse MergedWebXml validation enabled Jasper mail dev Document invalid grammar MergedWebXml Jasper http markmail org message jbnbmezbdegoufm issue current code dev commit http svn apache org affect error generated internally list error checked effectively Steps reproduce Enable validation adding conf catalina properties org apache catalina STRICT SERVLET COMPLIANCE Set JAVA variable point Java JDK Start Tomcat http localhost Expected jsp ROOT web application Actual Error message localhost log file org apache catalina core StandardWrapperValve invoke SEVERE Servlet service servlet jsp context path threw exception org apache jasper JasperException XML parsing error file org apache tomcat util scan MergedWebXml col root org xml sax SAXParseException Document invalid grammar sun org apache xerces internal util ErrorHandlerWrapper createSAXParseException ErrorHandlerWrapper java sun org apache xerces internal util ErrorHandlerWrapper error ErrorHandlerWrapper java sun org apache xerces internal impl XMLErrorReporter reportError XMLErrorReporter java sun org apache xerces internal impl XMLErrorReporter reportError XMLErrorReporter java sun org apache xerces internal impl XMLNSDocumentScannerImpl scanStartElement XMLNSDocumentScannerImpl java sun org apache xerces internal impl XMLNSDocumentScannerImpl NSContentDriver scanRootElementHook XMLNSDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl FragmentContentDriver XMLDocumentFragmentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl PrologDriver XMLDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentScannerImpl XMLDocumentScannerImpl java sun org apache xerces internal impl XMLNSDocumentScannerImpl XMLNSDocumentScannerImpl java sun org apache xerces internal impl XMLDocumentFragmentScannerImpl scanDocument XMLDocumentFragmentScannerImpl java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XML Configuration parse XML Configuration java sun org apache xerces internal parsers XMLParser parse XMLParser java sun org apache xerces internal parsers DOMParser parse DOMParser java sun org apache xerces internal jaxp DocumentBuilderImpl parse DocumentBuilderImpl java org apache jasper xmlparser ParserUtils parseXMLDocument ParserUtils java org apache jasper compiler JspConfig processWebDotXml JspConfig java org apache jasper compiler JspConfig init JspConfig java org apache jasper compiler JspConfig findJspProperty JspConfig java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
56010	JspFactory getPageContext JspWriter BUFFER IllegalArgumentException servlet calls JspFactory getPageContext JspWriter BUFFER Tomcat Japser IllegalArgumentException PageContext pageContext JspFactory getDefaultFactory getPageContext req resp JspWriter BUFFER java lang IllegalArgumentException Buffer size org apache jasper runtime JspWriterImpl init JspWriterImpl java org apache jasper runtime PageContextImpl initialize PageContextImpl java org apache jasper runtime PageContextImpl initialize PageContextImpl java org apache jasper runtime JspFactoryImpl internalGetPageContext JspFactoryImpl java org apache jasper runtime JspFactoryImpl getPageContext JspFactoryImpl java dvt jsp jaspertest JspFactoryTestServlet doGet JspFactoryTestServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java Based description JspFactory getPageContext buffer size JspWriter BUFFER PageContext treat implementation org apache jasper Constants BUFFER SIZE buffer size buffer bytes JspWriter BUFFER buffer JspWriter BUFFER implementation http docs oracle javaee api javax servlet jsp JspFactory html getPageContext javax servlet Servlet javax servlet ServletRequest javax servlet ServletResponse java lang String Note Dorg apache jasper runtime JspFactoryImpl POOL
56012	wrong statement generation attribute directive test jsp dvt jsp jaspertest TestJspBase println TEST TestJspBase java dvt jsp jaspertest jeus servlet jsp HttpJspBase javax servlet ServletException javax servlet http HttpServletRequest javax servlet http HttpServletResponse java IOException TestJspBase HttpJspBase Override jspService HttpServletRequest request HttpServletResponse response ServletException IOException fully qualified attribute directive java generator jasper problem Generated Jasper component Apache Tomcat Version Apache Tomcat Generated UTC Note modified time file set modified time source file generation assist modification tracking org apache jsp javax servlet javax servlet http javax servlet jsp dvt jsp jaspertest TestJspBase jsp TestJspBase org apache jasper runtime JspSourceDependent problem TestJspBase java language spec http docs oracle javase specs jls html packages html opinion statement generation simple org apache jasper compiler PageInfo setExtends String Node PageDirective xtends FYI time statement fixed JDK http bugs sun bugdatabase view bug bug
56013	SpnegoAuthenticator working IBM JDK Kerberos incorrect credential lifetime Created attachment details Unified GNU diff format SpnegoAuthenticator java updated version SpnegoAuthenticator working IBM JDK option GSSCredential LIFETIME generating ticket creates exception major code minor code major string General failure unspecified GSSAPI level minor string Desired initLifetime GSSCredential INDEFINITE LIFETIME lifetime credential resolves issue attaching patch optionally chooses cred lifetime indefinite depending JDK IBM JDK Oracle Sun JDK patch respect SpnegoAuthenticator java tomcat Impact fixed Tomcat work box Spnego Authentication Kerberos IBM JDK IBM JDK change execution flow Oracle Sun JDK sincerely Arunav Sanyal
56021	SSL connector windows keystore configure SSL tomcat Windows keystore provider wraps MSCAPI access certificates keystore Windows cert manager didn work Tomcat startup fails load connector empty file keystore catalina directory working small code change org apache tomcat util net AbstractEndpoint adjustRelativePath method Windows keystore physical keystore file pass empty keyStoreFile connector check empty path adjusting path String adjustRelativePath String path String relativeTo String newPath path equalsIgnoreCase newPath File File newPath isAbsolute newPath relativeTo File separator newPath File newPath exists getLog warn configured file newPath exist newPath java version reproduce windows Install cert windows cert manager start certmgr msc Configure SSL connector cert alias issued column cert cermgr Connector port protocol org apache coyote http Http NioProtocol SSLEnabled maxThreads scheme https secure keyAlias ssl cert alias keystoreFile keystoreType Windows clientAuth sslProtocol TLS Start tomcat tested windows windows server
56039	JmxRemoteLifecycleListener work SSL Created attachment details Patch http svn apache org repos asf tomcat trunk JmxRemoteLifecycleListener SSL error startup Jan org apache catalina mbeans JmxRemoteLifecycleListener createServer SEVERE JMX connector server created failed start Platform server java IOException bind URL rmi localhost jmxrmi javax naming CommunicationException Root exception java rmi ConnectIOException JRMP server remote endpoint javax management remote rmi RMIConnectorServer newIOException Unknown Source javax management remote rmi RMIConnectorServer start Unknown Source org apache catalina mbeans JmxRemoteLifecycleListener createServer JmxRemoteLifecycleListener java org apache catalina mbeans JmxRemoteLifecycleListener lifecycleEvent JmxRemoteLifecycleListener java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina util LifecycleBase setStateInternal LifecycleBase java org apache catalina util LifecycleBase setState LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke Unknown Source java lang reflect Method invoke Unknown Source org apache catalina startup Bootstrap start Bootstrap java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke Unknown Source java lang reflect Method invoke Unknown Source org apache commons daemon support DaemonLoader start DaemonLoader java Caused javax naming CommunicationException Root exception java rmi ConnectIOException JRMP server remote endpoint sun jndi rmi registry RegistryContext bind Unknown Source sun jndi toolkit url GenericURLContext bind Unknown Source javax naming InitialContext bind Unknown Source javax management remote rmi RMIConnectorServer bind Unknown Source Caused java rmi ConnectIOException JRMP server remote endpoint sun rmi transport tcp TCPChannel createConnection Unknown Source sun rmi transport tcp TCPChannel newConnection Unknown Source sun rmi server UnicastRef newCall Unknown Source sun rmi registry RegistryImpl Stub bind Unknown Source relevant configuration server xml Listener className org apache catalina mbeans JmxRemoteLifecycleListener rmiRegistryPortPlatform rmiServerPortPlatform java properties Djavax net ssl keyStore KEYSTORE Djavax net ssl keyStorePassword KEY PASS Dcom sun management jmxremote ssl client Djavax net ssl trustStore TRUSTSTORE Djavax net ssl trustStorePassword TRUST PASS Dcom sun management jmxremote registry ssl Dcom sun management jmxremote Dcom sun management jmxremote authenticate Djava rmi server hostname HOST Dcom sun management jmxremote ssl sun management jmxremote ssl changed works expected SSL source code property missing environment env sun jndi rmi factory socket csf Adding JmxRemoteLifecycleListener SSL work properly Patch attatched
56042	java lang IllegalStateException Calling asyncComplete valid request Async DISPATCH issue appears response set startAsync response setStatus HttpServletResponse BAD REQUEST AsyncContext asyncContext request startAsync request response asyncContext dispatch actual scenario bit complex involves separate thread completes fast startAsync called stack trace java lang IllegalStateException Calling asyncComplete valid request Async DISPATCH org apache coyote AsyncStateMachine asyncComplete AsyncStateMachine java org apache coyote http Http Processor actionInternal Http Processor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Request action Request java org apache catalina core AsyncContextImpl complete AsyncContextImpl java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AccessLogValve invoke AccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Servlet spec illegal call startAsync response committed closed reason clear error raised startAsync allowed proceed issue fixed worth works Jetty spec illegal
56045	start embedded container Jasper don web xml JSPs shoudln Jasper classpath worked Caused java lang ExceptionInInitializerError org apache catalina startup TldConfig createTldDigester TldConfig java org apache catalina startup TldConfig init TldConfig java org apache catalina startup TldConfig lifecycleEvent TldConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina util LifecycleBase setStateInternal LifecycleBase java org apache catalina util LifecycleBase init LifecycleBase java org apache catalina util LifecycleBase start LifecycleBase java common frames Caused java lang NullPointerException org apache tomcat util descriptor DigesterFactory idFor DigesterFactory java org apache tomcat util descriptor DigesterFactory clinit DigesterFactory java common frames
56096	Setting rmiBindAddress JmxRemoteLifecycleListener prevents tomcat starting Adding Listener Server Listener className org apache catalina mbeans JmxRemoteLifecycleListener rmiRegistryPortPlatform rmiServerPortPlatform rmiBindAddress address setenv CATALINA OPTS CATALINA OPTS Dcom sun management jmxremote password file CATALINA conf jmxremote password CATALINA OPTS CATALINA OPTS Dcom sun management jmxremote access file CATALINA conf jmxremote access CATALINA OPTS CATALINA OPTS Dcom sun management jmxremote ssl Prevents tomcat starting RMI components talk producing error java IOException bind URL rmi localhost jmxrmi javax naming ServiceUnavailableException Root exception java rmi ConnectException Connection refused host localhost nested exception caused preparation URL createServer doesn account rmiBindAddress useLocalPorts useLocalPorts tomcat start force instances ports avoid
56213	KeyReference Objects CMS remark Times request prop Tomcat http svn apache org viewvc diff format view revision revision NIO connector WebSocket application millions KeyReference objects created traffic objects small sheer number overwhelm CMS collector application CMS remark phase seconds occupancy Rescan parallel secs weak processing secs CMS remark secs Times user sys real secs Total time application threads stopped seconds applying traffic time drops occupancy Rescan parallel secs weak processing secs CMS remark secs Times user sys real secs Total time application threads stopped seconds real time application pause killer tests executed RHEL java version Java Runtime Environment build Java HotSpot Bit Server build mixed mode JVM parms server NewSize MaxNewSize UseParNewGC MaxTenuringThreshold Xms Xmx UseConcMarkSweepGC CMSInitiatingOccupancyFraction UseCMSInitiatingOccupancyOnly PermSize MaxPermSize UseMembar HeapDumpOnOutOfMemoryError PrintClassHistogram
56217	Tomcat Manager Application Status Created attachment details Tomcat Managet Status Screenshot Tomcat Manager Status Request Left align Request column Center align links larger length Links method display Desktop Screen view links horizonatal scrollbar Left align links viewed screen atleast starting points links Screenshot attached clarity reference
56246	NPE MemoryRealm authenticating unknown user embedded tomcat MemoryRealm basic authentication request unknown username leads NullPointerException java lang NullPointerException org apache catalina realm MemoryRealm authenticate MemoryRealm java org apache catalina authenticator BasicAuthenticator authenticate BasicAuthenticator java MemoryRealm authenticate principal principals username user result
56248	Automatic deployment TCD deletes customized context xml file happy automatic deployment customized context xml files conf Catalina localhost appname xml preserved war file replaced server ant tasks TCD suspect Tomcat manager tested appears webapp deleted uploaded opposed replaced causing customized context xml file lost replaced version Reply Mark Thomas Hmm update command undeployment deploy replacement WAR file redeploy code Tomcat Changing behaviour reasonable open bugzilla issue
56265	Unexpected escaping values dynamic tag attributes expressions reported users list xmlEscape dynamic attributes http marc info quote custom jspx tags dynamic attributes worked Tomcat work properly Tomcat problems occur Spring form tags suspect libraries problem didn test sample data test dynamic attribute onclick set set form onclick window alert data test window alert data test window alert tomcat output form onclick window alert data test window alert data test window alert tomcat output form onclick window alert data test window alert amp amp data test window alert dynamic attribute data test attribute escaped escaped Tomcat escape works attribute onclick dynamic attribute data test quote
56273	Manager webapp command skipped web application serviced deploy undeploy upload methods ManagerServlet HtmlManagerServlet methods call isServiced web application serviced command running parallel methods skip work report success report skipped work
56293	WebappClassLoader cache META INF services leads performance issues Tomcat WebappClassLoader cache resources classpath properties files https issues apache org bugzilla bug cgi leads massive performance problem applications jars classpath ServiceLoader mechanism Java bind concrete XML readers writers respective interfaces time concrete instance loaded WebappClassLoader open jar read concrete implementation solution caching enabled resources reside META INF services folder
56321	ServletContextListener contextDestroyed completely executed updating war contextDestroyed accesses method loaded contextDestroyed code executed contexttest javax servlet ServletContextEvent javax servlet ServletContextListener ContextTest ServletContextListener contextDestroyed ServletContextEvent arg System println Context Destroyed MyTest testStatic System println Context Destroyed contextInitialized ServletContextEvent arg System println Context Initialized contexttest MyTest testStatic System println method call created war based code copy war tomcat web apps directory logs Context Initialized expected remove war logs Context Destroyed method call Context Destroyed expected copy war web apps wait initialized touch war simulate update war logs destroy event Context Destroyed method call Context Destroyed missing execute tomcat behaves expect difference removing war updating war
56339	session listener invalidate session sessionlistener sessionDestroyed method call session invalidate version newer versions loops code sessionDestroyed HttpSessionEvent arg arg arg getSession HttpSession session arg getSession String sessionId session getId sessionId UserPrincipal userPrincipal UserPrincipal session getAttribute ContextVar USERPRINCIPLE userPrincipal UserOpBLO userOpBLO UserOpBLO ResourcePool userOpBLO processLogoutActivity sessionId userPrincipal getUserId CurrentSessions SESSIONS remove sessionId session invalidate
56365	Simplify Mapper StandardJarScanner code performs jar names filtering StandardJarScanner view backporting Tomcat rid ecj xxx jar names lists files documenting filename patterns supported Essentially code calls Matcher matchPath toSkip jarName StandardJarScanFilter check jarName file overkill matchPath method designed work Ant style patterns matching file paths method handles file names hierarchy directory names directory pattern actual matching names performed Matcher match String pattern String str caseSensitive simple API proposal rid Matcher matchPath call Matcher match remove lot unneeded code documentation file patterns supported Matcher match javadoc pattern special characters characters character
56369	BaseModelMBean clean attributeBroadcaster removeNotificationListener BaseModelMBean addNotificationListener registers listener attributeBroadcaster BaseModelMBean removeNotificationListener fails clean result memory leak apparent embed WAR file jmxremote optional jar sun jmx remote opt internal ArrayNotificationBuffer BufferListener classloader garbage collected depleting perm gen redeploys
56382	Add logging deployment time Tomcat logs start deployment directory doesn log finish created small patch logs deployment finished deployment time output Apr org apache catalina startup HostConfig deployDirectory INFO Deploying web application directory AAA Tools apache tomcat webapps aaa admin Apr org apache catalina startup HostConfig deployDirectory INFO Deployment web application directory AAA Tools apache tomcat webapps aaa admin finished
56383	Securing ErrorReportValve PATCH Created attachment details Patch ErrorReportValve error valve returns report publishes tomcat version troubleshooting data breaks security standards companies published item remediated hardening tomcat OWASP goo xso OWASP solution replacing serverInfo properties file tools code Attached proposed enhancement options minimal adding html status CSS title Valve className org apache catalina valves ErrorReportValve showReport showServerInfo users current report change server xml
56406	VirtualDirContext setExtraResourcePaths incorrect separator semicolon comma description code comma separate paths documentation semicolon hard detect error copying code Users slaurent mywebapp src main webapp pictures Users slaurent sharedpictures code correct code Users slaurent mywebapp src main webapp pictures Users slaurent sharedpictures code
56409	file called StackOverflowError tldScanResourcePaths startup org apache catalina startup TldConfig tldScanResourcePaths TldConfig java org apache catalina startup TldConfig tldScanResourcePaths TldConfig java org apache catalina startup TldConfig tldScanResourcePaths TldConfig java org apache catalina startup TldConfig tldScanResourcePaths TldConfig java org apache catalina startup TldConfig tldScanResourcePaths TldConfig java repeats lot times Steps reproduce Create file named WEB INF folder Start Tomcat
56416	HTTP NIO connector SocketExceptions performance degradation JVM respected socket linger option http connector documentation JVM defaults respected socket linger options https tomcat apache org tomcat doc config http html linger set JVM Setting priority CRITICAL Solaris versions calls set linger performance problems SocketExceptions experiencing application JVM bug http bugs java view bug bug Reproducable steps server xml configure NIO http connector explicit linger setting Connector port protocol org apache coyote http Http NioProtocol connectionTimeout redirectPort Start Tomcat Result Linger set http nio connectors JVM Expected Linger parameter set sockets JVM defaults setProperties method SocketProperties java breakpoint hit http nio connector socket setSoLinger soLingerOn booleanValue soLingerTime intValue Problem Http NioProtocol constructor hard coded set Http NioProtocol setSoLinger Constants CONNECTION LINGER Java program change socket factory JVM Tomcat assume linger Tomcat documentation Tomcat setting linger underlying socket server xml suspect applies connectors AJP
56418	Manager incorrectly reports deployment failed Created attachment details Proposed patch tomcat trunk Manager deploy webapp remotely uploading war http deployment status incorrectly reported occur deploying WAR server filesystem proposed patch factors check context
56425	Unable find unambiguous method String experiencing issue code running tomcat returning JasperException Caused javax MethodNotFoundException Unable find unambiguous method java lang String replace java lang String java lang String JSP code causing problem happen previous versions Tomcat including div slyout container object replace data searchbox target target object type String values module submodule module submodule stack trace Caused org apache jasper JasperException javax MethodNotFoundException Unable find unambiguous method java lang String replace java lang String java lang String org apache jasper servlet JspServletWrapper handleJspException JspServletWrapper java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doInclude ApplicationDispatcher java org apache catalina core ApplicationDispatcher include ApplicationDispatcher java org apache jasper runtime JspRuntimeLibrary include JspRuntimeLibrary java org apache jsp layouts window jsp jspService window jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache tomcat websocket server WsFilter doFilter WsFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java org apache tiles servlet context ServletTilesRequestContext ServletTilesRequestContext java Caused javax MethodNotFoundException Unable find unambiguous method java lang String replace java lang String java lang String javax Util findWrapper Util java javax Util findMethod Util java javax BeanELResolver invoke BeanELResolver java org apache jasper JasperELResolver invoke JasperELResolver java org apache parser AstValue getValue AstValue java org apache ValueExpressionImpl getValue ValueExpressionImpl java org apache jasper runtime PageContextImpl proprietaryEvaluate PageContextImpl java org apache jsp WEB dINF views core search searchForm jsp jspService searchForm jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java Sebastian
56430	Extension mapping includes dot extension work Chapter SRV servlet specification defines string prefix extension mapping http download oracle otndocs jcp servlet mrel eval oth JSpec tells url pattern jsp forwards requests jsp mapped servlet filtes assume url pattern txt forwards requests txt configured servlet filters work Tomcat set tiny maven project illustrating problem https bitbucket org benplocek servlet extension mapping test project Servlet Filter mapped html servlet mapping servlet MyServlet servlet url pattern html url pattern servlet mapping sending request test html Tomcat responds deployed app Jetty behaves expected test html invokes filter serves servlet assume bug Tomcat Note applies Tomcat
56441	Misleading error message FilterBase invalid regex invalid regex parameter leads raising misleading exception property defined filters type org apache catalina filters RemoteAddrFilter Test config web xml filter filter TestFilter filter filter org apache catalina filters RemoteAddrFilter filter init param param param param param init param filter filter mapping filter TestFilter filter url pattern url pattern filter mapping Apr org apache catalina core StandardContext filterStart SEVERE Exception starting filter TestFilter javax servlet ServletException property defined filters type org apache catalina filters RemoteAddrFilter org apache catalina filters FilterBase init FilterBase java org apache catalina core ApplicationFilterConfig initFilter ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig getFilter ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig setFilterDef ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig init ApplicationFilterConfig java org apache catalina core StandardContext filterStart StandardContext java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase StartChild call ContainerBase java org apache catalina core ContainerBase StartChild call ContainerBase java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
56451	JNDI lookups java comp Resources access Context aliases resources JNDI lookup access resources resource accessible request getServletContext getResourceAsStream path myResource accessed JNDI type equally lookup java comp Resources path myResource JNDI lookups ignores aliased resources Context aliases someAlias path resources accessible request getServletContext getResourceAsStream someAlias myOtherResource lookup lookup java comp Resources someAlias myOtherResource fails throwing org apache naming resources ImmutableNameNotFoundException Listing java comp Resources context someAlias bound Expected behavior Tomcat exposes resources java comp Resources JNDI context Aliases apply alternate access
56461	option context startup fail load startup servlet fails Created attachment details Patch tomcat servlet load startup fails startup context startup considered webapps spring based DispatcherServlet sense servlet failed startup webapp unuseable tomcat mark context failed behavior JEE specs propose optional flag Context Host containers attached patch flag named failDeploymentIfServletLoadedOnStartupFails Context overrides Host level proposed patch tomcat passes checkstyle unit test updates documentation patch backported tomcat
56463	disable ServerInfo directory listings DefaultServlet Discussion dev http tomcat markmail org thread yaptw rlw zcv quote Tomcat bug Securing ErrorReportValve https issues apache org bugzilla bug cgi Tomcat version number reported DefaultServlet servlet version ServerInfo listings enabled disabling version reporting hacking ServerInfo quote customize listings define XSLT style sheet introduce configuration option DefaultServlet Places patch DefaultServlet java webapps docs servlet xml webapps docs security howto xml
56501	problems urlencoding webapp webapp filter generates html file app called root directory html path edge filter tomcat trys open actual html exist webapp underscore app opened encoding underscore leading issue migrating apps tomcat tomcat manager app links webapps test Fapp tomcat test Fapp leading tomcat clicking link webapp opened expected tomcat place real html tomcat real html accessed haven checked manager links app WepApp test app http tomcat test app Filter http tomcat test app Filter http tomcat test Fapp Filter http tomcat test Fapp html http tomcat test app html Filter http tomcat test Fapp html Filter testapp http tomcat testapp Filter http tomcat testapp Filter http tomcat testapp html Filter
56518	NIO async servlet limit latch leak Created attachment details sample webapp reproduce bug encouter bug real product webapp tested linux oracle jdk jdk tomcat tomcat CONFIG change HTTP Connector NIO server xml protocol org apache coyote http Http NioProtocol WEBAPP LOGIC simplified situation call req startAsync start async serlvet execute async logic user thread user thread interrupted timeout logic code user code call resp flushBuffer send response client PROBLEM situation descibed LimitLatch countDown called connections limit latch count max tomcat accept connection incoming client hangs REPRODUCER clean tomcat installation change server xml Connector config change protocol org apache coyote http Http NioProtocol Optional add maxConnections reproduce bug faster copy sample webapp attachment webapps ROOT war start tomcat plenty request async html echo curl localhost async html request limit latch leak requests reaches maxConnections set client curl hangs TECHNIC DETAILS debug thread interrupted user code call resp flushBuffer NioChannel Closed jdk NIO code ClosedByInterruptException thrown channel closed SelectionKey removed Poller thread stack trace Daemon Thread http nio ClientPoller Suspended owns Object owns HashSet owns EPollSelectorImpl owns Collections UnmodifiableSet owns Util SocketChannelImpl AbstractSelectableChannel removeKey SelectionKey EPollSelectorImpl AbstractSelector deregister AbstractSelectionKey EPollSelectorImpl implDereg SelectionKeyImpl EPollSelectorImpl SelectorImpl processDeregisterQueue EPollSelectorImpl doSelect EPollSelectorImpl SelectorImpl lockAndDoSelect EPollSelectorImpl SelectorImpl select NioEndpoint Poller Thread call ctx complete org apache tomcat util net NioEndpoint processSocket NioChannel SocketStatus code processSocket NioChannel socket SocketStatus status dispatch KeyAttachment attachment KeyAttachment socket getAttachment attachment SelectionKey removed attachment returns logic AbstractEndpoint countDownConnection called limit latch leak WORK work stable BIO connector avoid call resp flushBuffer user thread
56521	Reuse output buffer AbstractServletOutputStream Created attachment details diff file
56523	SPNEGO failures leading stack trace prints PrivilegedActionExceptions Created attachment details GNU Unified diff format proposed event privilegedactionexception SpnegoAuthenticator error logged stack trace error appears catalina leads spurious logs debugging enabled event GSSException logged debugging enabled imperative note privilegedactions AcceptAction action capacity GSSException suggesting logs privileged action exception debugging enabled tomcat attachment unified diff SpnegoAuthenticator change doubts sample catalina highlighting problem
56529	NoSuchElementException attribute empty string custom tag Created attachment details patch Validator java team verifying https issues apache org bugzilla bug cgi issue respect custom tag libraries tld attribute empty string indicator attribute dmf requiredfieldvalidator Login CONTROL USERNAME VALIDATOR controltovalidate Login CONTROL USERNAME nlsid Login MSG USERNAME REQUIRED indicator compiling jsp exception message Unable compile JSP description server encountered internal error prevented fulfilling request exception org apache jasper JasperException Unable compile JSP org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java root java util NoSuchElementException java util ArrayList Itr ArrayList java org apache jasper compiler Validator ValidateVisitor checkXmlAttributes Validator java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Validator validateExDirectives Validator java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java note full stack trace root Apache Tomcat VERSION logs source Validator java observed empty string ELNode iterator isn check element node call ELNode Text iterator getText exception test element node worked fine Attached patch reference Hariprasad
56536	HttpSessionBindingListener valueUnbound wrong classloader SingleSignOn valve Created attachment details Reproduction war including sources encountering issue call valueUnbound listener application rely SingleSignOn valve org apache catalina authenticator SingleSignOn invalidate user sessions web applications user chooses logout session invalidate webapp valueUnboud called WebappClassLoader application original Session invalidate called SingleSignOn scenario webappclassloader reproduction steps wars HttpSessionListener methods called correct classloader org apache catalina session StandardSession expire expire method holds functionality set classloader webapp classloader restore calling patch moved classloader restore code valueUnbound calls webappclassloader valid number internal calls executed process add patch comments add single attachment Reproduction created small demo project code war Preparation Tomcat runtime login user role test editing tomcat conf tomcat users xml SingleSignOn valve enabled server xml Place SingleSignOut war tomcat webapps copy tomcat webapps SingleSignOut war tomcat webapps SingleSignOut war web applications expect user role test answer request logout Running repro http localhost SingleSignOut login test test http localhost SingleSignOut login needed http localhost SingleSignOut logout log stdout stdout snippet Calling session invalidate SingleSignOut classloader WebappClassLoader context SingleSignOut delegate repositories WEB INF classes Parent Classloader org apache catalina loader StandardClassLoader SingleSignOut UNBOUND classloader WebappClassLoader context SingleSignOut delegate repositories WEB INF classes Parent Classloader org apache catalina loader StandardClassLoader SingleSignOut UNBOUND classloader WebappClassLoader context SingleSignOut delegate repositories WEB INF classes Parent Classloader org apache catalina loader StandardClassLoader stdout snippet Observe unboud SingleSignOut called classloader SingleSignOut
56545	Examples app security exceptions Created attachment details localhost log Testing examples web application release candidate running Security Manager enabled NIO connector JDK bit Win issues Steps reproduce Edit conf tomcat users xml uncomment sample roles Start bin catalina bat start security Access http localhost examples jsp security jsp Expected Login Actual Error Access denied java lang RuntimePermission accessClassInPackage org apache tomcat util http parser stack trace java security AccessControlException access denied java lang RuntimePermission accessClassInPackage org apache tomcat util http parser java security AccessControlContext checkPermission AccessControlContext java java security AccessController checkPermission AccessController java java lang SecurityManager checkPermission SecurityManager java java lang SecurityManager checkPackageAccess SecurityManager java sun misc Launcher AppClassLoader loadClass Launcher java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClass ClassLoader java org apache tomcat util http parser HttpParser skipConstant HttpParser java org apache tomcat util http parser HttpParser parseMediaType HttpParser java org apache tomcat util http parser MediaTypeCache parse MediaTypeCache java org apache catalina connector Response setContentType Response java org apache jsp jsp security login jsp jspService login jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java attached localhost log full stack trace
56577	websocket Inappropriate executor WsServerContainer executor service process SendHandler sendAsync calls initialized WsServerContainer unbounded queue corePoolSize threads created maximumPoolSize doesn corePoolSize changed context parameter hard find optimized create issue SendHandler close session sending message stack trace WebSocketServer spring websocket test daemon prio tid nid waiting condition java lang Thread TIMED WAITING parking sun misc Unsafe park Method parking wait java util concurrent CountDownLatch Sync java util concurrent locks LockSupport parkNanos LockSupport java java util concurrent locks AbstractQueuedSynchronizer doAcquireSharedNanos AbstractQueuedSynchronizer java java util concurrent locks AbstractQueuedSynchronizer tryAcquireSharedNanos AbstractQueuedSynchronizer java java util concurrent CountDownLatch await CountDownLatch java org apache tomcat websocket FutureToSendHandler FutureToSendHandler java org apache tomcat websocket WsRemoteEndpointImplBase startMessageBlock WsRemoteEndpointImplBase java org apache tomcat websocket WsSession sendCloseMessage WsSession java org apache tomcat websocket WsSession doClose WsSession java locked java lang Object org apache tomcat websocket WsSession close WsSession java org apache tomcat websocket WsSession close WsSession java tango test spring test service DefaultSessionManager CloseSessionHandler onResult DefaultSessionManager java org apache tomcat websocket WsRemoteEndpointImplBase StateUpdateSendHandler onResult WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase endMessage WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase EndMessageHandler onResult WsRemoteEndpointImplBase java org apache tomcat websocket server WsRemoteEndpointImplServer OnResultRunnable WsRemoteEndpointImplServer java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java threads threads clear SendHandler Remote send methods TimeoutException clients receive messages http docs oracle javase docs api java util concurrent ThreadPoolExecutor html
56578	session invalidate work cluster enabled webapps session invalidate work Tomcat clustered Steps reproduce Clustered Tomcat Host server xml Cluster className org apache catalina tcp SimpleTcpCluster Drop session jsp invalidate jsp attachments directory Open session jsp browser Note creation time Refresh note creation time stays Click Invalidate note creation time updated Tomcat steps succeed Tomcat step fails
56611	call method isAnnotationPresent call method getAnnotation Created attachment details org apache catalina core DefaultInstanceManager call method getAnnotation EJB isAnnotationPresent implmented calling getAnnotation java lang reflect AccessibleObject isAnnotationPresent Annotation annotationClass getAnnotation annotationClass
56657	Parallel deployment sessionid belongs latest version webapp latest version Reviewing loop finds correct web application version sessionid matters rare scenario versions web application deployed parallel sessionid valid latest version older Expected result map request latest version webapp Actual result latest version skipped request mapped older version http svn apache org viewvc tomcat tags TOMCAT java org apache catalina connector CoyoteAdapter java view markup
56665	XML schema validation exception effective web xml generated servlet mapping empty url pattern observing current Tomcat built revision conditions met Server running strict compliance mode servlet mapped context root URL pattern empty string Servlet mrel spec chapter Specification Mappings Tomcat compile JSP fails validate effective merged web xml schema WORKAROUND work issue disabled XML validation specific context Context xmlValidation STEPS REPRODUCE Add mapping webapps examples WEB INF web xml servlet mapping servlet RequestInfoExample servlet url pattern servlet mapping Configure Tomcat strict compliance mode adding conf catalina properties org apache catalina STRICT SERVLET COMPLIANCE Purge work directory remove compiled JSPs Start Tomcat Access http localhost examples Request empty URL mapping working correctly Access JSP http localhost examples jsp jsp basic arithmetic jsp Expected arithmetics demo Actual Error HTTP Status org apache jasper JasperException XML parsing error file org apache tomcat util scan MergedWebXml col Stack Trace org apache jasper JasperException org apache jasper JasperException XML parsing error file org apache tomcat util scan MergedWebXml col org apache jasper compiler JspConfig processWebDotXml JspConfig java org apache jasper compiler JspConfig init JspConfig java org apache jasper compiler JspConfig findJspProperty JspConfig java org apache jasper compiler Compiler generateJava Compiler java
56677	ApplicationHttpRequest override javax servlet ServletRequestWrapper getServletContext org apache catalina core ApplicationHttpRequest override Servlet APIs javax servlet ServletRequestWrapper getServletContext ApplicationHttpRequest getServletContext mapped ServletContext crossContext situation
56710	IllegalStateException resources accessed webapp reload encountered testing release candidate investigating bug regression Steps reproduce Comment bug skip step https issues apache org bugzilla bug cgi reload examples webapp html reloading completed Expected request wait web application reload complete display error bug investigating loop CoyoteAdapter waits context reloaded Actual blank rendered IllegalStateException logged snippet catalina log Jul INFO ContainerBackgroundProcessor StandardEngine Catalina org apache catalina startup HostConfig reload Reloading context examples Jul INFO ContainerBackgroundProcessor StandardEngine Catalina org apache catalina core StandardContext reload Reloading Context examples started Jul SEVERE http nio exec org apache coyote http AbstractHttp Processor process Error processing request java lang IllegalStateException resources accessed started org apache catalina webresources StandardRoot validate StandardRoot java org apache catalina webresources StandardRoot getResource StandardRoot java org apache catalina webresources StandardRoot getResource StandardRoot java org apache catalina mapper Mapper internalMapWrapper Mapper java org apache catalina mapper Mapper internalMap Mapper java org apache catalina mapper Mapper map Mapper java org apache catalina connector CoyoteAdapter postParseRequest CoyoteAdapter java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java Jul INFO ContainerBackgroundProcessor StandardEngine Catalina org apache catalina core StandardContext reload Reloading Context examples completed snippet localhost log Jul examples html HTTP Jul examples html HTTP Jul favicon ico HTTP Jul examples html HTTP Jul examples html HTTP Jul favicon ico HTTP Jul examples html HTTP Jul examples html HTTP Jul examples html HTTP bug investigating bug running jpda debugging enabled webapp reload bit slower usual
56712	errors time calculations PersistenceManager bug implemented automated test PersistenceManager Reviewing manager code investigate test failures issues Checks evaluate idle time session PersistenceManagerBase typically timeIdle session getIdleTime timeIdle maxIdleBackup errors lines Error integer division performs truncation Comparing code documentation condition timeIdle maxIdleBackup matter real configuration times expected tens seconds matters test fast Error StandardSession getIdleTime performs validity check ISE unexpected replaced call session getIdleTimeInternal
56717	MapperListener remove listeners matters repeated starts embedded Tomcat Debugged current trunk Steps reproduce Add lines build properties test entry org apache catalina core TestStandardContext test entry methods testFlagFailCtxIfServletStartFails log info RuntimeException Mapper addHost Mapper removeHost test test performs tomcat tomcat start Actual behaviour tomcat start Mapper addHost called host error message SEVERE main org apache catalina mapper Mapper addHost Duplicate Host localhost Host localhost Host Expected behaviour message debug stacktraces printed addHost start addHost calls stack traces java lang RuntimeException org apache catalina mapper Mapper addHost Mapper java org apache catalina mapper MapperListener registerHost MapperListener java org apache catalina mapper MapperListener lifecycleEvent MapperListener java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina util LifecycleBase setStateInternal LifecycleBase java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase StartChild call ContainerBase java org apache catalina core ContainerBase StartChild call ContainerBase java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java java lang RuntimeException org apache catalina mapper Mapper addHost Mapper java org apache catalina mapper MapperListener registerHost MapperListener java org apache catalina mapper MapperListener startInternal MapperListener java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Tomcat start Tomcat java org apache catalina startup TomcatBaseTest TomcatWithFastSessionIDs start TomcatBaseTest java org apache catalina core TestStandardContext testFlagFailCtxIfServletStartFails TestStandardContext java JUnit code stack trace MapperListener startInternal expected stack trace observed tomcat start stack trace MapperListener lifecycleEvent unexpected caused lifecycle listener registered Host MapperListener startInternal method addListeners engine listeners stored list listener time expect adds thirds tomcat start call test Mapper addHost called times problem calling addHost host Mapper addContextVersion call silently change Mapper addHost treat repeated calls error
56739	Error response body generated occasionally approach asynchronous servlet reporting error condition error response body generated occasionally HttpServletResponse asyncContext getResponse sendError statusCode message asyncContext complete Based discussion tomcat users valid approach http mail archives apache org mod mbox tomcat users mbox apache org subject Servlet asynchronous processing API reproduce issue marko ubuntu http localhost servlet async error fail grep Content Length sort uniq Content Length Content Length code test https github marko asplund servlet async Verified Ubuntu OpenJDK Mac Oracle Java occurs Tomcat
56746	Webssocket secure client thread access webapp resources SecureIOThreadFactory method org apache tomcat websocket AsyncChannelWrapperSecure sets context loader secure websocket client threads standard loader preventing accessing webapp resources Removing restores access threads classloader calling webapp thread
56771	Avoid throwing NameNotFoundException BaseDirContext lookup Created attachment details issue NameNotFoundException thrown resource DirContext method BaseDirContext alternate backup DirContexts lookup resource resource NameNotFoundException thrown alternate DirContext resource isn DirContext ï»¿ Object lookup String NamingException check aliases aliases isEmpty AliasResult result findAlias result dirContext result dirContext lookup result aliasName standard lookup Object obj doLookup obj obj Check alternate locations DirContext altDirContext altDirContexts obj altDirContext lookup META INF resources obj obj NamingException ignore NameNotFoundException getString resources notFound takes CPU time optimized checking result optimized code Object lookup String NamingException check aliases Object obj doLookupWithoutNFE obj obj NameNotFoundException getString resources notFound Object doLookupWithoutNFE String NamingException aliases isEmpty AliasResult result findAlias result dirContext result dirContext lookup result aliasName standard lookup Object obj doLookup obj obj Check alternate locations String resourceName META INF resources DirContext altDirContext altDirContexts altDirContext BaseDirContext obj BaseDirContext altDirContext doLookupWithoutNFE resourceName obj altDirContext lookup resourceName NamingException ignore obj obj
56777	configuration resources loaded places straight filesystem embedded Tomcat Spring Boot https github spring projects spring boot Spring Boot user create executable jar file Tomcat application idea application desired contained jar external dependencies breaks key store trust store required SSL configuration Tomcat requires readable filesystem jar file propose enhancement Tomcat introduces resource abstraction allowing configuration resources loaded archive broader Jetty resource loaded URL
56780	IBM Java server startup error java lang IllegalArgumentException TLS protocol enabl strict mode problem change Tomcat offending code org apache tomcat util net jsse JSSESocketFactory context SSLContext getInstance TLS SSLServerSocket socket SSLServerSocket ssf createServerSocket NoSuchAlgorithmException Assume RFC support KeyManagementException Assume RFC support IOException Unable determine ciphers protocols IBM JVM configured strict mode ssf createServerSocket IllegalArgumentException bad happen initializer IBM JRE Email direct JRE test
56797	API find overriden method Util findWrapper returns MethodNotFoundException util method ambiguous conditions method overriden type overriden method inherited original method type method called parameter type inherited declared type assignable leads situation multiple matches conditions error occur TesterBeanA java CharSequence getCharSequence CharSequence TesterBeanAA java Override String getCharSequence CharSequence toString Test TestMethodExpressionImpl java Test testInvokeOverridenParamAndReturnType MethodExpression factory createMethodExpression context beanAA getCharSequence test TesterBeanB assertEquals test invoke context Note error occurs getCharSequence TesterBeanA adding check isAbstract reading method modifiers drop method Note worked Tomcat
56801	Avoid duplicated String CharArray conversion loop Matcher matchName Created attachment details Patch Matcher loop matchName matchName Set String patternSet String fileName String pattern patternSet match pattern fileName Optimized matchName Set String patternSet String fileName charArray fileName toCharArray String pattern patternSet match pattern charArray
56848	Tomcat accept language parsing doesn properly handle IETF BCP language tags Microsoft started IETF BCP language tags Windows languages Chinese Traditional Chinese Simplified language tags hant hans tomcat accept language parsing method Request parseLocalHeaders doesn handle tags properly bcp spec http tools ietf org html bcp description Java http docs oracle javase tutorial locale create html Java involved Locale forLanguageTag method http docs oracle javase docs api java util Locale html forLanguageTag java lang String works assuming fully compliant language tag Tomcat reflection parsing entry grammar bcp tags doesn easy parsing subsections tag valid match ISO codes http tools ietf org html bcp
56857	Thread safety issue ApplicationContextFacade invokeMethod Multiple subsequent Thread dumps exhibiting lots threads hanging HashMap RUNNABLE status consuming high CPU typical indicator thread safety issue threadsafe Maps Thread stacks ApplicationContextFacade ServletContext objects singletons webapp passed multiple threads member objectCache HashMap thread safe accessed modified synchronization invokeMethod Suggested remedy change ConcurrentHashMap thread safe performs synchronizing access connector userId sessionId daemon prio tid nid runnable java lang Thread RUNNABLE java util HashMap HashMap java org apache catalina core ApplicationContextFacade invokeMethod ApplicationContextFacade java org apache catalina core ApplicationContextFacade doPrivileged ApplicationContextFacade java org apache catalina core ApplicationContextFacade getContextPath ApplicationContextFacade java blackboard portal servlet ModuleCustomizationServlet service ModuleCustomizationServlet java javax servlet http HttpServlet service HttpServlet java
56910	maxConnections AprEndpoint init error apr connector set maxConnections server xml start tomcat exceptions occur java lang NegativeArraySizeException org apache tomcat util net AprEndpoint SocketTimeouts init AprEndpoint java org apache tomcat util net AprEndpoint Poller init AprEndpoint java org apache tomcat util net AprEndpoint startInternal AprEndpoint java org apache tomcat util net AbstractEndpoint start AbstractEndpoint java org apache coyote AbstractProtocol start AbstractProtocol java org apache catalina connector Connector startInternal Connector java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardService startInternal StandardService java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core StandardServer startInternal StandardServer java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java AprEndpoint init methodï¼š init pool Pool create serverSockPool Single poller defaultPollerSize getMaxConnections WIN WIN defaultPollerSize maximum poller reasonable performance Adjust poller size won reach limit limitation Server fixed Vista Server onwards actualPollerSize actualPollerSize defaultPollerSize timeouts SocketTimeouts defaultPollerSize check getMaxConnections
57011	Exception writing HTTP response AsyncListener onTimeout method servlet HTTP NIO Created attachment details Servlet exception time onTimeout method called INFO Encountered recycled request recycled forcedly org apache catalina connector CoyoteAdapter RecycleRequiredException org apache catalina connector CoyoteAdapter checkRecycled CoyoteAdapter java org apache coyote http AbstractHttp Processor recycle AbstractHttp Processor java org apache coyote http Http NioProtocol Http ConnectionHandler release Http NioProtocol java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java
57016	PersistentValve deletes sessions creates PersistentValve broken stands delete sessions creates lines https github apache tomcat blob TOMCAT java org apache catalina valves PersistentValve java store save session PersistentManager manager removeSuper session setup PersistentManager JDBCStore set breakpoint lines save call inserts row database properly step removeSuper call deletes row database removeSuper PersistentValve method comment Remove Session active Sessions Manager Store implementation remove PersistentManagerBase comment Remove Session active Sessions Manager Store API PersistentValve expecting PersistentManager removeSuper method comment exists sake PersistentValve btw PersistentManagerBase expected
57047	Occasional failure TestWsWebSocketContainer testSmallTextBufferClientTextMessage test rare minor issue encountered testing release candidate Platform Windows bit JDK encountered running testsuite runs loop specific test connectors test entry org apache tomcat websocket TestWsWebSocketContainer test entry methods testSmallTextBufferClientTextMessage issue reproduced times NIO time APR time BIO connectors runs Stacktraces websocket client stacktrace depend server side running NIO Testcase testSmallTextBufferClientTextMessage Caused ERROR java util concurrent ExecutionException java IOException Unable write complete message WebSocket connection closed java IOException java util concurrent ExecutionException java IOException Unable write complete message WebSocket connection closed org apache tomcat websocket WsRemoteEndpointImplBase sendPartialString WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase sendString WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointBasic sendText WsRemoteEndpointBasic java org apache tomcat websocket TestWsWebSocketContainer doBufferTest TestWsWebSocketContainer java org apache tomcat websocket TestWsWebSocketContainer testSmallTextBufferClientTextMessage TestWsWebSocketContainer java Caused java util concurrent ExecutionException java IOException Unable write complete message WebSocket connection closed org apache tomcat websocket FutureToSendHandler FutureToSendHandler java org apache tomcat websocket WsRemoteEndpointImplBase sendPartialString WsRemoteEndpointImplBase java Caused java IOException Unable write complete message WebSocket connection closed org apache tomcat websocket WsSession doClose WsSession java org apache tomcat websocket WsSession close WsSession java org apache tomcat websocket WsFrameClient close WsFrameClient java org apache tomcat websocket WsFrameClient access WsFrameClient java org apache tomcat websocket WsFrameClient WsFrameClientCompletionHandler completed WsFrameClient java org apache tomcat websocket WsFrameClient WsFrameClientCompletionHandler completed WsFrameClient java sun nio Invoker invokeUnchecked Invoker java sun nio Invoker Invoker java sun nio AsynchronousChannelGroupImpl AsynchronousChannelGroupImpl java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java stack traces bit confusing span threads main top WsRemoteEndpointImplBase sendPartialString assessment variant expected behaviour test testSmallTextBufferClientTextMessage essentially call doBufferTest argument pass expected fail
57054	ReadBufferOverflowException headers requests Cloud Foundry Java Client Libraries https github cloudfoundry java client WebSocket stream stream logs apps starting Cloud Foundry initial request HTTPS request HTTP protocols WebSockets headers response read API Tomcat WebSockets implementation issue HTTP Switching Protocols Upgrade websocket Connection Upgrade WebSocket Accept hkNdVhwFUAVd BNAbrwraD lyx takes read headers Tomcat WebSockets empty buffer causing ReadBufferOverflowException HTTP Switching Protocols WebSocket Accept XtszcLxcZ QUaIvrLf Fri Oct GMT Global Transaction Upgrade websocket read Connection Upgrade stack trace problem ENTRY org cloudfoundry ide eclipse server core MESSAGE Failed add application log listener eyTestWeb Error performing Cloud Foundry operation javax websocket DeploymentException HTTP request initiate WebSocket connection failed STACK org eclipse core runtime CoreException Error performing Cloud Foundry operation javax websocket DeploymentException HTTP request initiate WebSocket connection failed org cloudfoundry ide eclipse server core internal CloudErrorUtil toCoreException CloudErrorUtil java org cloudfoundry ide eclipse server core internal client BaseClientRequest runAndWait BaseClientRequest java org cloudfoundry ide eclipse server core internal client ClientRequest runAndWait ClientRequest java org cloudfoundry ide eclipse server core internal client LocalServerRequest runAndWait LocalServerRequest java org cloudfoundry ide eclipse server core internal client BaseClientRequest BaseClientRequest java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour addApplicationLogListener CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server internal console ApplicationLogConsoleStream initialiseStream ApplicationLogConsoleStream java org cloudfoundry ide eclipse server internal console CloudFoundryConsole getStream CloudFoundryConsole java org cloudfoundry ide eclipse server internal console CloudFoundryConsole startTailing CloudFoundryConsole java org cloudfoundry ide eclipse server internal console ConsoleManager startConsole ConsoleManager java org cloudfoundry ide eclipse server internal CloudFoundryUiCallback startApplicationConsole CloudFoundryUiCallback java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour RestartOperation performDeployment CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour StartOperation performDeployment CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour PushApplicationOperation performDeployment CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour ApplicationOperation performOperation CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client AbstractDeploymentOperation AbstractDeploymentOperation java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour publishModule CloudFoundryServerBehaviour java org eclipse wst server core model ServerBehaviourDelegate publishModule ServerBehaviourDelegate java org eclipse wst server core model ServerBehaviourDelegate publishModules ServerBehaviourDelegate java org eclipse wst server core model ServerBehaviourDelegate publish ServerBehaviourDelegate java org eclipse wst server core model ServerBehaviourDelegate publish ServerBehaviourDelegate java org eclipse wst server core internal Server publishImpl Server java org eclipse wst server core internal Server PublishJob Server java org eclipse core internal jobs Worker Worker java Caused org cloudfoundry client lib CloudOperationException javax websocket DeploymentException HTTP request initiate WebSocket connection failed org cloudfoundry client lib LoggregatorClient connectToLoggregator LoggregatorClient java org cloudfoundry client lib CloudControllerClientImpl streamLoggregatorLogs CloudControllerClientImpl java org cloudfoundry client lib CloudControllerClientImpl streamLogs CloudControllerClientImpl java org cloudfoundry client lib CloudFoundryClient streamLogs CloudFoundryClient java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour doRun CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour doRun CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client BaseClientRequest runAndWait BaseClientRequest java Caused javax websocket DeploymentException HTTP request initiate WebSocket connection failed org apache tomcat websocket WsWebSocketContainer connectToServer WsWebSocketContainer java org cloudfoundry client lib LoggregatorClient connectToLoggregator LoggregatorClient java Caused java util concurrent ExecutionException org apache tomcat websocket ReadBufferOverflowException org apache tomcat websocket AsyncChannelWrapperSecure WrapperFuture AsyncChannelWrapperSecure java org apache tomcat websocket WsWebSocketContainer processResponse WsWebSocketContainer java org apache tomcat websocket WsWebSocketContainer connectToServer WsWebSocketContainer java Caused org apache tomcat websocket ReadBufferOverflowException org apache tomcat websocket AsyncChannelWrapperSecure ReadTask AsyncChannelWrapperSecure java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java SUBENTRY org cloudfoundry ide eclipse server core MESSAGE Error performing Cloud Foundry operation javax websocket DeploymentException HTTP request initiate WebSocket connection failed STACK org cloudfoundry client lib CloudOperationException javax websocket DeploymentException HTTP request initiate WebSocket connection failed org cloudfoundry client lib LoggregatorClient connectToLoggregator LoggregatorClient java org cloudfoundry client lib CloudControllerClientImpl streamLoggregatorLogs CloudControllerClientImpl java org cloudfoundry client lib CloudControllerClientImpl streamLogs CloudControllerClientImpl java org cloudfoundry client lib CloudFoundryClient streamLogs CloudFoundryClient java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour doRun CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour doRun CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client BaseClientRequest runAndWait BaseClientRequest java org cloudfoundry ide eclipse server core internal client ClientRequest runAndWait ClientRequest java org cloudfoundry ide eclipse server core internal client LocalServerRequest runAndWait LocalServerRequest java org cloudfoundry ide eclipse server core internal client BaseClientRequest BaseClientRequest java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour addApplicationLogListener CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server internal console ApplicationLogConsoleStream initialiseStream ApplicationLogConsoleStream java org cloudfoundry ide eclipse server internal console CloudFoundryConsole getStream CloudFoundryConsole java org cloudfoundry ide eclipse server internal console CloudFoundryConsole startTailing CloudFoundryConsole java org cloudfoundry ide eclipse server internal console ConsoleManager startConsole ConsoleManager java org cloudfoundry ide eclipse server internal CloudFoundryUiCallback startApplicationConsole CloudFoundryUiCallback java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour RestartOperation performDeployment CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour StartOperation performDeployment CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour PushApplicationOperation performDeployment CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour ApplicationOperation performOperation CloudFoundryServerBehaviour java org cloudfoundry ide eclipse server core internal client AbstractDeploymentOperation AbstractDeploymentOperation java org cloudfoundry ide eclipse server core internal client CloudFoundryServerBehaviour publishModule CloudFoundryServerBehaviour java org eclipse wst server core model ServerBehaviourDelegate publishModule ServerBehaviourDelegate java org eclipse wst server core model ServerBehaviourDelegate publishModules ServerBehaviourDelegate java org eclipse wst server core model ServerBehaviourDelegate publish ServerBehaviourDelegate java org eclipse wst server core model ServerBehaviourDelegate publish ServerBehaviourDelegate java org eclipse wst server core internal Server publishImpl Server java org eclipse wst server core internal Server PublishJob Server java org eclipse core internal jobs Worker Worker java Caused javax websocket DeploymentException HTTP request initiate WebSocket connection failed org apache tomcat websocket WsWebSocketContainer connectToServer WsWebSocketContainer java org cloudfoundry client lib LoggregatorClient connectToLoggregator LoggregatorClient java Caused java util concurrent ExecutionException org apache tomcat websocket ReadBufferOverflowException org apache tomcat websocket AsyncChannelWrapperSecure WrapperFuture AsyncChannelWrapperSecure java org apache tomcat websocket WsWebSocketContainer processResponse WsWebSocketContainer java org apache tomcat websocket WsWebSocketContainer connectToServer WsWebSocketContainer java Caused org apache tomcat websocket ReadBufferOverflowException org apache tomcat websocket AsyncChannelWrapperSecure ReadTask AsyncChannelWrapperSecure java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java straightforward lines http svn apache org repos asf tomcat trunk java org apache tomcat websocket WsWebSocketContainer java add readHeaders response compact
57099	loose parsing attribute directive screws SMAP output customer code jsp files session buffer java java util java text java util java text DecimalFormat xyz debug Debug xyz failure xyz messaging xyz utils xyz xml messaging xyz environment generated screening engine generated xml utils contentType text html JSP spec statement declaration Java programming language comma separated list fully qualified Java programming language type denoting type string denoting types declared parsed compiled JSP parser folks stumbled list imports JSP parser sees single believes written single SMAP numbering ends causing sorts fun map original jsp code SMAP file appears statement append semicolon java code compiled weren commas
57136	Parser escaping dollar sign spec Alternatively escape characters escape treated eval expression literal expressions exprA exprB values strings exprA exprB escape Price output Price output Price escape Price output Price wouldn happened issue passing javascript code processor escaped dollar signs regex strings acceptable escapes indication expression
57144	Improve ClientAbortException getMessage provide message Tomcat reference backporting test Tomcat Tomcat difference output code log info Exception caught getMessage Tomcat Exception caught Tomcat Exception caught Software caused connection abort socket write error changed code toString Tomcat Exception caught ClientAbortException java net SocketException Software caused connection abort socket write error Tomcat Exception caught org apache catalina connector ClientAbortException java net SocketException Software caused connection abort socket write error difference Essentially Tomcat delegates processing original implementations java lang Throwable code Tomcat implementation getMessage toString differences Throwable Throwable constructor Java initializes message toString ClientAbortException Throwable message defaults Throwable toString fully qualified ClientAbortException toString prints ClientAbortException
57148	type conversion empty string PropertyEditor ELSupport coerceToType reviewing org apache lang ELSupport coerceToType expectations ELSupport coerceToType method type conversion rules Expression Language specification phrase specification Coerce Type String PropertyEditor exception error phrase specifications empty string PropertyEditor Expected behaviour Call PropertyEditor exception converted propertyEditor setAsText getValue RuntimeException Actual implementation skips calling PropertyEditor returns obj String equals obj PropertyEditor editor PropertyEditorManager findEditor type PropertyEditor setAsText String method documented IllegalArgumentException invalid values API expects ELException wrapped
57154	Failure TestWsWebSocketContainer directory TEMP test exists Steps reproduce temporary directory System getProperty java tmpdir create directory named test org apache tomcat websocket TestWsWebSocketContainer test Nio Nio test cases failing testWriteTimeoutServerEndpoint testWriteTimeoutServerContainer failure ERROR HTTP response server HTTP permit HTTP upgrade WebSocket javax websocket DeploymentException HTTP response server HTTP permit HTTP upgrade WebSocket test configures DefaultServlet access localhost getPort test suspect Mapper responds redirect upgrade request reaches web application issue observed Buildbot TEST org apache tomcat websocket TestWsWebSocketContainer NIO txt TEST org apache tomcat websocket TestWsWebSocketContainer NIO txt files http apache org projects tomcat tomcat logs
57180	CorsFilter support PATCH method CorsFilter Tomcat support PATCH method
57190	ServletContext getContext String context parallel deployments ServletContext getContext String parallel deployment context returned foo foo deployed foo test jsp calls ServletContext getContext foo parallel deployments returns ServletContext foo parallel deployments ServletContext returned encountered custom filter set requests files application central application CrossContext set context xml works wars version foo war foo war expect ServletContext getContext foo current active context URL require exact version context ServletContext getContext foo puts burden finding active version context calling application underlying servlet container provide current context ServletContext getContext String referenced
57208	NullPointerException JNDIRealm search finds org apache catalina realm JNDIRealm JNDIRealm getUserBySearch object returned NPE lines create user userPatternFormatArray curUserPattern user getUserByPattern context username credentials attrIds curUserPattern user getUserBySearch context username attrIds userPassword credentials password Insert required role searches User user getUserName user getDN credentials user getRoles user getUserRoleId changed userPatternFormatArray curUserPattern user getUserByPattern context username credentials attrIds curUserPattern containerLog debug user pattern user user getUserBySearch context username attrIds containerLog debug user search user userPassword credentials user password Insert required role searches User user getUserName user getDN credentials user getRoles user getUserRoleId
57209	JNDIRealm userSearch work active directory roles JNDIRealm connectionPassword connectionName role lookups role search user work intended search system logged user roles userBase Company userSearch objectCategory person sAMAccountName userSubTree works fine bind user searching fails Search fails user credentials bind binding anonymously disabled isRoleSearchAsUser turned expectation User getUser DirContext context String username String credentials curUserPattern add binding user credentials searching simple searches work bound user pattern search user entry userPatternFormatArray curUserPattern user getUserByPattern context username credentials attrIds curUserPattern isRoleSearchAsUser userCredentialsAdd context username credentials user getUserBySearch context username attrIds cleaner managed working point imagine property userSearchDNPattern pattern bind userCredentialsAdd userSearchDNPattern binding user role lookups work option change roleSearchAsUser operatins authenticated user assuming authorized
57252	Custom error error occurs asynchronously Created attachment details Small app reproduce problem error asynchronous processing WebServlet async asyncSupported AsyncServlet HttpServlet doGet HttpServletRequest request HttpServletResponse response ServletException IOException AsyncContext context request startAsync context start Runnable Override response sendError IOException context complete Tomcat renders error configured custom error behaviour exhibited releases worth noting Tomcat renders blank scenario expectation custom error FWIW Jetty attached war reproduce problem sync confirm custom error working async reproduce problem
57281	Tomcat fails call method filter configured Servlet API running SecurityManager report StackOverflow Spring Boot application fails Tomcat running SecurityManager enabled https stackoverflow questions springboot webapp java securitymanager exceptions granted allp error java lang IllegalAccessException org apache catalina security SecurityUtil access member org springframework boot context web ErrorPageFilter modifiers sun reflect Reflection ensureMemberAccess Reflection java java lang reflect AccessibleObject slowCheckMemberAccess AccessibleObject java java lang reflect AccessibleObject checkAccess AccessibleObject java java lang reflect Method invoke Method java org apache catalina security SecurityUtil SecurityUtil java catalina jar org apache catalina security SecurityUtil SecurityUtil java catalina jar java security AccessController doPrivileged Method javax security Subject doAsPrivileged Subject java org apache catalina security SecurityUtil execute SecurityUtil java catalina jar org apache catalina security SecurityUtil doAsPrivilege SecurityUtil java catalina jar org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java catalina jar org apache catalina core ApplicationFilterChain access ApplicationFilterChain java catalina jar org apache catalina core ApplicationFilterChain ApplicationFilterChain java catalina jar org apache catalina core ApplicationFilterChain ApplicationFilterChain java catalina jar java security AccessController doPrivileged Method org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java catalina jar org apache catalina core StandardWrapperValve invoke StandardWrapperValve java catalina jar org apache catalina core StandardContextValve invoke StandardContextValve java catalina jar org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java catalina jar org apache catalina core StandardHostValve invoke StandardHostValve java catalina jar org apache catalina valves ErrorReportValve invoke ErrorReportValve java catalina jar org apache catalina valves RemoteIpValve invoke RemoteIpValve java catalina jar qos logback access tomcat LogbackValve invoke LogbackValve java logback access jar org apache catalina core StandardEngineValve invoke StandardEngineValve java catalina jar org apache catalina connector CoyoteAdapter service CoyoteAdapter java catalina jar org apache coyote http AbstractHttp Processor process AbstractHttp Processor java tomcat coyote jar org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java tomcat coyote jar org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java tomcat coyote jar java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java current sources Spring Boot org springframework boot context web ErrorPageFilter visible Reflection call fails Java Language rules prohibit access filter configured web xml constructor accessible configured programmatically ServletContext addFilter String Filter rare situation valid idea method lookup catalina SecurityUtil targetObject getClass getMethod Filter getMethod expectation allowed invoke java lang reflect Method declared javax servlet Filter targetObject object accessibility targetObject testing needed bonus point method cache smaller
57308	Replace System getProperty file separator File separator Tomcat File separator instances System getProperty file separator JVM start worked java Dfile separator xyz Unix equivalent xyz Windows character work JVM exception find required files sep incorrect character property JVM application code discrepancy methods File separator additional benefit subject privilege check
57316	JspC fails directory URL encoded characters issue today Jenkins build failed working directory contained build attempting precompile JSPs exception thrown complaining directory didn exist Gradle error output Internal Error File WEB INF web xml ant jasper java lang NullPointerException ant jasper java File init File java ant jasper org apache jasper JspC initClassLoader JspC java ant jasper org apache jasper JspC processFile JspC java ant jasper org apache jasper JspC execute JspC java ant jasper org apache tools ant UnknownElement execute UnknownElement java ant jasper sun reflect NativeMethodAccessorImpl invoke Method ant jasper sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java ant jasper sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java ant jasper java lang reflect Method invoke Method java ant jasper org apache tools ant dispatch DispatchUtils execute DispatchUtils java ant jasper groovy util AntBuilder performTask AntBuilder java problem caused JspC initClassLoader call JspCompilationContext getRealPath calls JspCServletContext getRealPath turn URL getFile build path returns URL encoded variant path encoded path JspCompilationContext getRealPath URL decoding
57323	Correct display outdated sessions sessions count listing Manager application minor issue reported http markmail org message iplahbcanujbqoo Manager application commands display distribution sessions idle time commands text sessions text expire Test GUI Expire Sessions button HTML GUI commands display sessions idle time minute minutes assume web application configured session timeout minutes time slot statistics labeled revisions fixed labeled labeled sessions idle time minutes time maxCount timeout maxCount count outdated sessions separate time slot distinct numbers sessions thread performs expiration stuck incorrect configuration test behaviour Configure examples application text web xml session config session timeout session timeout session config META INF context xml Context backgroundProcessorDelay Configure user roles manager script manager gui Start Tomcat Visit webapp Servlet examples Session create session Visit http localhost manager html click sessions number row examples webapp list sessions opens check idle time session Visit http localhost manager text sessions path examples sessions statistics Wait minutes Expected output text sessions command session idle minutes Actual output minutes sessions
57324	Change Expect behaviour Tomcat breaking existing clients keepalive connections version Tomcat behavior Coyote handler modified handle Expect clients specific change http grepcode file repo maven org maven org apache tomcat tomcat coyote org apache coyote http AbstractHttp Processor java change handle cases misbehaving client POST requests submitted Tomcat security intent takes account status codes ranging series breaks legitimate cases status codes returned legitimate usecases normal keepalive connections resources authorization controls HTTP typical webservers inform clients unauthorized access resources triggering client resubmit request refer http org Protocols rfc rfc html behavior change Tomcat breaks legitimate Steps reproduce Install version Tomcat Write client Expect behavior KeepAlive atleast requests request succeeding request simulating HTTP scenario Notice server closes connection response clients process responding request valid credentials blocker NET defaults Expect behaviour NET clients optimize keepalive connections send credentials request keepalive connections induces situation communications Tomcat NET clients Closing server connections causing existing connections customers complaining started happening upgrading Tomcat attention
57326	AsyncContextImpl doesn AsyncListener register firing onStartAsync official Java Javadoc https docs oracle javaee api javax servlet AsyncListener html onStartAsync javax servlet AsyncEvent AsyncListeners allowed register event onStartAsync started AsyncListener receive events asynchronous cycle registers call AsyncContext addListener javax servlet AsyncListener AsyncContext delivered AsyncEvent tomcat actual implementation prevents behavior listeners list cleared firing event AdyncContextImpl java list cleared firing event listeners register needed
57331	ExpiresFilter year synonym years configuration current code years equalsIgnoreCase currentToken durationUnit DurationUnit YEAR month equalsIgnoreCase currentToken months equalsIgnoreCase currentToken durationUnit DurationUnit MONTH tree misses year time units support singular form months month observed stackoverflow user configuration fails init param param ExpiresDefault param param access year param init param succeeds replaces year years http stackoverflow questions configure expires filter tomcat
57338	SingleSignOnEntry cache ClusterSingleSignOn valve Tomcat startup ClusterSingleSignOn valve single sign session cluster nodes start replicated moment action performed nodes online action sync mailing list discussion http mail archive users tomcat apache org msg html
57340	NioConnector caches corrupted concurrent comet close Configuration Tomcat NioConnector nginx atmosphere nginx atmosphere close comet connection concurrently NioEndpoint Poller thread SocketChannel ready read nginx closes Poller unregisters channel read forks thread handle close event NioEndpoint atmosphere calls close connection thread Tomcat receives internal action code ActionCode COMET CLOSE adds channel Poller registers read Http NioProcessor java SocketChannel readable thread hasnâ€™t invalidated SelectionKey Poller thread initiates closing process forks thread Thread completes closing process puts NioChannel AttachmentKey caches Thread close channel realizes closed AbstractProtocol java puts NioChannel AttachmentKey caches Caches corrupted references object subsequent requests NioChannel AttachmentKey crazy stuff happen mixed responses
57377	Incorrect standard SSL properties JMX JMXRemoteLifecycleListener ticket references older bugs https issues apache org bugzilla bug cgi Ability provide RMI bind address RMI server selectively bound loopback https issues apache org bugzilla bug cgi symptom problem fixed works fine problem standard JMX properties http docs oracle javase docs technotes guides management agent html http docs oracle javase docs technotes guides management agent html gdevf enabling SSL TLS RMI registry jmxrmi registered JMX RMI server carries JMX operations sun management jmxremote registry ssl sun management jmxremote ssl RMI server factories created creating RMI registry http svn apache org viewvc tomcat trunk java org apache catalina mbeans JmxRemoteLifecycleListener java revision view markup number works fine SSL guess reasons Alexey Noskov rmiBindAddress incompatible rmiSSL side noticed bug fixed RMI registry clients sun jndi rmi factory socket Recommendation separate RMIServerSocketFactory JMX RMI RMI registry dictated sun management jmxremote ssl rmiSSL flag sun management jmxremote registry ssl agent compliant ability leave RMI registry SSL JMX RMI connection stub rmiBindAddress incompatible rmiSSL problem creating custom SslRMIServerSocketFactory basically extending JDK implementing createServerSocket method rmiBindAddress happy provide changed version file request reasonable patch learn SVN reason reached products custom JMX authentication SSL TLS implementation implement jmx remote protocol provider pkgs approach inject SSL factories JMXConnnectorServer broke control server socket RMI registry created ended setting sun management jmxremote ssl avoid JMXRemoteLifecycleListener SSL
57420	Wrong names generated URL ENCODER DirContextURLConnection thread safe debugging time tomcat starts fail deploy webapp find complete garbage error stack trace SEVERE Unable process resource element jndi localhost testapp WEB INF classes blabli dNlewrP lculgiansDisalog annotations java FileNotFoundException jndi localhost testapp WEB INF classes blabli dNlewrP lculgiansDisalog org apache naming resources DirContextURLConnection getInputStream DirContextURLConnection java time time referenced mix real classes exist vicinity exception debugger problem stems apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java dcUrlConn DirContextURLConnection correct entries WAR file Enumeration String dirs dcUrlConn list Calling list debugger yields correct contents dirs variable lCsosn oCrAopnpfliigcEadtiitoonr AEpdpiltiocraMtoidoen acslsass tCioonnfi aticolnaLsosad liconaftgiuroatni LocadlLaisstsen cCaotnifiognur clastsi lCaonsfsig cluaiss CwoindgfetisegtEditorApplication ConfigEditorApplication ApplicationConfigLoadListener ConfigEditorApplication ConfigEditorToParameterHandlerIntegration ConfigEditorApplication EditorMode ConfigEditorApplication EditorMode ConfigEditorApplication EditorMode ConfigEditorApplication ConfigLoader ConfigLoader ConfigurationLoadListener ConfigType ConfigurationLoadListener ConfigurationLoadedEvent ConfigurationLoadListener FailedToLoadConfigurationEvent ConfigurationLoadListener command data field rendering session util widgetset walking list command leads collection list turn encoded URL ENCODER UEncoder URL ENCODER thread safe result garbage concurrently interesting note single failure step caused classes WEB INF classes directory JAR files WEB INF lib appears DirContextURLConnections rare concurrency issues URL ENCODER full stacktrace error occurs org apache naming resources DirContextURLConnection getInputStream DirContextURLConnection java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig DeployWar HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Jan org apache catalina startup ContextConfig processAnnotationsJndi SEVERE Unable process resource element jndi localhost medusa config editor WEB INF classes ergon medusa configeditor dialog TeerstRelgeaxsDialog annotations java FileNotFoundException jndi localhost medusa config editor WEB INF classes ergon medusa configeditor dialog TeerstRelgeaxsDialog org apache naming resources DirContextURLConnection getInputStream DirContextURLConnection java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig DeployWar HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Jan org apache catalina startup ContextConfig processAnnotationsJndi SEVERE Unable process resource element jndi localhost medusa config editor WEB INF classes ergon medusa configeditor dialog aTsesxtAreaDialog annotations java FileNotFoundException jndi localhost medusa config editor WEB INF classes ergon medusa configeditor dialog aTsesxtAreaDialog org apache naming resources DirContextURLConnection getInputStream DirContextURLConnection java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsJndi ContextConfig java org apache catalina startup ContextConfig processAnnotationsUrl ContextConfig java org apache catalina startup ContextConfig webConfig ContextConfig java org apache catalina startup ContextConfig configureStart ContextConfig java org apache catalina startup ContextConfig lifecycleEvent ContextConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina util LifecycleBase fireLifecycleEvent LifecycleBase java org apache catalina core StandardContext startInternal StandardContext java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig DeployWar HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
57504	Jasper task JspC NPE taglibs Created attachment details Repeat build xml revision broke ant jasper task taglibs Repeat Download unzip apache tomcat zip apache ant bin zip temporary directory file build xml directory attached based http tomcat apache org tomcat doc jasper howto html Web Application Compilation project file apache tomcat bin catalina tasks xml target jspc jasper validateXml uriroot apache tomcat webapps examples webXmlFragment tmp WEB INF generated web xml outputDir tmp WEB INF src target project Execute apache ant bin ant jspc directory Expected result Compiled output tmp WEB INF Actual result Exception thrown partial output tmp WEB INF jspc jasper java lang NullPointerException jasper org apache jasper JspCompilationContext getTldLocation JspCompilationContext java jasper org apache jasper compiler Parser parseTaglibDirective Parser java jasper org apache jasper compiler Parser parseDirective Parser java jasper org apache jasper compiler Parser parseElements Parser java jasper org apache jasper compiler Parser parse Parser java jasper org apache jasper compiler ParserController doParse ParserController java jasper org apache jasper compiler ParserController parse ParserController java jasper org apache jasper compiler Compiler generateJava Compiler java jasper org apache jasper compiler Compiler compile Compiler java jasper org apache jasper JspC processFile JspC java jasper org apache jasper JspC execute JspC java jasper org apache tools ant UnknownElement execute UnknownElement java jasper sun reflect NativeMethodAccessorImpl invoke Method jasper sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java jasper sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java jasper java lang reflect Method invoke Method java jasper org apache tools ant dispatch DispatchUtils execute DispatchUtils java jasper org apache tools ant Task perform Task java jasper org apache tools ant Target execute Target java jasper org apache tools ant Target performTasks Target java jasper org apache tools ant Project executeSortedTargets Project java jasper org apache tools ant Project executeTarget Project java jasper org apache tools ant helper DefaultExecutor executeTargets DefaultExecutor java jasper org apache tools ant Project executeTargets Project java jasper org apache tools ant Main runBuild Main java jasper org apache tools ant Main startAnt Main java jasper org apache tools ant launch Launcher Launcher java jasper org apache tools ant launch Launcher main Launcher java replaced repeat runs exception complete output problem cleanup tldLocationsCache initialization revision partially backported revision JspCompilationContext getTldLocation easy bringing initialization
57530	Reimplement TestAbstractHttp Processor testNon xxResponseWithExpectation test SimpleHttpClient Java testing release candidate testNon xxResponseWithExpectation test org apache coyote http TestAbstractHttp Processor fails running Java Testcase testNon xxResponseWithExpectation Caused ERROR java lang NullPointerException org apache coyote http TestAbstractHttp Processor doTestNon xxResponseAndExpectation TestAbstractHttp Processor java org apache coyote http TestAbstractHttp Processor testNon xxResponseWithExpectation TestAbstractHttp Processor java Reference http mail archives apache org mod mbox tomcat dev mbox CCABzHfVngj fDGVk Pys nxzie LQB PYX BSAh mail gmail http mail archives apache org mod mbox tomcat dev mbox CCABzHfVnFn kth SZP CKPsi wwsLw TKOMxQ mail gmail test sets web application security constraint forbids access echo servlet sends request Expect expects response Connection close header Running debugger Java send Expect header test expects java bug report specific issue handling Expect late addition Java complicated simple test HttpURLConnection handles full request response cycle including response timeouts reimplemented simple client implementation org apache catalina startup SimpleHttpClient expect Tomcat rejects request sending response detail tested reimplementing test SimpleHttpClient reference http bugs java view bug bug JDK HttpURLConnection shoul support Expect contimue headers http bugs java view bug bug JDK Incorrect handling HTTP Expect HttpURLConnection
57534	CorsFilter SIMPLE HTTP REQUEST CONTENT TYPE VALUES check ignore content type parameters CorsFilter trunk starting link Collection Simple HTTP request headers sensitive href http org cors terminology http org cors terminology Collection String SIMPLE HTTP REQUEST CONTENT TYPE VALUES HashSet Arrays asList application form urlencoded multipart form data text plain starting POST equals method String contentType request getContentType contentType contentType contentType toLowerCase trim SIMPLE HTTP REQUEST CONTENT TYPE VALUES contentType requestType CORSRequestType SIMPLE requestType CORSRequestType ACTUAL org Terminology link Javadoc SIMPLE HTTP REQUEST CONTENT TYPE VALUES bit copy pasted field collection mime type values Content Type header header treated simple header check SIMPLE HTTP REQUEST CONTENT TYPE VALUES ignore parameters Content Type header Content Type application form urlencoded charset UTF match
57540	report TLS protocol version org apache tomcat util net SSLSupport CIPHER SUITE KEY request getAttribute SSLSupport CIPHER SUITE KEY find cipher suite client tomcat doesn TLS version suggestions SSLSuport create String PROTOCOL VERSION KEY javax servlet request secure protocol version String getProtocol IOException org apache tomcat util net jsse JSSESupport add String getProtocol IOException session session getProtocol org apache coyote http Http Processor action add sslO sslSupport getProtocol sslO request setAttribute SSLSupport PROTOCOL VERSION KEY sslO
57546	Memory Leak SecureNioChannel Created attachment details instances hashmap connecting mobile devices websocket Tomcat server physical mobile connection die random times connection instance org apache coyote http upgrade NioProcessor removed connections HashMap org apache coyote http Http NioProtocol Http ConnectionHandler entries connections HashMap fact real socket connections DumpHprof jpg displays drill HashMap entries instance SafeCommConnection ServerEndpoint POJO onClose called ServerEndpoint set flag called isClosing side set removed app instance remains memory held NioProtocol connections HashMap http NioProtocol release method called stack trace stderr log file hundreds Feb INFO http nio exec org apache tomcat websocket server WsRemoteEndpointImplServer doClose Failed close ServletOutputStream connection cleanly java IOException existing connection forcibly closed remote host sun nio SocketDispatcher write Method sun nio SocketDispatcher write Unknown Source sun nio IOUtil writeFromNativeBuffer Unknown Source sun nio IOUtil write Unknown Source sun nio SocketChannelImpl write Unknown Source org apache tomcat util net SecureNioChannel flush SecureNioChannel java org apache tomcat util net SecureNioChannel close SecureNioChannel java org apache tomcat util net SecureNioChannel close SecureNioChannel java org apache coyote http upgrade NioServletOutputStream doClose NioServletOutputStream java org apache coyote http upgrade AbstractServletOutputStream close AbstractServletOutputStream java org apache tomcat websocket server WsRemoteEndpointImplServer doClose WsRemoteEndpointImplServer java org apache tomcat websocket WsRemoteEndpointImplBase close WsRemoteEndpointImplBase java org apache tomcat websocket server WsRemoteEndpointImplServer onWritePossible WsRemoteEndpointImplServer java org apache tomcat websocket server WsRemoteEndpointImplServer doWrite WsRemoteEndpointImplServer java org apache tomcat websocket WsRemoteEndpointImplBase writeMessagePart WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase startMessage WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase startMessageBlock WsRemoteEndpointImplBase java org apache tomcat websocket WsSession sendCloseMessage WsSession java org apache tomcat websocket WsSession onClose WsSession java org apache tomcat websocket server WsHttpUpgradeHandler close WsHttpUpgradeHandler java org apache tomcat websocket server WsHttpUpgradeHandler access WsHttpUpgradeHandler java org apache tomcat websocket server WsHttpUpgradeHandler WsReadListener onDataAvailable WsHttpUpgradeHandler java org apache coyote http upgrade AbstractServletInputStream onDataAvailable AbstractServletInputStream java org apache coyote http upgrade AbstractProcessor upgradeDispatch AbstractProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker Unknown Source java util concurrent ThreadPoolExecutor Worker Unknown Source org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Unknown Source
57581	request getBytesRead org apache coyote Request bytesRead variable type file upload grater returns negative type change bug version tomcat bytesRead getBytesRead bytesRead bytesRead getBytesRead bytesRead
57621	Chunked encoding bug tomcat embedded spring MVC message replies posted tomcat users mailing list verbose description bug original message actual lines code included followup bottom Mark Thomas mailto markt apache org andrew brown ubs wrote responsibility lies spring thought scenario Jetty async reverse proxy sends servers chunked encoding backend servers built embedded tested latest Jetty configured SSL connections servers SSL issue easier reproduce reproduce issue backend servers Spring MVC automatic argument assignment argument values decoded JSON body RequestMapping method RequestMethod URL ResponseBody WebAsyncTask SomeObject ourMethod RequestBody Valid SomeObject Min PathVariable someId HttpServletRequest request issue Wireshark noticed TCP segment passed Jetty backend server contained entire request bytes chunk terminator arrives segment wire complete segment Tomcat wake start processing request cut call stack automatic method argument assignment kicks life runs Jackson JSON parser read incoming body data org apache coyote http filters ChunkedInputFilter data buffer fully process request method called correct parameters stuff sends response doesn remaining bytes arrive wire wake Tomcat NIO loop Tomcat thinks request previous completely handled Bad Request wire correct response connection terminated closed connection Jetty connection pool bad opinion Jackson JSON parser shouldn care type stream reading responsibility chunked input stream ensure doesn read chunk size handing completed chunk data ensure trailing consumed thoughts sounds Tomcat bug figure happening confirm JSON parser read stream suspect structure JSON figure data ends isn read request response completed Tomcat blocking read chunk read isn happening Tomcat bug JSON parser calling ObjectMapper readMapAndClose completes read concerned finished calls close JsonParser parameter stream close call implemented CoyoteInputStream close turn calls org apache catalina connector InputBuffer close sets closed flag filters method ChunkedInputFilter seek called good place clean request filters held org apache coyote http AbstractInputBuffer org apache catalina connector close familiar async workflow correct info org apache coyote http AbstractHttp Processor process method cleanup code main request loop Finish handling request setStage org apache coyote Constants STAGE ENDINPUT isAsync comet error closing connection don drain input uploading file doesn tie thread servlet rejected getInputBuffer setSwallowInput endRequest Note call endRequest methods synchronous remove WebAsyncMethod isAsync returns cleanup block entered endRequest called ChunkedInputFilter called trailing metadata consumed good methods async block skipped cleanup missed coded good reason unintended consequences
57643	jasper ant task fails space uriroot Created attachment details zip file simple web app ant build file compile jsps invoking jasper ant task fail space path uriroot attribute side attached Extract attached zip file extract versions tomcat jasper compile test directory bit Windows zip ant output work jasper compile test ant Buildfile work jasper compile test build xml jsp compile jsp compile echo work jasper compile test apache tomcat delete Deleting directory work jasper compile test tmp jasper Feb org apache jasper compiler TldLocationsCache tldScanJar jasper INFO JAR scanned TLDs contained TLDs Enable debug logging logger complete list JARs scanned TLDs Skipping unneeded JARs scanning improve startup time JSP compilation time jasper Feb org apache jasper JspC processFile jasper INFO Built File jsp delete Deleting directory work jasper compile test tmp echo Complete jsp compile echo work jasper compile test apache tomcat jasper Feb org apache jasper compiler TldLocationsCache tldScanJar jasper INFO JAR scanned TLDs contained TLDs Enable debug logging logger complete list JARs scanned TLDs Skipping unneeded JARs scanning improve startup time JSP compilation time BUILD FAILED work jasper compile test build xml error occurred executing work jasper compile test build xml org apache jasper JasperException absolute uri http java sun jsp jstl core resolved web xml jar files deployed application org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler TagLibraryInfoImpl generateTLDLocation TagLibraryInfoImpl java org apache jasper compiler TagLibraryInfoImpl init TagLibraryInfoImpl java org apache jasper compiler Parser parseTaglibDirective Parser java org apache jasper compiler Parser parseDirective Parser java org apache jasper compiler Parser parseElements Parser java org apache jasper compiler Parser parse Parser java org apache jasper compiler ParserController doParse ParserController java org apache jasper compiler ParserController parse ParserController java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspC processFile JspC java org apache jasper JspC execute JspC java org apache tools ant UnknownElement execute UnknownElement java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tools ant dispatch DispatchUtils execute DispatchUtils java org apache tools ant Task perform Task java org apache tools ant Target execute Target java org apache tools ant Target performTasks Target java org apache tools ant Project executeSortedTargets Project java org apache tools ant helper SingleCheckExecutor executeTargets SingleCheckExecutor java org apache tools ant Project executeTargets Project java org apache tools ant taskdefs Ant execute Ant java org apache tools ant taskdefs CallTarget execute CallTarget java org apache tools ant UnknownElement execute UnknownElement java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tools ant dispatch DispatchUtils execute DispatchUtils java org apache tools ant Task perform Task java org apache tools ant Target execute Target java org apache tools ant Target performTasks Target java org apache tools ant Project executeSortedTargets Project java org apache tools ant Project executeTarget Project java org apache tools ant helper DefaultExecutor executeTargets DefaultExecutor java org apache tools ant Project executeTargets Project java org apache tools ant Main runBuild Main java org apache tools ant Main startAnt Main java org apache tools ant launch Launcher Launcher java org apache tools ant launch Launcher main Launcher java Total time work jasper compile test
57674	BufferOverflowException AjpNioProcessor writing content larger underlying buffer bug choosing packetSize AjpNioProtocol BufferOverflowExceptions java nio BufferOverflowException java nio HeapByteBuffer HeapByteBuffer java org apache coyote ajp AjpNioProcessor output AjpNioProcessor java org apache coyote ajp AbstractAjpProcessor SocketOutputBuffer doWrite AbstractAjpProcessor java org apache coyote Response doWrite Response java org apache catalina connector OutputBuffer realWriteBytes OutputBuffer java org apache tomcat util buf ByteChunk flushBuffer ByteChunk java org apache catalina connector OutputBuffer realWriteChars OutputBuffer java org apache tomcat util buf CharChunk flushBuffer CharChunk java org apache tomcat util buf CharChunk append CharChunk java org apache catalina connector OutputBuffer write OutputBuffer java org apache catalina connector CoyoteWriter write CoyoteWriter java org apache velocity VelocityWriter flushBuffer VelocityWriter java org apache velocity VelocityWriter write VelocityWriter java org apache velocity VelocityWriter write VelocityWriter java org apache velocity runtime parser node ASTReference render ASTReference java org apache velocity runtime parser node SimpleNode render SimpleNode java org apache velocity Template merge Template java org apache velocity Template merge Template java org apache velocity tools view VelocityView performMerge VelocityView java org apache velocity tools view VelocityView merge VelocityView java org apache velocity tools view VelocityViewServlet mergeTemplate VelocityViewServlet java org apache velocity tools view VelocityLayoutServlet mergeTemplate VelocityLayoutServlet java org apache velocity tools view VelocityViewServlet doRequest VelocityViewServlet java org apache velocity tools view VelocityViewServlet doGet VelocityViewServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache tomcat websocket server WsFilter doFilter WsFilter java Setting socket appReadBufSize size packetSize resolves problem
57681	parallel loading web application loader synchronizing specific object Created attachment details Parallel classloading port Tomcat https issues apache org bugzilla bug cgi Add web application loader implementation supports parallel loading web application classes Source file patch https svn apache org viewvc tomcat trunk java org apache catalina loader WebappClassLoader java revision view markup
57683	Crash stockticket async caused aborted client request mentioned issue Time thread dev bug error handling webapp regression reproducible Steps reproduce Tomcat JDK Start Tomcat Visit stockicker http localhost examples async stockticker Abort request loaded Press Esc key keyboard visit http localhost examples async stockticker Expected Working stockicker Actual Browser waits response seconds progress indicator stops blank displayed Access log response status counter Mar examples async stockticker HTTP catalina log exception org apache coyote AbstractProcessor setErrorState INFO error occurred processing container thread connection closed java net SocketException Software caused connection abort socket write error java net SocketOutputStream socketWrite Method java net SocketOutputStream socketWrite SocketOutputStream java java net SocketOutputStream write SocketOutputStream java org apache coyote http InternalOutputBuffer realWriteBytes InternalOutputBuffer java org apache tomcat util buf ByteChunk flushBuffer ByteChunk java org apache coyote http InternalOutputBuffer flush InternalOutputBuffer java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Response action Response java org apache catalina connector OutputBuffer doFlush OutputBuffer java org apache catalina connector OutputBuffer flush OutputBuffer java org apache catalina connector CoyoteWriter flush CoyoteWriter java async AsyncStockServlet writeStock AsyncStockServlet java async AsyncStockServlet tick AsyncStockServlet java async Stockticker Stockticker java java lang Thread Thread java console exception exception java lang IllegalStateException request AsyncContext completed processing org apache catalina core AsyncContextImpl check AsyncContextImpl java org apache catalina core AsyncContextImpl getResponse AsyncContextImpl java async AsyncStockServlet writeStock AsyncStockServlet java async AsyncStockServlet tick AsyncStockServlet java async Stockticker Stockticker java java lang Thread Thread java Essentially async Stockticker thread crashed handled ISE explains behaviour exception logged console logged Tomcat log files
57700	Exception LifecycleListener Context webapp unreachable spite subsequent successful startups Tomcat implementation LifecycleListener configured META INF context xml web application performs configuration work CONFIGURE START EVENT Roughly org apache catalina Context org apache catalina Lifecycle org apache catalina LifecycleEvent org apache catalina LifecycleListener FooListener LifecycleListener Override lifecycleEvent LifecycleEvent event event getLifecycle Context Lifecycle CONFIGURE START EVENT equals event getType loader Context context Context event getLifecycle work Exception String msg Configuration failed web application context getName ConfigurationException msg work listener fail external condition Steps reproduce performed HTML Manager web application Undeploy application foo Upload foo war external condition configured observed application fails start org apache catalina LifecycleException logged catalina dddd log Manager app application deployed stopped expected external condition start web application Manager Observed behaviour application started manager webapp started running Expected behaviour access foo Actual behaviour Error access log request served ROOT web application errors warnings logged start foo application stops starts start ROOT application stops starts undeploy deploy foo application situation resolves application accessed Thoughts error Mapper error handling FailedContext initial error deployment error FailedContext odd starting application fixing external condition performed running error Mapper error fixed application undeployed test cases failed startups org apache catalina core TestStandardContext testBug testWebappLoaderStartFail testWebappListenerConfigureFail testWebappListenerConfigureFail test designed reflect situation guess difference deployment scenario Manager webapp test Manager webapp Redeploy button webapp Reload pressing resolve issue file enhancement request
57704	NullPointerException org apache catalina core StandardContext listenerStop shutdown tomcat crashes SEVERE Exception sending context destroyed event listener instance org apache tomcat websocket server WsContextListener java lang NullPointerException org apache catalina core StandardContext listenerStop StandardContext java org apache catalina core StandardContext stopInternal StandardContext java org apache catalina util LifecycleBase LifecycleBase java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig DeployDescriptor HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java analysis code getInstanceManager called assumption call code valid situations returns getInstanceManager destroyInstance listeners Throwable ExceptionUtils unwrapInvocationTargetException ExceptionUtils handleThrowable getLogger error getString standardContext listenerStop listeners getClass getName simple check
57708	Patch Authentication reverse proxy authorization Tomcat Created attachment details Patch tomcat current implementation tomcatAuthentication parameter REMOTE USER variable webserver principal tomcat request side option web application roles authorization roles silently user locked limits tomcatAuthentication attached patches introduce tomcatAuthorization flag REMOTE USER principal authorization Tomcat normal practically place webserver front web application authentication performed webserver cleanly replace authentication performed tomcat leaving web application authorization configuration intact
57723	incomplete invalid context paths StandardContext java JNDI fails aimed handle invalid context paths Tomcat addWebapp wrong context set Context addWebapp Host host String url String path addWebapp host url url path Context addWebapp Host host String url String String path silence host url Context ctx createContext host url ctx setName ctx setPath url ctx setDocBase path StandardContext setPath set corrected context JNDI fail JSPCompilationContext getLastModified invalid include setting corrected fail hard easier find Christian
57724	CorsFilter work correctly origin host tomcat CorsFilter configured application login normal form username password filter submit button set method POST Google Chrome login error reason Google Chrome adds origin http header host http localhost nice update CorsFilter checkRequestType CORSRequestType CORS
57765	autodeploy fails redeploy latest war war file updated multiple times window autodeployment logic fail deploy latest war problem wget install war webapps directory fail zip invalid retry download completes file timestamp failed timestamp file script curl http path large sample war sample war sleep sample exit sleep tomcat guaranteed unpack war running detect audodeployment files script fails times large war file download time cases autodeployment attempt logs invalid zip subsequent autodeployment timestamp completed valid download identical log timestamp failed autodeployment resolution common filesystems suspect happening sample war partially written autodeployment attempted fails sample war completely written subsequent autodeployment cycle attempt deployment suspect time deployment fails records update timestamp seconds checks timestamp file disk note milliseconds update timestamp incorrectly skips redeployment result situation sample war written autodeployment sample war written subsequent autodeployment cycle attempt deployment deployed subsequently written autodeployment wait files stabilise skipping file updated window prior autodeployment ensuring picked autodeployment cycle changed workarounds download tmp directory atomically file webapps directory completion manager webapp autodeployment nice autodeployment works advertised sketched straightforward
57779	Deadlock separate thread write ServletOutputStream separate container thread write ServletOutputStream deadlock occur error occurs write client drops connection caused operation underlying socket object servlet handling thread blocked waiting output separate thread holds lock socket object http bio exec daemon prio tid nid waiting condition aeeb java lang Thread WAITING parking sun misc Unsafe park Method parking wait java util concurrent locks AbstractQueuedSynchronizer ConditionObject org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java locked org apache tomcat util net SocketWrapper java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java separate thread trys write error occurs Thread daemon prio tid nid fda waiting monitor entry java lang Thread BLOCKED object monitor org apache tomcat util net JIoEndpoint processSocketAsync JIoEndpoint java waiting lock org apache tomcat util net SocketWrapper org apache coyote AbstractProcessor setErrorState AbstractProcessor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Response action Response java org apache catalina connector OutputBuffer doFlush OutputBuffer java org apache catalina connector OutputBuffer flush OutputBuffer java org apache catalina connector CoyoteOutputStream flush CoyoteOutputStream java trys lock socket object threads blocked tomcat version issue source code failing code invented
57833	NIO connector fails SSL handshake uppercase letters keyAlias Created attachment details Patch fixing NIO connector SSL handshake exception uppercase letters keyAlias create SSL enabled NIO connector keyAlias mixed letters uppercase lowercase instance externalCA connect port SSL handshake fails exception FINE Error SSL handshake javax net ssl SSLHandshakeException cipher suites common sun security ssl Handshaker checkThrown Handshaker java sun security ssl SSLEngineImpl checkTaskThrown SSLEngineImpl java sun security ssl SSLEngineImpl writeAppRecord SSLEngineImpl java sun security ssl SSLEngineImpl wrap SSLEngineImpl java javax net ssl SSLEngine wrap SSLEngine java org apache tomcat util net SecureNioChannel handshakeWrap SecureNioChannel java org apache tomcat util net SecureNioChannel handshake SecureNioChannel java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java Caused javax net ssl SSLHandshakeException cipher suites common sun security ssl Alerts getSSLException Alerts java sun security ssl SSLEngineImpl fatal SSLEngineImpl java sun security ssl Handshaker fatalSE Handshaker java sun security ssl Handshaker fatalSE Handshaker java sun security ssl ServerHandshaker chooseCipherSuite ServerHandshaker java sun security ssl ServerHandshaker clientHello ServerHandshaker java sun security ssl ServerHandshaker processMessage ServerHandshaker java sun security ssl Handshaker processLoop Handshaker java sun security ssl Handshaker Handshaker java sun security ssl Handshaker Handshaker java java security AccessController doPrivileged Method sun security ssl Handshaker DelegatedTask Handshaker java org apache tomcat util net SecureNioChannel tasks SecureNioChannel java org apache tomcat util net SecureNioChannel handshakeUnwrap SecureNioChannel java org apache tomcat util net SecureNioChannel handshake SecureNioChannel java Apr org apache tomcat util net NioEndpoint Poller cancelledKey FINE Failed close socket java nio channels ClosedChannelException sun nio SocketChannelImpl ensureWriteOpen SocketChannelImpl java sun nio SocketChannelImpl write SocketChannelImpl java org apache tomcat util net SecureNioChannel flush SecureNioChannel java org apache tomcat util net SecureNioChannel close SecureNioChannel java org apache tomcat util net SecureNioChannel close SecureNioChannel java org apache tomcat util net NioEndpoint Poller cancelledKey NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java actual issue mentioned exception message cipher suites common issue KeyManager stores key map keyAlias key converted lowercase calling code care passing keyAlias lowercase retrieving correctly handled JSSESocketFactory getKeyManagers method key store type JKS NioEndpoint conversion keyAlias lowercase missed key returned causing handshake fail find attached patch issue good exception relevant message locate issue faster Steps reproduce Create SSL enabled NIO connector keyAlias uppercase letters connect NIO port https exception juli logging enabled
57837	add text css compressableMimeType https tomcat apache org tomcat doc config http html compression server xml https developers google speed pagespeed claims gzip activated compression compressionMinSize result https speed
57841	Change logging defaults avoid unusable feedback Starting deployed application fail error message SCHWERWIEGEND Error listenerStart unhelpful provide usable feedback explaining severe error logged verbosely experienced power user skip logging severe fatal error hard imagine configure work
57845	Multiple JspServletWrapper sharing JspCompilationContext Copied http stackoverflow questions tomcat serving cached alias Setup jsp served multiple urls file list file jsp file file list servlet servlet Main servlet jsp file jsp jsp file servlet servlet mapping servlet Main servlet url pattern advanced url pattern servlet mapping change contents jsp visit updated visit advanced updated expect URL contents updated change jsp visit advanced spent time org apache jasper compiler Compiler isOutDated URL visit marked outDated URL visit marked outDated tomcat instances JspServlet share outDated file JspServlet marks outDated sets reload JspServlet recompiles serves recompiled version happened earlier versions Tomcat Tomcat
57931	NIO connector incorrectly closes connection client certificate verification fails Created attachment details Test program reproduce issue tomcat set TLS clientAuth clientAuth appears NIO connector closes connection response untrusted client certificate behavior differs BIO connector violates RFC fatal alert aspect cert chain unacceptable closing connection OpenSSL provide obscure error Unexpected EOF TLS protocol violated attached Python test program demonstrates behavior Simply program tomcat server configured server xml Connector Removal protocol attribute BIO connector inclusion protocol attribute demonstrate NIO connector Steps reproduce Setup tomcat server connector configuration Install Python pyOpenSSL Modify test program communicate server port test program Alternatively Python Desired behavior closing connection NIO connector provide fatal error response invalid certificate BIO connector prefer response match response Java BIO connector alert certificate unknown program connector Impact bug NIO connector program differentiate unexpected network problem certificate issue handshake program flag react possibility certificate invalid assumes unexpected network error occurred RFC Client Certificate client send certificates server discretion handshake client authentication respond fatal handshake failure alert aspect certificate chain unacceptable signed trusted server discretion handshake client unauthenticated send fatal alert NIO Connector Incorrect behavior python test Connecting Performing SSL handshake Traceback call File test module conn handshake OpenSSL SSL SysCallError Unexpected EOF BIO connector Correct behavior python test Connecting Performing SSL handshake Traceback call File test module conn handshake File build bdist linux egg OpenSSL SSL handshake File build bdist linux egg OpenSSL SSL raise ssl error File build bdist linux egg OpenSSL util exception error queue OpenSSL SSL Error SSL routines SSL READ BYTES sslv alert certificate unknown Connector Configuration Connector port maxHttpHeaderSize maxThreads minSpareThreads maxKeepAliveRequests keepAliveTimeout enableLookups disableUploadTimeout acceptCount scheme https secure SSLEnabled clientAuth sslProtocol TLS sslEnabledProtocols TLSv TLSv connectionTimeout protocol org apache coyote http Http NioProtocol keystoreFile keystore keystorePass algorithm SunX truststoreFile keystore truststorePass truststoreType JKS keyAlias tomcat compression compressionMinSize ciphers TLS DHE RSA AES CBC SHA
57959	Deadlock FileHandler java log rotated Tomcat deadlock log file rotated issue fixed latest tomcat tomcat tomcat issue code apache tomcat src java org apache juli FileHandler java writerLock writeLock unlock grade read lock ensures writer remains valid log message written writerLock readLock lock comment order wrong acquire read lock release write lock race condition occur correct writerLock readLock lock writerLock writeLock unlock tomcat apache tomcat src java org apache juli FileHandler java tomcat apache tomcat src java org apache juli FileHandler java order correct
57969	PathParam annotation captures incorrect high load high load ServerEndpoint ServerEndpoint websocket key configurator MyConfigurator ExecutionMonitoringEndpoint OnMessage onMessage PathParam key String key String payload MyConfigurator inject custom property ServerEndpointConfig conf getUserProperties noticed captured PathParam key mixed concurrent request causing subscriptions pub application Changing ServerEndpoint websocket key configurator MyConfigurator ExecutionMonitoringEndpoint OnMessage onMessage Session session String payload String key session getPathParameters key fixed problem
58023	Memory Leak WebappClassLoader Memory leak occur reference entry manifest removed Problem getResource resource JarFile load manifest resourceEntries ResourceEntry manifest reference getResource resource resourceEntries ResourceEntry manifest reference Manifest problem JarFile reference Manifest Heap space wait milliseconds getResource resource WebappClassLoader closeJARs time elapsed milliseconds load JarFile instances JarFile load manifest resourceEntries ResourceEntry manifest reference wait milliseconds memory leak time resourceEntries png attachment scenario simulate problem jar file signed accelerate leak Manifest entries manifests png retained heap test real app attached heap dump test heap zip Solution release manifest reference Workaround WebappClassLoader org apache catalina loader WebappClassLoader Override InputStream getResourceAsStream String InputStream getResourceAsStream ResourceEntry entry resourceEntries entry prevent memory leak entry manifest entry certificates Override URL getResource String URL url getResource ResourceEntry entry resourceEntries entry prevent memory leak entry manifest entry certificates url
58086	Deploy WAR file http FileNotFoundException Ant target deploys WAR file Tomcat instance taskdef DeployTask WAR file passed URL http executing Windows bit JDK Sample failing target tomcat deploy url http localhost manager text path testdeploy war http server app war username user password pass failOnError logerror execution fails exception thrown Polish message test deploy xml java FileNotFoundException http server app war Nazwa pliku nazwa katalogu lub skladnia etykiety woluminu jest niepoprawna java FileInputStream open Method java FileInputStream init FileInputStream java java FileInputStream init FileInputStream java org apache catalina ant DeployTask execute DeployTask java org apache tools ant UnknownElement execute UnknownElement java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tools ant dispatch DispatchUtils execute DispatchUtils java org apache tools ant Task perform Task java org apache tools ant Target execute Target java org apache tools ant Target performTasks Target java org apache tools ant Project executeSortedTargets Project java org apache tools ant Project executeTarget Project java org apache tools ant helper DefaultExecutor executeTargets DefaultExecutor java org apache tools ant Project executeTargets Project java org apache tools ant Main runBuild Main java org apache tools ant Main startAnt Main java org apache tools ant launch Launcher Launcher java org apache tools ant launch Launcher main Launcher java Question implementation DeployTask incorrect error content replaced code https github apache tomcat blob trunk java org apache catalina ant DeployTask java task wrong
58096	Incorrect CodeSource location ProtectionDomain classes WEB INF classes simple webapp test jsp WEB INF classes test pkg Test Tomcat Tomcat latest version Java Java test jsp Test test pkg Test getProtectionDomain getCodeSource getLocation Tomcat Test file Install apache tomcat webapps test WEB INF classe test pkg Test Tomcat result standalone Java program code top level classpath entry xxx classes test pkg Test saved Jetty correctly Test file Install jetty distribution test base webapps test WEB INF classes expect WEB INF classes reason Tomcat returns full path file WEB INF classes quick impacts unit tests passed TEST org apache catalina filters TestRemoteIpFilter https github SuperMMX tomcat commit fdd
58110	JSP compiler points error wrong number statements Created attachment details Apache Tomcat Error report html forgot delete statement JSP compile point error number statement Code pageEncoding UTF contentType text html java util String test List Object listObjectClasses listObjectClasses listObjectClasses size String sImageIconFile Object objectClass listObjectClasses sImageIconFile active directory objectClass String objectClass png isImageIconFileExist sImageIconFile sImageIconFile isEmpty sImageIconFile images sImageIconFile File fileImageIcon File application getRealPath sImageIconFile isImageIconFileExist fileImageIcon exists sImageIconFile sImageIconFile isEmpty img src sImageIconFile statement tomcat JDT compiler point error ã€‚ move compiler point error number JSP compile exception org apache jasper JasperException Unable compile JSP error occurred jsp file test jsp Unreachable code List Object listObjectClasses listObjectClasses listObjectClasses size String sImageIconFile Object objectClass listObjectClasses Stacktrace org apache jasper compiler DefaultErrorHandler javacError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher javacError ErrorDispatcher java org apache jasper compiler JDTCompiler generateClass JDTCompiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache tomcat websocket server WsFilter doFilter WsFilter java org apache catalina filters SetCharacterEncodingFilter doFilter SetCharacterEncodingFilter java test function java file javac compile javac point error number javac Test java Picked JAVA OPTIONS Dawt useSystemAAFontSettings lcd Test java é”™è¯¯ æ— æ³•è®¿é—®çš„è¯­å ä¸ªé”™è¯¯
58157	RecycleRequiredException missing AsyncListener onTimeout call Created attachment details Servlet starts asynchronous processing intentionally waits timeout dispatching HTML file Overview repeatedly polling asynchronous servlet intentionally times occasionally exception console Jul org apache catalina connector CoyoteAdapter checkRecycled INFO Encountered recycled request recycled forcedly org apache catalina connector CoyoteAdapter RecycleRequiredException org apache catalina connector CoyoteAdapter checkRecycled CoyoteAdapter java org apache coyote http AbstractHttp Processor recycle AbstractHttp Processor java org apache coyote http Http NioProtocol Http ConnectionHandler release Http NioProtocol java org apache tomcat util net NioEndpoint Poller cancelledKey NioEndpoint java org apache tomcat util net NioEndpoint Poller timeout NioEndpoint java org apache tomcat util net NioEndpoint Poller NioEndpoint java java lang Thread Thread java coincides request receiving response majority times servlet called correct response returned expected request times occasion min mins successful requests passed exception AsyncListener onTimeout called produce response Steps reproduce Configure Tomcat NIO connector Deploy attached TimeoutServlet note add HTML timeout html root web application serve timeout response tool choice JMeter repeatedly send request servlet wait timeout response sending request Actual Eventually requests receive response exception written console Expected request receive timeout response timeout html exception console Additional Appears https apache org bugzilla bug cgi
58179	Atomicity violation Bai Guangdong fellow National University Singapore find atomicity violation bug problem occurs file java org apache catalina core ApplicationContext java code snippet oldValue attributes oldValue replaced attributes replaced event ServletContextAttributeEvent context getServletContext oldValue event ServletContextAttributeEvent context getServletContext replaced context fireContainerEvent beforeContextAttributeReplaced listener listener attributeReplaced event context fireContainerEvent afterContextAttributeReplaced listener context fireContainerEvent beforeContextAttributeAdded listener listener attributeAdded event context fireContainerEvent afterContextAttributeAdded listener Suppose threads executes code snippet key Initially attributes empty executes oldValue executes executes oldValue executes replaces fire beforeContextAttributeAdded event situation replaced beforeContextAttributeReplaced fired
58187	Tomcat manager incorrect deployment status manager deploy war file html text version manager response tomcat manager appears application ends starting appears deployment application context fully application fails start process Tomcat manager answered application deployed Tomcat versions Tomcat manager parameters war file located server xxx war update simple context context response asynchronous Tomcat manager deploying war file strange reload asynchronous Tomcat versions
58192	ImageIO based applications fail deploy Tomcat worked received reports GeoServer fails deploy Tomcat discussion poinpointed version start happening reports deploys working problems issue initialize ImageIO subsystem stack trace java util ServiceConfigurationError javax imageio spi ImageReaderSpi Provider sun media imageioimpl plugins jpeg CLibJPEGImageReaderSpi instantiated java util ServiceLoader fail ServiceLoader java java util ServiceLoader access ServiceLoader java java util ServiceLoader LazyIterator nextService ServiceLoader java java util ServiceLoader LazyIterator ServiceLoader java java util ServiceLoader ServiceLoader java javax imageio spi IIORegistry registerApplicationClasspathSpis IIORegistry java javax imageio spi IIORegistry init IIORegistry java javax imageio spi IIORegistry getDefaultInstance IIORegistry java org geoserver GeoserverInitStartupListener contextDestroyed GeoserverInitStartupListener java org apache catalina core StandardContext listenerStop StandardContext java org apache catalina core StandardContext stopInternal StandardContext java org apache catalina util LifecycleBase LifecycleBase java org apache catalina util LifecycleBase start LifecycleBase java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig DeployWar HostConfig java java util concurrent Executors RunnableAdapter call Executors java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang IllegalArgumentException vendorName javax imageio spi IIOServiceProvider init IIOServiceProvider java javax imageio spi ImageReaderWriterSpi init ImageReaderWriterSpi java javax imageio spi ImageReaderSpi init ImageReaderSpi java sun media imageioimpl plugins jpeg CLibJPEGImageReaderSpi init CLibJPEGImageReaderSpi java sun reflect NativeConstructorAccessorImpl newInstance Method sun reflect NativeConstructorAccessorImpl newInstance NativeConstructorAccessorImpl java sun reflect DelegatingConstructorAccessorImpl newInstance DelegatingConstructorAccessorImpl java java lang reflect Constructor newInstance Constructor java java lang newInstance java java util GeoServer ticket https osgeo org atlassian net browse GEOS
58275	TLS prefixed ciphers discarded IBM JRE IBM JRE ciphersuites IBM documentation https ibm support knowledgecenter SSYKE ibm java security component doc security component jsse Docs ciphersuites html Note list string SSL interchangeable TLS vice versa SSL RSA AES CBC SHA TLS RSA AES CBC SHA applies set TLS prefixed ciphers setCiphers method org apache coyote http Http Protocol object bugzilla thread https apache org bugzilla bug cgi IBM SSL XXX ciphers accept TLS XXX Tomcat compares ciphers requested ciphers SSL XXX TLS XXX request option avoid check cipher list ciphers option JVM parameter TLS prefixed ciphers IBM JRE
58444	jspInit called JSP custom JSP custom MySuperServlet defined MySuperServlet javax servlet GenericServlet javax servlet jsp HttpJspPage Override service jspService req res Override jspInit Override jspDestroy problem generated JSP method jspInit called initializes expression factory expressionfactory instance manager jsp instancemanager initialized NullpointerExceptions calling JSP generated methods code jsp instancemanager newInstance jspx fcustomtag custom tomcat generated JSP org apache jasper runtime HttpJspBase calls jspInit init ServletContext method custom option extend org apache jasper runtime HttpJspBase GenericServlet tomcat specific option call jspInit jspInit method jspInit servlet JSP spec defined Note problem tomcat haven tested tomcat
58497	Unable custom implementation AbstractHttp Processor methods http grepcode file repo maven org maven org apache tomcat tomcat coyote org apache coyote http AbstractHttp Processor java AbstractHttp Processor org apache coyote http AbstractHttp Processor marked prepareSendfile OutputFilter outputFilters method prepareSendfile marked overridden extending org apache coyote http actionInternal ActionCode actionCode Object param method requirement custom implementation AbstractHttp Processor methods overridden modify tomcat source code proving blocker specific reason applicable latest tomcat versions
58522	concurrency problem corrupts WARDirContext Entry children discovered problem calling ServletContext getResourcePaths jsp corrupt WARDirContext Entry children WARDirContext list Entry method performs Arrays sort children call thread safe Calling multiple request threads result children array losing entries duplicating entries representing directories war lost Tomcat load resources resource requests result http error code jsp compliation JasperException included files CentOS newer versions Tomcat Java attached zip Test project demonstrates corruption requires multiple runs stack trace illustrating problematic flow patch file WARDirContext java
58568	WebappClassLoaderBase exposes system instance member WebappClassLoaderBase system instance member initialized bug introduced https apache org bugzilla bug cgi fixed
10526	Authenticators cache Principal user authenticated Principal object supposed cached duration user session JDBCRealm JNDIRealm reduce load external authentication services authenticators BasicAuthenticator SSLAuthenticator DigestAuthenticator call AuthenticatorBase register cache Principal register session object exist caching occur application create session object problem setting security constraint tomcat docs browsing Tomcat documentation external authentication service hit request problem occur form based login FormAuthenticator caches Principal creates session change AuthenticatorBase register create session calling getSession request getSession request reason alternative change concrete authentication classes session exists calling register BasicAuthenticator java Mar BasicAuthenticator java Jul String password parsePassword authorization principal context getRealm authenticate username password principal Session session getSession request register request response principal Constants BASIC METHOD username password patches required SSLAuthenticator DigestAuthenticator
13731	request response session variables Provide capability declare request response session variables jspService function tunable feature tomcat web xml file feature request response session variables anonymous implementations classes declaration iterator elements includes JSP file statically usage iterator JSP file
19444	JNDI Authentication roles anonymous accessible appears JNDIRealm locate roles anonymous accessible security purposes validating user binding directory roles accessible bound user user discussed Tomcat user list sounds discussed reason idea rejected submit bug code requires roles anonymous documentation clear Tomcat Servlet JSP Container Realm Configuration reasonable binding directory authenticate user access roles documentation explicetly hope accepted enhancement attempt attach modified JNDIRealm authenticated connection roles Art
21157	CookieExample setting cookie writing data servlet set headers cookies writing data servlet output stream servlet writes data headers committed CookieExample writes data addCookie response reason code works bug CookieExample writing small amount data response addCookie data held buffer wire headers committed pure luck works easily expose bug writing characters response addCookie called cookies adding response client simple Move response addCookie response getWriter
27988	Unhelpful FileNotFoundException raised org apache naming resources DirContextURLConnection raises FileNotFoundException lines helpful message string change FileNotFoundException getURL getFile easier diagnose mistakes server configurations
28852	failonerror attribute Ant tasks failonerror attribute manager Ant tasks nice flexible operation Ant build files attach patch week fixes unecessary CRs response read print missing url encoding tasks
29936	XML parser loading problems container JSTL version tomcat saxon crimson web app crimson saxon webapp lib tomcat crimson xml parser reading web xml compiling jsp prefix error org apache jasper JasperException Validation error messages TagLibraryValidator java lang IllegalStateException declare prefixes context Validation error messages TagLibraryValidator fmt java lang IllegalStateException declare prefixes context remove crimson tomcat saxon aelfred parser fails reading web xml javax xml parsers ParserConfigurationException AElfred parser namespace aware remove saxon crimson defaults xerces tomcat endorsed directory tomcat parser web app read web xml xerces endorsed directory web app runs problems version Tomcat service provider mechanism property files Java jakarta tomcat work Catalina localhost diabetes loader META INF services find documents parser won problems tomcat setting parser xslt processor comments gratefully received Peter Neville
31804	setParent called nested tags tag file tagx Suppose tag file tagx precise custom tags included tag file override setParent custom tag invoked parameter Custom tag Classic tag TagSupport Simplified tag file called submit tagx xml version encoding UTF jsp root xmlns jsp http java sun JSP xmlns custom http tags html version jsp directive tag body content empty jsp directive attribute action required rtexprvalue jsp directive attribute label required rtexprvalue custom submit action action label label submitButton jsp root debug output setParent Tag custom submit called custom submit custom tag SimpleTagSupport model setParent JspTag called expect reference representing translated Tag File submit tagx passed result tag nesting tree broken access Struts html form tag embracing tag custom submit tag form nested form action Action ctrl submit action save label Save nested form ctrl submit submit tagx
33356	Incorrect parsing tag attributes org apache jasper JasperException error function string prefix namespace compile JSP foo set bar silly string foo tablib Jasper string attribute JSP change set bar silly string error taglib foo tld file attribute set rtexprvalue set problem noticed tld standard jar rtexprvalue attribute set difference behaviour rtexprvalue
34399	Undeploying fails context defined server xml server fails Steps reproduce autodeploy web application defining context server xml start Tomcat server Tomcat Manager undeploy application Undeployed application context path WebApplication message application undeployed stopped server fail shared installation CATALINA BASE dir guess won work standalone Tomcat isntallation
35410	NullPointerException scriptlet obj object toString returning simple test reproduce bug MyTestClass String toString String nullString MyTestClass test MyTestClass Object works nullString works test crash leads java lang NullPointerException org apache jasper runtime JspWriterImpl write JspWriterImpl java org apache jasper runtime JspWriterImpl print JspWriterImpl java org apache jsp test jsp jspService test jsp java bug behaviour toString crash
36923	Deactivated expressions parsed jsp expressions scriptlets JavaServer Specification JSP syntactic pattern expr reserved JSP specifications JSP situations pattern appears intention activate expression evaluation pass pattern verbatim address evaluation machinery deactivated mode JSP Web Application delivered web xml Servlet earlier format ignore expressions compatibility deactivated expression evaluation jsp code isELIgnored produce output compatible Servlet JSP container Tomcat output syntax pre jsp incompatible Tomcat standard ensure compatibility
37326	error reported jsp include existent target bug expected behaviour expert area ascertain happening reading servlet JSP spec docs parts source code posted tomcat user seeking responses problem JSP includes JSP fragments jsp include actions fragment files don exist including JSP returned browser fragments included including JSP ignores missing fragments continues processed including returned problem written log file problem expected exception expected behaviour stands webapp bug unnoticed time good bringing bugs developer attention attached war simple discovered verified behaviour based fresh installs including JSP written response include response committed depending buffer size calling sendError IllegalStateException error point response committed exception logged including processing stopped allowing info discovered fragment files warfile started NetBeans batch scripts missing fragments reported addition NetBeans HTTPMonitorFilter conf web xml reported silent drawn blank info posts user http marc theaimsgroup tomcat user
37509	ClassLoaderLogManager remove logging properties values method ClassLoaderLogManager replace String charge replacing system properties begining property modify property call trim implies Logger Handler Formatter relies properties endding spases including behaviour JDK LogManger tomcat ClassLoaderLogManager modified verstion method String replace String str start modification String result str trim commented len str length len str charAt String result str substring str modification result startsWith pos result indexOf pos String propName result substring pos String replacement System getProperty propName replacement result replacement result substring pos result
37515	smap generated JspC Ant precompilation noticed Tomcat pass JspC task smapSuppressed attribute appears source level debugging JSPs precompiled JspC smapSuppressed Note JSP source level debuggable set compiled fly Tomcat baffled work
37929	invalidated session pageContext methods fail javax servlet http HttpSession methods getAttribute getValue getAttributeNames getValueNames IllegalStateException called session invalidated code JSP session invalidate Object obj pageContext findAttribute foo IllegalStateException thrown pageContext findAttribute eventually calls session getAttribute session invalidated session invalidated simply method process scopes request session application impacts methods PageContextImpl getAttributesScope String calls doGetAttributeScope String Object findAttribute String calls Object doFindAttribute String removeAttribute String calls doRemoveAttribute String IllegalStateException ignore processing attribute session scope code simply process application scope worry setAttribute invoked specific scope spec java lang IllegalStateException thrown called invalidated session pageContext setAttribute foo foo PageContext SESSION SCOPE java lang IllegalStateException scope PageContext SESSION SCOPE requested participate session session invalidated time method doRemoveAttribute String block Exception appears unnecessary doRemoveAttribute String removeAttribute SCOPE removeAttribute REQUEST SCOPE session removeAttribute SESSION SCOPE IllegalStateException Session invalidated Ignore fall application scope removeAttribute APPLICATION SCOPE Exception remove simply ignore exceptions full analysis Starting removeAttribute String check NPE call doRemoveAttribute doRemoveAttribute call removeAttribute scope scope removeAttribute String scope calls doRemoveAttribute scope doRemoveAttribute scope scope attributes remove won Exception request scope request removeAttribute documented Exception thrown session scope IllegalStateException session app scope context removeAttribute documented Exception thrown checked removeAttribute String NPE situation removing attr request scope throwing NPE won happen doRemoveAttribute check session calling removeAttribute SESSION SCOPE IllegalStateException thrown invalidated removing attribute application ServletContext scope registered listeners notified code appserv webtier src java org apache catalina core ApplicationContext removeAttribute catches Throwable listener block unnecessary removal actions scopes thrown exception needed wrapped ensure exception scope subsequent removals bypassed doRemoveAttribute String modified doRemoveAttribute String removeAttribute SCOPE removeAttribute REQUEST SCOPE session removeAttribute SESSION SCOPE IllegalStateException Session invalidated Ignore fall application scope removeAttribute APPLICATION SCOPE glassfish ymmv jasper diffs PageContextImpl java Dec PageContextImpl java Dec REQUEST SCOPE session session getAttribute SESSION SCOPE IllegalStateException Session invalidated Ignore fall application scope context getAttribute session session getAttribute IllegalStateException Session invalidated Ignore fall application scope context getAttribute doRemoveAttribute String removeAttribute SCOPE removeAttribute REQUEST SCOPE session removeAttribute SESSION SCOPE IllegalStateException Session invalidated Ignore fall application scope removeAttribute APPLICATION SCOPE Exception remove simply ignore exceptions removeAttribute APPLICATION SCOPE JspWriter getOut
37984	JNDIRealm java handle password JNDIRealm authenticate OpenLDAP OpenLDAP configured userPassword attribute user digest prefixed string LDAP expert prefix standard convention assuming convention JNDIRealm strip portion SHA attached patch accomplishes verified works environment
38113	getQueryString returns empty string method getQueryString org apache catalina connector Request returns empty string URL form http foo bar required specification correct implementation method query string request String getQueryString Object qStrObj coyoteRequest queryString qStrObj qStrObj toString
38352	Additional Entries catalina policy file patch adds additional entries catalina policy file catalina base shared directory equal permissions catalina common java tmpdir readable javax servlet context tempdir readable compliant spec allowed Directory java tmpdir tomcat points javax servlet context tempdir read write delete spec requires
38553	Wrong HTTP code failed CLIENT CERT authentication server xml set clientAuth tomcat user xml create role user ssl certificate metadata web xml URL webseite create security constraint security constraint web resource collection web resource App web resource url pattern jsp url pattern web resource collection constraint role tomcat role constraint user data constraint transport guarantee CONFIDENTIAL transport guarantee user data constraint security constraint login config method CLIENT CERT method login config security role role tomcat role security role access restricted JSP client certificate browser keystore works WRONG client certificate HTTP Status authenticate credentials client certificate HTTP Status client certificate chain request stands bad request bad syntax Bug expect HTTP Status
38570	docBase path webapps backslash inserted problem interpreting docBase context definitions string webapps testing moved tomcat docs separate directory webapps defined file tomcat docs xml CATALINA conf Catalina localhost Context docBase catalina tomcat docs Context directory works http localhost tomcat docs displays documentation tomcat runs port directory webappsSomething interpreted webapps loading application tomcat docu fails start Tomcat Context docBase catalina webappsSomething tomcat docs Context org apache catalina core StandardContext resourcesStart SCHWERWIEGEND Error starting Resources java lang IllegalArgumentException Document base JAVA IDE jakarta tomcat webapps tomcat docs exist readable directory org apache naming resources FileDirContext setDocBase FileDirContext java org apache catalina core StandardContext resourcesStart StandardContext java org apache catalina core StandardContext start StandardContext java Tomcat fiddling docBase path string webapps
39088	StandardWrapper getRootCause infinite loop Extra aggressive rootCause finding StandardWrapper java understatement infinite loop cases semantics exception getRootCause returns root exception chain exception derived ServletException bound chain ServletException safe reflection call arbitrary method arbitrary Exception method ServletException MyException Exception MyException Throwable Throwable Throwable getCause Throwable getRootCause VCOMException VCOMException exception getRootCause
39396	OPTIONS request directory file reports incorrect list allowed HTTP verbs options http request Tomcat directory file jsp Tomcat reports full list allowed verbs fact allowed request img directory OPTIONS img HTTP Cookie JSESSIONID CBDF Content Length Accept Accept Language Connection Alive User Agent Mozilla compatible MSIE Windows NET CLR InfoPath Returns HTTP Server Apache Coyote HEAD POST DELETE TRACE OPTIONS Content Length Mon Apr GMT Connection close destructive options DELETE request DELETE correctly returns FORBIDDEN result DELETE img HTTP Cookie JSESSIONID CBDF Content Length Accept Accept Language Connection Alive User Agent Mozilla compatible MSIE Windows NET CLR InfoPath Returns HTTP Forbidden Server Apache Coyote Content Type text html charset utf Content Length Mon Apr GMT Connection close initial OPTIONS request returns list dangerous verbs directory flagged security vulnerability scanners positive issue occur directory file OPTIONS user management HTTP Cookie JSESSIONID CBDF Content Length Accept Accept Language Connection Alive User Agent Mozilla compatible MSIE Windows NET CLR InfoPath Returns HTTP Server Apache Coyote Set Cookie JSESSIONID BCBD Path Content Type text html charset ISO Mon Apr GMT Connection close
39572	fixes CompressionFilter WebSphere app server couple small bugs compression filter classes triggered filter WebSphere patches CompressionResponseStream compress output stream response committed write Content Encoding gzip header browser displays compressed output CompressionServletResponseWrapper NullPointerException flush writing
39592	SSI correctly process HEAD request small bug Tomcat versions Tomcat SSI org apache catalina ssi SSIServlet param isVirtualWebappRelative param param param html processed SSI url pattern html url pattern normal request SSI compiles HEAD request compile SSI generates number exceptions enclosed error critical overloads catalina file difficult reported error tomcat dev decided create formal bug report ASF Bugzilla fixed big error annoying Igor Tetko Apr org apache catalina core ApplicationContext log SEVERE include Couldn include file styles html java IOException Couldn find file incl styles html org apache catalina ssi SSIServletExternalResolver getFileText SSIServletExternalResolver java org apache catalina ssi SSIMediator getFileText SSIMediator java org apache catalina ssi SSIInclude process SSIInclude java org apache catalina ssi SSIProcessor process SSIProcessor java org apache catalina ssi SSIServlet processSSI SSIServlet java org apache catalina ssi SSIServlet requestHandler SSIServlet java org apache catalina ssi SSIServlet doGet SSIServlet java javax servlet http HttpServlet doHead HttpServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doInclude ApplicationDispatcher java org apache catalina core ApplicationDispatcher include ApplicationDispatcher java org apache catalina ssi SSIServletExternalResolver getFileText SSIServletExternalResolver java org apache catalina ssi SSIMediator getFileText SSIMediator java org apache catalina ssi SSIInclude process SSIInclude java org apache catalina ssi SSIProcessor process SSIProcessor java org apache catalina ssi SSIServlet processSSI SSIServlet java org apache catalina ssi SSIServlet requestHandler SSIServlet java org apache catalina ssi SSIServlet doGet SSIServlet java javax servlet http HttpServlet doHead HttpServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves FastCommonAccessLogValve invoke FastCommonAccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http BaseProtocol Http ConnectionHandler processConnection Http BaseProtocol java org apache tomcat util net PoolTcpEndpoint processSocket PoolTcpEndpoint java org apache tomcat util net LeaderFollowerWorkerThread runIt LeaderFollowerWorkerThread java org apache tomcat util threads ThreadPool ControlRunnable ThreadPool java java lang Thread Thread java
39704	context privileged setup properly loaders Tomcat TOMCAT conf context xml loader tag context privileged properly setup TOMCAT conf context xml quote contents file loaded web application Context set monitored resources WatchedResource WEB INF web xml WatchedResource ADD Loader Uncomment disable session persistence Tomcat restarts Manager pathname Context quote error startup ERROR Exception starting filter BalancerFilter org apache catalina core StandardContext filterStart StandardContext java java lang NoClassDefFoundError org apache tomcat util digester Digester org apache webapp balancer RulesParser createDigester RulesParser java org apache webapp balancer RulesParser init RulesParser java org apache webapp balancer BalancerFilter init BalancerFilter java org apache catalina core ApplicationFilterConfig getFilter ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig setFilterDef ApplicationFilterConfig java org apache catalina core ApplicationFilterConfig init ApplicationFilterConfig java org apache catalina core StandardContext filterStart StandardContext java org apache catalina core StandardContext start StandardContext java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDirectory HostConfig java org apache catalina startup HostConfig deployDirectories HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardHost start StandardHost java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardEngine start StandardEngine java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke Unknown Source java lang reflect Method invoke Unknown Source org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java ERROR Error filterStart org apache catalina core StandardContext start StandardContext java ERROR Context balancer startup failed previous errors org apache catalina core StandardContext start StandardContext java Note install custom webapps empty loader tag digester rules handle appropriately
39724	Bug StandardPipeline removeValve Valve valve problem tring add remove add valve standard engine understand empty pipeline basic StandardEngineValve add valve basic StandardEngineValve myValve myValve StandardEngineValve remove valve basic StandardEngineValve StandardEngineValve Note StandardEngineValve add valve actual code addValve valve current basic current getNext addValve Valve valve Add Valve set Pipeline valve valve setNext basic Valve current current current getNext basic current setNext valve valve setNext basic current current getNext
39769	Wrong loader myServlet destroy called myServlet shared directory web app Thread currentThread getContextClassLoader application unload classes shared directory servlet getClass getClassLoader shared classloader StandardCalssLoader understanding executing code web app Thread currentThread getContextClassLoader WebappLoader StandardContext problem occurs StandardWrapper unload calling servlet destroy method ClassLoader oldCtxClassLoader Thread currentThread getContextClassLoader ClassLoader classLoader instance getClass getClassLoader PrintStream System swallowOutput SystemLogHandler startCapture Call servlet destroy method instanceSupport fireInstanceEvent InstanceEvent DESTROY EVENT instance Thread currentThread setContextClassLoader classLoader System getSecurityManager SecurityUtil doAsPrivilege destroy instance SecurityUtil remove instance instance destroy code INSTANCE variable servlet loaded SHARED classloader classloader set thread classloader StandardContext getLoader problem occurs close dos windows suppose occurs uninstall webApp notice problem verified code problem David Gagnon
39875	RealmBase init cleanup RealmBase init quote init containerLog container getLogger initialized container initialized container quote container NPE occurs container block longer needed changed revision http svn apache org viewvc tomcat container catalina src share org apache catalina realm RealmBase java
40380	Potential syncro problem StandardSession expire expire notify Mark session expired needed expiring man land manager expiring
40551	Sticky sessions PersistentManager enter indeterminate node failover cluster nodes load balanced sticky sessions node unavailable sessions bound node redistributed mod sessions bound node failover occurred jessionid JVM route original failed node placing session indeterminate losing sticky properties attaching patch trigger session rebind node jvmroutes don match replace jessionid browser cookie
40771	read POST data filter valve attempting create Filter Valve front Axis web service handle security Security specification turned rabbit trail find bug discovered problems reading POST data web service request org apache catalina connector Request object exposed Filter Valve interfaces chunk code prototype Valve didn work ByteChunk getPOSTBody Request request IOException ByteChunk retval ByteChunk request getContentLength ByteChunk body ByteChunk request getContentLength bytesRead bytesRead request getCoyoteRequest doRead body retval append body bytesRead puts data pipe request getCoyoteRequest action ActionCode ACTION REQ SET BODY REPLAY retval retval code works designed problem occurs Axis attempted parse web service request don remember exact Axis error track problem bug org apache coyote http filters SavedRequestInputFilter doRead method properly implemented modified version doRead method doRead ByteChunk chunk org apache coyote Request request IOException writeLength chunk getLimit chunk getLimit input getLength writeLength chunk getLimit writeLength input getLength input getOffset input getEnd input substract chunk getBuffer writeLength chunk setOffset chunk setEnd writeLength writeLength bug won filter valve web services SOAPHandlers
40817	servlet cgi bounds exception cgi servlets cgi jar exist servlet mapped servlet mapping servlet cgi servlet url pattern url pattern servlet mapping Test perl cgi script usr bin perl print Content type text plain print Perl perl script root test subfolder test test cgi bin test cgi script subfolder fine cgi script root generate exception java lang StringIndexOutOfBoundsException String range java lang String substring String java java lang String substring String java org apache catalina servlets CGIServlet CGIEnvironment findCGI CGIServlet java org apache catalina servlets CGIServlet CGIEnvironment setCGIEnvironment CGIServlet java org apache catalina servlets CGIServlet CGIEnvironment init CGIServlet java org apache catalina servlets CGIServlet doGet CGIServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java problem CGIServlet java cginame currentLocation getParent substring webAppRootDir length File separator problem webAppRootDir longer currentLocation getParent webAppRootDir ends File separator removing extra File separator webAppRootDir result String exception works cginame currentLocation getParent File separator substring webAppRootDir length adaptive checking File separator add side note bug ENV SCRIPT FILENAME isn defined required PHP submit bug
40901	listings escape XML characters Solaris file directory called xxx yyy Tomcat listings feature directory listing file bold italics familiar Javascript cross site scripting security problems Tomcat escapes XML characters prevent client browsers interpret HTML codes intended interpreted error listings warning documentation control file directory names list
40929	Misleading comments StandardClassLoader Tomcat development StandardClassLoader org apache catalina loader stripped URLClassLoader work code StandardClassLoader automatic reloading jar files upgrade tomcat tomcat difficultly figure happened code ended install SVN svn log figure code removed code stripped comments java file javadoc api remained identical javadoc api misleading instance comments Reloader fact comments updated reflect code high priority easy people code regularly javadoc readable people extend StandardClassLoader purposes
41059	WebAppClassLoader clearReferences code running threads WebAppClassLoader stops manually sets variables clearReferences method NPEs thread stopped expecting variables problem hot deploys unload fails terminating deploy
41074	Output tag jsp plugin conform XHTML jsp comiler outputs tag required object upper letters conform XHTML required tags hard coded generator
41089	JspFactoryImpl SPEC VERSION org apache jasper runtime JspFactoryImpl String SPEC VERSION String SPEC VERSION
41166	Unable start ReplicatedContext test Cluster function problem apears CATALINA logs catalina SEVERE Unable start ReplicatedContext java lang ClassCastException org apache naming resources ProxyDirContext java Serializable org apache catalina tribes tipis AbstractReplicatedMap MapEntry setValue AbstractReplicatedMap java didn change file CATALINA server xml changed server xml uncomment Cluster className org apache catalina tcp SimpleTcpCluster add context configuration file test xml CATALINA conf Catalina localhost flolling content Aray BONC conf cat Catalina localhost test xml Context className org apache catalina context ReplicatedContext path test docBase ClusterTest debug privileged reloadable web xml file ClusterTest distributable element worrying explain problem poor English paste stepes Aray BONC apache tomcat java usr java jdk bin java Aray BONC apache tomcat java version java version Java Runtime Environment build Java HotSpot Client build mixed mode sharing Aray BONC apache tomcat echo JAVA usr java jdk Aray BONC apache tomcat echo CLASSPATH Aray BONC apache tomcat uname Linux BONC Mar CST GNU Linux root BONC local cat redhat release CentOS release Aray BONC apache tomcat conf Aray BONC conf cat server xml Note Server Container define subcomponents Valves level Documentation docs config server html Server port shutdown SHUTDOWN APR library loader Documentation docs apr html Listener className org apache catalina core AprLifecycleListener SSLEngine Initialize Jasper prior webapps loaded Documentation docs jasper howto html Listener className org apache catalina core JasperListener JMX Support Tomcat server Documentation docs existent html Listener className org apache catalina mbeans ServerLifecycleListener Listener className org apache catalina mbeans GlobalResourcesLifecycleListener Global JNDI resources Documentation docs jndi resources howto html GlobalNamingResources Editable user database UserDatabaseRealm authenticate users Resource UserDatabase Container type org apache catalina UserDatabase description User database updated saved factory org apache catalina users MemoryUserDatabaseFactory pathname conf tomcat users xml GlobalNamingResources Service collection Connectors share single Container Note Service Container define subcomponents Valves level Documentation docs config service html Service Catalina Connector represents endpoint requests received responses returned Documentation Java HTTP Connector docs config http html blocking blocking Java AJP Connector docs config ajp html APR HTTP AJP Connector docs apr html Define SSL HTTP Connector port Connector port protocol HTTP maxThreads connectionTimeout redirectPort Define SSL HTTP Connector port connector JSSE configuration APR connector OpenSSL style configuration APR documentation Connector port protocol HTTP maxThreads scheme https secure clientAuth sslProtocol TLS Define AJP Connector port Connector port protocol AJP redirectPort Engine represents entry point Catalina processes request Engine implementation Tomcat stand analyzes HTTP headers included request passes Host virtual host Documentation docs config engine html set jvmRoute support load balancing AJP Engine Standalone defaultHost localhost jvmRoute jvm Engine Catalina defaultHost localhost clustering documentation docs cluster howto html simple docs config cluster html reference documentation Cluster className org apache catalina tcp SimpleTcpCluster request dumper valve dumps debugging request response data received Tomcat Documentation docs config valve html Valve className org apache catalina valves RequestDumperValve Realm UserDatabase configured global JNDI resources key UserDatabase edits performed UserDatabase Realm Realm className org apache catalina realm UserDatabaseRealm resourceName UserDatabase Define virtual host Note XML Schema validation work Xerces Host localhost appBase webapps unpackWARs autoDeploy xmlValidation xmlNamespaceAware SingleSignOn valve share authentication web applications Documentation docs config valve html Valve className org apache catalina authenticator SingleSignOn Access log processes Documentation docs config valve html Valve className org apache catalina valves FastCommonAccessLogValve directory logs prefix localhost access log suffix txt pattern common resolveHosts Host Engine Service Server Aray BONC conf mkdir Catalina Aray BONC conf usr local tomcatConf localhost Catalina localhost Aray BONC conf cat Catalina localhost test xml Context className org apache catalina context ReplicatedContext path test docBase ClusterTest debug privileged reloadable Context Aray BONC conf Aray BONC apache tomcat bin conf lib LICENSE logs NOTICE RELEASE NOTES RUNNING txt temp webapps work Aray BONC apache tomcat logs Aray BONC apache tomcat bin catalina version CATALINA BASE Aray download apache tomcat CATALINA Aray download apache tomcat CATALINA TMPDIR Aray download apache tomcat temp JRE usr java jdk Server version Apache Tomcat Server built Nov Server number Linux Version Architecture JVM Version JVM Vendor Sun Microsystems Aray BONC apache tomcat bin startup CATALINA BASE Aray download apache tomcat CATALINA Aray download apache tomcat CATALINA TMPDIR Aray download apache tomcat temp JRE usr java jdk Aray BONC apache tomcat cat logs catalina INFO Initializing Coyote HTTP http Dec org apache catalina startup Catalina load INFO Initialization processed Dec org apache catalina core StandardService start INFO Starting service Catalina Dec org apache catalina core StandardEngine start INFO Starting Servlet Engine Apache Tomcat Dec org apache catalina tcp SimpleTcpCluster start INFO Cluster start Dec org apache catalina tribes transport ReceiverBase bind INFO Receiver Server Socket bound Dec org apache catalina tribes membership McastServiceImpl setupSocket INFO Setting cluster mcast soTimeout Dec org apache catalina tribes membership McastServiceImpl waitForMembers INFO Sleeping milliseconds establish cluster membership start level Dec org apache catalina tribes membership McastServiceImpl waitForMembers INFO sleeping membership established start level Dec org apache catalina tribes membership McastServiceImpl waitForMembers INFO Sleeping milliseconds establish cluster membership start level Dec org apache catalina tribes membership McastServiceImpl waitForMembers INFO sleeping membership established start level Dec org apache catalina core StandardHost start INFO XML validation disabled Dec org apache catalina tribes tipis AbstractReplicatedMap init INFO Initializing AbstractReplicatedMap context test Dec org apache catalina context ReplicatedContext start SEVERE Unable start ReplicatedContext java lang ClassCastException org apache naming resources ProxyDirContext java Serializable org apache catalina tribes tipis AbstractReplicatedMap MapEntry setValue AbstractReplicatedMap java org apache catalina tribes tipis AbstractReplicatedMap MapEntry init AbstractReplicatedMap java org apache catalina tribes tipis AbstractReplicatedMap AbstractReplicatedMap java org apache catalina core ApplicationContext setAttribute ApplicationContext java org apache catalina core ApplicationContextFacade setAttribute ApplicationContextFacade java org apache catalina core StandardContext start StandardContext java org apache catalina context ReplicatedContext start ReplicatedContext java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig deployDescriptors HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardHost start StandardHost java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardEngine start StandardEngine java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Dec org apache catalina core ContainerBase addChildInternal SEVERE ContainerBase addChild start LifecycleException Failed start ReplicatedContext java lang ClassCastException org apache naming resources ProxyDirContext java Serializable org apache catalina context ReplicatedContext start ReplicatedContext java
41327	Jasper display full path file error accessing existent jsp webapp tomcat jasper doesnt display full path file browser Accessing existent jsp jsp url http localhost jsp examples jsp error displays jsp jsp examples jsp
41606	jspInit method called problem jspInit method called definition JSP background compilations enable web xml define checkInterval define development Define JSP servlet load startup tag web xml proposing org apache jasper compiler Compiler java compile compileClass jspcMode FileNotFoundException JasperException Exception compileClass File targetFile File ctxt getClassFileName targetFile exists targetLastModified targetFile lastModified jsw jsw setServletClassLastModifiedTime targetLastModified method Yuichiro
41608	log level messages message improvement log level messages message Servlet service servlet threw exception output places message level org apache catalina core ApplicationDispatcher invoke wrapper getLogger error getString applicationDispatcher serviceException wrapper getName wrapper getLogger error getString applicationDispatcher serviceException wrapper getName wrapper getLogger error getString applicationDispatcher serviceException wrapper getName rootCause wrapper getLogger error getString applicationDispatcher serviceException wrapper getName org apache catalina core StandardWrapperValve invoke container getLogger warn getString standardWrapper serviceException wrapper getName container getLogger warn getString standardWrapper serviceException wrapper getName container getLogger error getString standardWrapper serviceException wrapper getName rootCause container getLogger error getString standardWrapper serviceException wrapper getName reasons getLogger warn getLogger error
41666	Unmodified failure Unmodified header doesn work enoughly failed Unmodified header milliseconds lastModified target resource milliseconds response status code PRECONDITION FAILED result caused DefaultServlet checkIfUnmodifiedSince lastModified headerValue lastModified headerValue
41722	role link tag web xml application follwing web xml deployed servlet servlet sample servlet servlet sample TheServlet servlet security role role users role security role servlet servlet mapping servlet mapping security role role users role security role java lang IllegalArgumentException convert argument occurred Specification security role element declares security role reference componentâ€™s deployment componentâ€™s code consists optional description security role code role optional link security role role link role link optional
41869	Expression Language expressions result TagData REQUEST TIME object custom tag attributes defined TLD file allowing time expression values meaning rtexprvalue rtexprvalue TagExtraInfo validate values TagExtraInfo code Object attr data getAttribute groupSize attr attr equals TagData REQUEST TIME JSP provide attribute values JSP scriplet TagData REQUEST TIME object call groupSizeValue received REQUEST TIME distinguished object receive String object text groupSizeValue correct behavior read books Google searches point thinking bug tomcat source code JspAttribute nested Node created Validator creation object passing constant expr argument argument ctor executed statement preceding containsEL pageInfo isELIgnored question expression considered expression
42039	Tomcat doesn output stack trace UnavailableException UnavailableException thrown Servlet init Tomcat doesn output stack trace UnavailableException problem lost Tomcat output stack trace invoke method StandardWrapperValue
42071	JSP UnavailableException IllegalStateException occurs JSP UnavailableException IllegalStateException occurs access JSP UnavailableException access JSP UnavailableException IllegalStateException occurs Tomcat returns status code client problem IllegalStateException occurs problem JSP called
42072	call jspDestroy method violates Java Servlet Specification SRV JSP accessed time jspDestroy method called ServletException thrown init method HttpJspPage violates Java Servlet Specification SRV
42119	request getCharacterEncoding misparses charset UTF xyz bug Coyote source HTTP header Content Type text abc charset UTF xyz request getCharacterEncoding returns UTF xyz Tomcat returns UTF Tomcat request getCharacterEncoding parseCharacterEncoding defined jakarta tomcat src catalina src share org apache catalina util RequestUtil java correctly handles Content Type parameters Tomcat request getCharacterEncoding getCharsetFromContentType defined apache tomcat src connectors util java org apache tomcat util http ContentType java search terminating semicolon charset erroneously including additional characters charset code comment Basically charset code problem Content Type multipart mixed client charset parameter Content Type occur Content Type charset parameter
42361	POST content type incorrect multipart forms login form custom encoding multipart form data content type restored redirect login method FORM reproduce POSTs multipart form data encoding application form urlencoded result login method FORM invoked multipart POST data exists verified reading input stream request result content type request application form urlencoded redirected login happen logged
42436	service qname soap header parsed correctly service qname soap header elements type xsdQNameType schema https svn apache org repos asf tomcat trunk java javax servlet resources web services client xsd schema soap header element soap header xmlns myns http myns org myns extra header soap header Tomcat digester expects soap header element soap header namespaceURI http myns org namespaceURI localpart extra header localpart soap header previous webservice DTD digester processes web xml correct form soap header produces stack trace org apache tomcat util digester Digester endElement SEVERE event threw exception java lang IllegalArgumentException convert argument org apache tomcat util IntrospectionUtils convert IntrospectionUtils java org apache tomcat util digester CallMethodRule CallMethodRule java org apache tomcat util digester Rule Rule java org apache tomcat util digester Digester endElement Digester java sun org apache xerces internal parsers AbstractSAXParser endElement AbstractSAXParser java service qname elements correct form produce stacktrace processed correctly
42444	Potential NullPointerException org apache catalina valves AccessLogValve AccessLogValve RequestElement method addElement access form request getProtocol variable request NullPointerException Patch Workspace Apache tomcat java org apache catalina valves AccessLogValve java Workspace Apache tomcat java org apache catalina valves AccessLogValve java revision Workspace Apache tomcat java org apache catalina valves AccessLogValve java working copy buf append request getProtocol buf append buf append request getProtocol buf append request getProtocol
42503	ServletContext getResourceAsStream returns stale data conditions resource cache implementation servlet JSP engine org apache naming resource detect file cache modified returns previous contents file file contents modified file length doesn change time change file detected server startup reproduce problem attached test jsp test txt ROOT web app Tomcat trunk test cat test txt abcd telnet Connected Escape character test jsp HTTP HTTP Server Apache Coyote Set Cookie JSESSIONID DBEE Path Content Type text html Content Length GMT Connection close File contents abcd Connection closed foreign host cat test txt change contents size efgh telnet Connected Escape character test jsp HTTP HTTP Server Apache Coyote Set Cookie JSESSIONID Path Content Type text html Content Length GMT Connection close File contents abcd
42530	ManagerBase backgroundProcess NullPointerException ManagerBase backgroundProcess NullPointerException java lang NullPointerException org apache catalina session ManagerBase processExpires ManagerBase java org apache catalina session ManagerBase backgroundProcess ManagerBase java org apache catalina core ContainerBase backgroundProcess ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor ContainerBase java java lang Thread Thread java Environment Tomcat JDK TestServletF doGet HttpServletRequest request HttpServletResponse response ServletException IOException HttpSession session request getSession session invalidate Test http localhost contextName TestServlet org apache catalina session ManagerBase findSessions called processExpires Session findSessions Session sessions Session sessions size Session sessions values toArray Tomcat sessions ManagerBase changed HashMap ConcurrentHashMap time operations sessions removed methods findSession String add Session session remove Session session lock sessions acquired add Session session remove Session session Servlets execute session invalidate result NullpointerException thrown processing ManagerBase processExpires sessions isValid add Session session remove Session session manipulate sessions manner Tomcat
42579	Patch JNDIRealm fails parse absolute names Active Directory respond query SearchResult relative discovered happening directory hosted servers userBase sufficient identify single server getUserBySearch JNDIRealm assumes SearchResult relative creating user appending bits names wrong absolute names URL form ldap server encoded user discovered issue Tomcat cursory SVN repo Tomcat reveals bug patch issue attach
42648	SWAP increases cluster Tomca SWAP increases cluster Tomca operation unstable Environment Tomcat JDK memory Heap size Xmx Xms SWAP increases direct occurs operating time high load Receiver className org apache catalina tribes transport nio NioReceiver direct SWAP doesn increase setting direct Receiver className org apache catalina tribes transport nio NioReceiver direct noticed org apache catalina tribes transport nio NioReplicationTask buffer method getOptions OPTION DIRECT BUFFER OPTION DIRECT BUFFER buffer ByteBuffer allocateDirect getRxBufSize buffer ByteBuffer allocate getRxBufSize key buffer instance creating buffer method stopped getOptions OPTION DIRECT BUFFER OPTION DIRECT BUFFER buffer ByteBuffer allocateDirect getRxBufSize buffer ByteBuffer allocate getRxBufSize Creating buffer setRxBufSize method setRxBufSize rxBufSize rxBufSize rxBufSize getOptions OPTION DIRECT BUFFER OPTION DIRECT BUFFER buffer ByteBuffer allocateDirect getRxBufSize buffer ByteBuffer allocate getRxBufSize Result SWAP doesn increase
42650	PooledParallelSender sendMessage NullpointerException org apache catalina tribes transport PooledSender getSender possibility returning org apache catalina tribes transport nio PooledParallelSender sendMessage doesn check PooledParallelSender sendMessage calls getSender NullpointerException thrown NullpointerException thrown block stack traces org apache catalina tribes ChannelException java lang NullPointerException faulty members identified org apache catalina tribes group GroupChannel send GroupChannel java org apache catalina tribes group GroupChannel send GroupChannel java org apache catalina tcp SimpleTcpCluster send SimpleTcpCluster java org apache catalina tcp SimpleTcpCluster sendClusterDomain SimpleTcpCluster java org apache catalina tcp ReplicationValve send ReplicationValve java org apache catalina tcp ReplicationValve sendMessage ReplicationValve java org apache catalina tcp ReplicationValve sendSessionReplicationMessage ReplicationValve java org apache catalina tcp ReplicationValve sendReplicationMessage ReplicationValve java org apache catalina tcp ReplicationValve invoke ReplicationValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache server JkCoyoteHandler invoke JkCoyoteHandler java org apache common HandlerRequest invoke HandlerRequest java org apache common ChannelSocket invoke ChannelSocket java org apache common ChannelSocket processConnection ChannelSocket java org apache common ChannelSocket SocketConnection runIt ChannelSocket java org apache tomcat util threads ThreadPool ControlRunnable ThreadPool java java lang Thread Thread java Caused java lang NullPointerException org apache catalina tribes transport PooledSender returnSender PooledSender java org apache catalina tribes transport nio PooledParallelSender sendMessage PooledParallelSender java org apache catalina tribes transport ReplicationTransmitter sendMessage ReplicationTransmitter java org apache catalina tribes group ChannelCoordinator sendMessage ChannelCoordinator java org apache catalina tribes group ChannelInterceptorBase sendMessage ChannelInterceptorBase java org apache catalina tribes group interceptors TcpFailureDetector sendMessage TcpFailureDetector java org apache catalina tribes group ChannelInterceptorBase sendMessage ChannelInterceptorBase java org apache catalina tribes group interceptors MessageDispatchInterceptor sendMe ssage MessageDispatchInterceptor java org apache catalina tribes group ChannelInterceptorBase sendMessage ChannelInterceptorBase java org apache catalina tribes group GroupChannel send GroupChannel java Sender acquired ChannelException exception interceptor org apache catalina tribes group interceptors TcpFailureDetector exception handling processing org apache catalina tribes transport bio PooledMultiSender checks
42693	JSP Generation error recursive tagfile structure addendum Version combobox scenario menu decribed tree structure rendering menu tagfile render menuitem renders current item leaf item clicking action node item clicking opens level submenu rendering submenu calling tagfile body worked fine tomcat clear pseudo code original code voluminous tagfile render menuitem tagx jsp root jsp directive attribute menu item choose test menu item isNode div node menu item label div forEach item items menu item children PROBLEM TOMCAT tags render menuitem menu item item forEach div leaf menu item label div choose jsp root faulty behaviour tomcat generated Java Source tagfile reveals body doTag method empty emits html compilation silently error warning logfiles
42707	add host alias jmx doesn affect restart Adding host alias jmx doesn affect tomcat restarted test started tomcat Dcom sun management jmxremote Dcom sun management jmxremote port Dcom sun management jmxremote authenticate Dcom sun management jmxremote ssl created webapps test test html created host Host appBase webapps test test localdomain Host tested url http test localdomain test expected jconsole Catalina Host test localdomain Operations addAlias test localdomain edited hosts file map test localdomain test localdomain url http test localdomain test html received error starting stopping host jmx didn Catalina Server Operations storeConfig starting stopping host didn tested versions server jdk tomcat client jdk jconsole custom application written administration web application combinations mention tomcat unable save configuration error Jun org apache catalina core StandardServer storeConfig SEVERE StoreConfig mbean registeredCatalina type StoreConfig open separate bug tomcat save config restart tomcat saving config catalina start alias works properly edit tomcat conf server xml add alias entry manually restart tomcat url http test localdomain test works fine main problem adding alias dynamically doesn work
42747	Context className attribute contexts deployed descriptors web META INF context xml deploying app context descriptor webapp META INF directory context xml className context created StandardContext ReplicatedContext cluster configuration work work move context xml CATALINA BASE conf EngineName HostName webapp xml
43001	JspC lacks setMappedFile setDie Ant task output files task defaults differ generated runtime web xml mappedfile parameter set quick check die option missing sense task occur versions Tomcat ported
43053	Session doesn time BackUpManager noticed problem session doesn time BackUpManager detect session time ManagerBase processExpires backgroundProcess executed processExpires time session acquired ManagerBase findSessions checked isValid findSessions list session acquired session map sessions BackUpManager session map sessions instance org apache catalina tribes tipis AbstractReplicatedMap PRIMARY entry returned method size entrySet keySet AbstractReplicatedMap PRIMARY entry entry isPrimary returns sizeFull keySetFull entrySetFull methods entries target session ManagerBase processExpires session time check PRIMARY session BACKUP session PROXY session subject session time check Tomcat cluster session PRIMARY created Tomcat time BACKUP PROXY instance session sessionA cluster configurations tomcat tomcat tomcat sessionA sessionA PRIMARY tomcat sessionA BACKUP tomcat sessionA PROXY tomcat tomcat time sessionA tomcat sessionA BACKUP tomcat sessionA PROXY tomcat PRIMARY doesn exist sessionA accessed tomcat tomcat PRIMARY guaranteed sessionA accessed target session time BackUpManager PRIMARY result sessionA time
43080	Suspicious url pattern warning logged wrong webapp Suspicious url pattern warnings logged wrong webapp log events coming SecurityCollection java
43117	Dangerousness workDir setting Context point dangerousness workDir setting Context workDir empty string workDir workDir set CATALINA application reloaded files CATALINA deleted problem caused wrong configuration dangerous propose patch trunk java org apache catalina core StandardContext java trunk java org apache catalina core StandardContext java revision trunk java org apache catalina core StandardContext java working copy Acquire calculate work directory path String workDir getWorkDir workDir workDir workDir length Retrieve parent host String hostName
43142	webapp expanded FOLDER named webapps xxx war loaded reproduce copy expanded file xxx war file FOLDER tomcat webapps xxx war bug tomcat load app
43150	Tomcat path pound sign ClassNotFoundException Tomcat start located launched path pound character find informations mail thread tomcat user including developer specific informations problem usage File toURL URLClassloader problem fixed worked mail thread hints btw applies version earlier versions
43191	compressableMimeType attribute set compression compressableMimeType text html server xml appears compressableMimeType XML responses coming gzipped compression responses gzipped turn compressableMimeType XML responses coming gzipped full Connector tag Note values compressableMimeType include text xml responses compressed Connector port address jboss bind address maxThreads minSpareThreads maxSpareThreads strategy maxHttpHeaderSize emptySessionPath enableLookups redirectPort acceptCount connectionTimeout disableUploadTimeout compression compressableMimeType text html text javascript application javascript application javascript
43216	ACTIVITY CHECK work correctly Tomcat restarted noticed org apache catalina session StandardSession ACTIVITY CHECK work correctly StandardSession accessCount set Tomcat restarted session loaded SESSION ser file StandardManager doLoad calls session endAccess method execute set isNew decrement accessCount isNew attribute set session readObjectData ois StandardManager doLoad accessCount set IMHO calling session endAccess doLoad patch trunk java org apache catalina session StandardManager java trunk java org apache catalina session StandardManager java revision trunk java org apache catalina session StandardManager java working copy session setManager sessions session getIdInternal session session activate session endAccess ClassNotFoundException log error getString standardManager loading cnfe
43236	Response setCharacterEncoding fails Response getWriter Response reset org apache catalina connector Response resets internal hold coyoteResponse outputBuffer reset reset included Ignore call included servlet coyoteResponse reset outputBuffer reset set characterEncoding UTF writer invocations request setCharacterEncoding internal save flag usingWriter reseted annoying coyoteResponse reset resets characterEncoding iso change change reset charaterEncoding UTF reset response reset usingWriter flag add special flag works circumstances
43285	Missing Coercion argument type mismatch attach sample web application reproducing error Note error occurs Tomcat works Jetty Sun doesn matter JSF implementation reproduce error wanted mention bug MyFaces stack trace FacesException exception stack trace javax faces FacesException Exception calling broadcast component Component Path javax faces component UIViewRoot ViewId jsp javax faces component html HtmlForm jsp javax faces component html HtmlCommandButton jsp javax faces component UIComponentBase broadcast UIComponentBase java javax faces component UICommand broadcast UICommand java javax faces component UIViewRoot broadcastForPhase UIViewRoot java javax faces component UIViewRoot process UIViewRoot java javax faces component UIViewRoot processApplication UIViewRoot java org apache myfaces lifecycle InvokeApplicationExecutor execute InvokeApplicationExecutor java org apache myfaces lifecycle LifecycleImpl executePhase LifecycleImpl java org apache myfaces lifecycle LifecycleImpl execute LifecycleImpl java javax faces webapp FacesServlet service FacesServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java Caused org apache jasper JspELException jsp numberBean number java lang IllegalArgumentException argument type mismatch org apache jasper JspValueExpression setValue JspValueExpression java org apache myfaces event SetPropertyActionListener processAction SetPropertyActionListener java javax faces event ActionEvent processListener ActionEvent java javax faces component UIComponentBase broadcast UIComponentBase java Caused java lang IllegalArgumentException argument type mismatch sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java javax BeanELResolver setValue BeanELResolver java javax CompositeELResolver setValue CompositeELResolver java org apache myfaces unified resolver FacesCompositeELResolver access FacesCompositeELResolver java org apache myfaces unified resolver FacesCompositeELResolver invoke FacesCompositeELResolver java org apache myfaces unified resolver FacesCompositeELResolver invoke FacesCompositeELResolver java org apache myfaces unified resolver FacesCompositeELResolver setValue FacesCompositeELResolver java org apache parser AstValue setValue AstValue java org apache ValueExpressionImpl setValue ValueExpressionImpl java org apache jasper JspValueExpression setValue JspValueExpression java
43356	keystoreFile parameter relative treated relative CATALINA BASE catalina base property NioEndPoint issue virtually symptoms http issues apache org bugzilla bug cgi org apache tomcat util net NioEndpoint java JSSESocketFactory docs keystoreFile Add attribute keystore file created place Tomcat expects file named keystore user directory Tomcat running absolute pathname relative pathname resolved CATALINA BASE environment variable Relative paths don work NioConnector problem code NioEndPoint starting Initialize SSL needed isSSLEnabled Initialize SSL passphrase getKeystorePass toCharArray KeyStore KeyStore getInstance getKeystoreType load FileInputStream getKeystoreFile passphrase KeyStore KeyStore getInstance getKeystoreType load FileInputStream getKeystoreFile passphrase CATALINA BASE account startup ERROR org apache coyote http Http NioProtocol start Error starting endpoint java net BindException Address bind sun nio Net bind Method sun nio ServerSocketChannelImpl bind ServerSocketChannelImpl java sun nio ServerSocketAdaptor bind ServerSocketAdaptor java org apache tomcat util net NioEndpoint init NioEndpoint java org apache tomcat util net NioEndpoint start NioEndpoint java org apache coyote http Http NioProtocol start Http NioProtocol java org apache catalina connector Connector start Connector java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java curious keystoreFile truststoreFile version
43366	Session Statistics command manager fails Unknown command sessions documentation Tomcat http tomcat apache org tomcat doc manager howto html Session Statistics command manager http localhost manager sessions path work Tomcat Tomcat error returned FAIL Unknown command sessions created installations Tomcat CentOS Fedora installations exhibit failure
43435	AbstractReplicatedMap memberDisappeared executed necessity codes memberDisappeared method org apache catalina tribes tipis AbstractReplicatedMap memberDisappeared Member member removed mapMembers removed mapMembers remove member Iterator entrySet iterator hasNext omit Relocate session relocate session time member deleted mapMembers removed member deleted relocate session influencing Tomcat setting TcpFailureDetector Cluster high load lot requests processed time mentioned relocate session requests memberDisappeared detected TcpFailureDetector relocate session heavy processing IMHO good AbstractReplicatedMap patch tomcat trunk java org apache catalina tribes tipis AbstractReplicatedMap java tomcat trunk java org apache catalina tribes tipis AbstractReplicatedMap java revision tomcat trunk java org apache catalina tribes tipis AbstractReplicatedMap java working copy removed mapMembers removed mapMembers remove member removed Iterator entrySet iterator
43470	ClassCastException org apache catalina deploy NamingResources NamingResources reads removeLocalEjb String entries remove ContextLocalEjb localEjb localEjbs localEjb ContextLocalEjb ejbs remove localEjb support firePropertyChange localEjb localEjb localEjb setNamingResources removeLocalEjb String entries remove ContextLocalEjb localEjb localEjbs localEjb ContextLocalEjb localEjbs remove error localEjb support firePropertyChange localEjb localEjb localEjb setNamingResources
43538	patch hostname address manager webapp environment couple load balanced Tomcats fronted httpd accesses manager application load balancer load balanced Tomcats situations nice manager hostname address machine running
43617	attribute values tag file properly escaped Attribute values tag file properly escaped converted java files Create tagx file content jsp root xmlns jsp http java sun JSP xmlns http org xhtml version div test div jsp root Call tag jsp attach patch minutes
43622	compression minCompressionSize attribute properly implemented compression attributes http connector compression force integer val documentation integer val implemented compression minCompressionSize integer val minCompressionSize integer val documentation doesnt mention read server xml problem documenation impression setting compression integer val sufficient code written minCompressionSize overrides compression field minCompressionSize isnt set override compression field looked implementation http connector code culprit org apache coyote http Http BaseProtocol Http ConnectionHandler init processor setCompression proto compression processor setCompressionMinSize proto compressionMinSize setCompressionMinSize called compressionMinSize override read compression atttribute looked code Tomcat problems appears
43706	litmus warning WebdavServlet litmus WebDAV compliance test suite produces couple warnings copymove group tests output tomcat trunk env TESTS copymove litmus http localhost webdav running copymove init pass pass copy init pass copy simple WARNING COPY resource didn pass warning copy overwrite pass copy cleanup pass copy coll pass move WARNING MOVE resource didn pass warning move coll pass move cleanup pass finish pass summary copymove tests passed failed warnings issued patch warnings env TESTS copymove litmus http localhost webdav running copymove init pass pass copy init pass copy simple pass copy overwrite pass copy cleanup pass copy coll pass move pass move coll pass move cleanup pass finish pass summary copymove tests passed failed
43840	Unexpected behaviour GenericPrincipal serialized SerializablePrincipal cluster method getUserPrincipal GenericPrincipal returns Principal request getUserPrincipal method works fine clustered environment behaviour method GenericPrincipal serialized SerializablePrincipal initial node cluster request getUserPrincipal method behaves principal serialized node longer internal Principal object method call object solution exists internal userPrincipal Serializable serialize properties GenericPrincipal Recreate object stream manner users custom Principal objects implement java Serializable predictable request getUserPrincipal method nodes cluster thoughts Ashley
43868	MBeanServer invoke issue Impossible invoke removeRole MBean methods setAttribute MBeanServer bug ManagedBean java lines getSetter method getInvoke method object replace object bean Fortunately getGetter method correct
43893	WebdavServlet returns incorrect values href property mapped url prefix Deploy attached WAR file vanilla installation Tomcat send WebDAV request simply pasted netcat telnet work don netcat PROPFIND webdav file txt HTTP Content Type text xml charset utf User Agent Jakarta Commons HttpClient Host localhost Depth Don forget press enter Observe result xml version encoding utf multistatus xmlns DAV response href webdav file txt file txt href propstat prop creationdate creationdate displayname CDATA file txt displayname getlastmodified Sun Nov GMT getlastmodified getcontentlength getcontentlength getcontenttype text plain getcontenttype getetag getetag resourcetype source source supportedlock lockentry lockscope exclusive lockscope locktype write locktype lockentry lockentry lockscope shared lockscope locktype write locktype lockentry supportedlock prop status HTTP status propstat response multistatus Note incorrect href webdav file txt file txt href paths duplicated wouldn big problem WebDAV clients don rely href Apache slide webdavlib client library relies breaks incorrect WebDAV enabled applications library work Tomcat reason marked bug major apologies wrong classification
43909	EvaluationContext wrapper hides locale org apache lang EvaluationContext doesn pass locale wrapped ELContext org apache jasper ELContextWrapper prohibits locale original purpose
44223	Tomcat ignores javax net ssl trustStoreType system property Set SSL Connector keystore JKS format Connector SSLEnabled keystoreFile tomcat keystore keystoreType JKS custom truststore authenticating signed client certificates truststore needed webapps Tomcat natural configure truststore globally JVM server xml assume truststore format PKCS starting Tomcat export JAVA OPTS Djavax net ssl trustStore trusted keystore Djavax net ssl trustStoreType PKCS doesn work tomcat logs catalina keystore exception debugging discover problem Tomcat open truststore JKS format type PKCS JAVA OPTS
44268	Multiple registrations ServletContextListener register implementing ServletContextListener contextInitialized methods called servlet specifications conforming container call listeners order registered deployment descriptor listener registered mentioned explicitly specification listener listener test ServletContextListener listener listener listener listener test ServletContextListener listener listener listener listener test ServletContextListener listener listener test ServletContextListener test ServletContextListener called test ServletContextListener called Apache Tomcat bug
44494	Requests greater truncated updating Tomcat Tomcat trouble requests greater truncated CoyoteRequest getReader method steps caused issue constructed post request jsp exceeded size servlet call request getReader pipe returned BufferedReader string Inspection string reveals content truncated replace request getReader method call request getInputStream truncation occurs reverting Tomcat request getReader method truncation occurs
44529	RealmBase authorization hasResourcePermission fully servlet spec compliant authorization implementation RealmBase hasResourcePermission method fully servlet specification compliant spec security constraint authorization constraint combine authorization constraints imply roles unauthenticated access special authorization constraint names roles combine constraints override access precluded Tomcat works fine weird legal combinations security constraints URLs security constraint web resource collection url pattern someUrl url pattern http method POST http method web resource collection constraint security constraint security constraint web resource collection url pattern someUrl url pattern http method POST http method web resource collection roles constraint security constraint ignore kind configuration pretty pointless spec dictates POST someUrl html denied access Tomcat grants security constraint web resource collection url pattern someUrl url pattern http method POST http method web resource collection roles constraint security constraint security constraint web resource collection url pattern someUrl url pattern http method POST http method web resource collection constraint role role constraint security constraint interesting strict mode access someUrl html denied web xml configured security roles roles user mode access granted strict mode access granted web xml configured security roles modes Tomcat addition spec feel access denied modes stay spec behaviour predictable
44558	cite attempted address throwing assign requested address SEVERE Error starting endpoint java net BindException assign requested address org apache tomcat util net JIoEndpoint init JIoEndpoint java org apache tomcat util net JIoEndpoint start JIoEndpoint java org apache coyote http Http Protocol start Http Protocol java org apache catalina connector Connector start Connector java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java address bind attempted accelerate error resolution bit
44562	HEAD requests request dispatch include https issues apache org jira browse GERONIMO tomcat complains Servlet service servlet SimpleDispatchServlet threw exception javax servlet ServletException Original SevletResponse wrapped original ServletResponse passed RequestDispatcher violation SRV SRV org apache catalina core ApplicationDispatcher checkSameObjects ApplicationDispatcher java relevant code javax servlet http HttpServlet doHead HttpServletRequest req HttpServletResponse resp ServletException IOException NoBodyResponse response NoBodyResponse resp doGet req response response setContentLength fine NoBodyResponse HttpServletResponse NoBodyResponse HttpServletResponseWrapper patch attached jira issue change adapts NoBodyResponse subclass HttpServletResponseWrapper user reports fixes problem don formatting issues applying patch tomcat copy spec classes
44620	infinit loop nio connector code code chance tomcat enter dead loop InternalNioOutputBuffer addToBB buf offset length IOException socket getBufHandler getWriteBuffer remaining length flushBuffer buffer size socket smaller length size socket socket appWriteBufSize length limited maxHttpHeaderSize chance dead loop exists happened avoid config correctly server xml
44633	jar wrong throwing UnsupportedClassVersionError happily tomcat java move tomcat java jar files compiled java Suggestion org apache catalina loader WebappClassLoader findClassInternal WebappClassLoader java UnsupportedClassVersionError adding hints sought jar file java lang reflect InvocationTargetException sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Caused java lang UnsupportedClassVersionError Bad version number file java lang ClassLoader defineClass Method java lang ClassLoader defineClass ClassLoader java java security SecureClassLoader defineClass SecureClassLoader java org apache catalina loader WebappClassLoader findClassInternal WebappClassLoader java org apache catalina loader WebappClassLoader findClass WebappClassLoader java org apache catalina loader WebappClassLoader loadClass WebappClassLoader java org apache catalina loader WebappClassLoader loadClass WebappClassLoader java org apache catalina core StandardWrapper StandardWrapper java java security AccessController doPrivileged Method org apache catalina core StandardWrapper loadServlet StandardWrapper java org apache catalina core StandardWrapper load StandardWrapper java org apache catalina core StandardContext loadOnStartup StandardContext java org apache catalina core StandardContext start StandardContext java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardHost start StandardHost java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardEngine start StandardEngine java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java
44986	JSP compilation exception pageEncoding utf file order marks JSP File order marks attribute set UTF upper file order marks compilation workes fine code ERROR jsp Servlet service servlet jsp threw exception org apache jasper JasperException dialog jsp encoding XML prolog UTF directive utf org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler Validator DirectiveVisitor comparePageEncodings Validator java org apache jasper compiler Validator DirectiveVisitor visit Validator java org apache jasper compiler Node PageDirective accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Validator validate Validator java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java cit jsp control DispatchServlet DispatchServlet java cit jsp control DispatchServlet doGet DispatchServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java cit util javax servlet ValidationFilter doFilter ValidationFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java cit util javax servlet jsp XHtmlContentTypeFilter doFilter XHtmlContentTypeFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org jboss web tomcat filters ReplyHeaderFilter doFilter ReplyHeaderFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org jboss web tomcat security SecurityAssociationValve invoke SecurityAssociationValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org jboss web tomcat security JaccContextValve invoke JaccContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org jboss web tomcat service jca CachedConnectionValve invoke CachedConnectionValve java org apache catalina authenticator SingleSignOn invoke SingleSignOn java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpProcessor process AjpProcessor java org apache coyote ajp AjpProtocol AjpConnectionHandler process AjpProtocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java code insensitive camparison org apache jasper compiler Validator comparePageEncodings problem code Compares encodings places exception encoding mismatch param pageDirEnc pageEncoding attribute directive param pageDir directive node JasperException encoding mismatch String comparePageEncodings String pageDirEnc Node PageDirective pageDir JasperException Node Root root pageDir getRoot String configEnc root getJspConfigPageEncoding Compare pageEncoding attribute directive encoding JSP config element URL pattern matches Treat UTF UTF UTF identical configEnc pageDirEnc equalsIgnoreCase configEnc pageDirEnc toUpperCase startsWith UTF configEnc toUpperCase startsWith UTF err jspError pageDir jsp error config pagedir encoding mismatch configEnc pageDirEnc configEnc Compare pageEncoding attribute directive encoding XML prolog XML syntax JSP document XML prolog encoding declaration Treat UTF UTF UTF identical root isXmlSyntax root isEncodingSpecifiedInProlog root isBomPresent String pageEnc root getPageEncoding pageDirEnc equalsIgnoreCase pageEnc pageDirEnc toUpperCase startsWith UTF pageEnc toUpperCase startsWith UTF err jspError pageDir jsp error prolog pagedir encoding mismatch pageEnc pageDirEnc pageEnc pageDirEnc code
44994	JSP condition expression fails nested JSP Expression Language conditional expression conditional expression expression fails exception character question mark org apache parser ParseException Encountered column expecting org apache parser ELParser generateParseException ELParser java org apache parser ELParser consume token ELParser java org apache parser ELParser Choice ELParser java expression succeeds brackets conditional expression assume bug ELParser jjt apache tomcat src java org apache parser Choice expression WRONG QUESTIONMARK COLON Choice Choice QUESTIONMARK Choice COLON Choice Choice Diff QUESTIONMARK COLON Choice Choice QUESTIONMARK Choice COLON Choice Choice bug Tomcat
45101	DirContextURLConnection Format Header Values HTTP spec Created attachment details header values HTTP format retrieve header DirContextURLConnection returns string simply calling toString internal object matter type Object headers Modified String formatted Java standards format HTTP standard clients API expect follow bug
45212	AbstractReplicatedMap entrySet returns values entries AbstractReplicatedMap entrySet Set entrySet LinkedHashSet set LinkedHashSet size Iterator entrySet iterator hasNext Map Entry Map Entry Object key getKey MapEntry entry MapEntry key entry entry isPrimary set add entry getValue Collections unmodifiableSet set returns set values set add entry getValue set add entry
45272	Version cookie persisted cookie MIGCBgkrBgEEAYI WAOgdTBzBgorBgEEAYI WAMBoGUwYwIDAgABAgJmAwICAMAECN UUhW gKdu ABBBgywr FxNVdoCHCcNMB BDiF FIwn fKHpkJeDVFhEvyYKke zTGupImD JOcdo sELQu BbOW lhDfwdxHA version persisted correctly returned tomcat Firefox persisted tomcat issue
45279	McastServiceImpl leaks sockets McastServiceImpl close socket claims calls leaveGroup sufficient receiving messages close socket file descriptor leak time service stopped add socket close leaveGroup
45285	RESOURCES DECLARED PARENT CLASSES INJECTED Java specification Resource annotations classes listed superclass listed resource annotation inheritance hierarchy defines resource needed application component JSF managed beans EJB annotated members resource annotated injected Base EJB SomeService service Child Base Base managed bean service injected Child managed bean service injected problem source org apache catalina util DefaultAnnotationProcessor lines processAnnotations Object instance method Field fields instance getClass getDeclaredFields Method methods instance getClass getDeclaredMethods getDeclaredFields method returns access fields excludes inherited fields getDeclaredMethods
45419	Accept Ranges DefaultServlet DefaultServlet accepts Ranges request header doesn response returning Accept Ranges bytes required HTTP setting header required order Adobe Acrobat plugin correctly handle Linearized PDF speed download allowing random access PDF file strictly specification reason header safe set response DefaultServlet dealing files negative impact serving large PDF files filing bug RFE
45427	Unmatched quotes JSP parser Created attachment details Simple WAR test JSPs working broken expressions reading Sun spec JSP expressions legal string unmatched escaped single quotes single quotes string unmatched single escaped quotes quotes string unescaped single quote quotes string unescaped unmatched quote single quotes Tomcat expressions compiles files unmatched quote matched expression JSP compile expressions merged string literal insidious org apache jasper JasperException broken jsp Unterminated tag org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler Parser parseELExpression Parser java org apache jasper compiler Parser parseElements Parser java org apache jasper compiler Parser parse Parser java org apache jasper compiler ParserController doParse ParserController java org apache jasper compiler ParserController parse ParserController java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java parser implementation nested quotes escaped single surrounding quotes nested quotes don closed matched JSP implementation hand quotes matched escaped strings combination escaping parsers happy bug JSP implementation deficiency JSP specs collected expressions parser broken jsp illegal expressions working expressions working jsp small WAR file attached report don files broken jsp causing exceptions Note reason single quoted strings allowed escaped quotes vice versa expressions illegal don compile illegal jsp string escaped single quote quotes string escaped quote single quotes Note text spec implies legal grammar good sign
45441	Matching relevant servlet filters fails request forwarded situation Tomcat execute filters request forwarded handy URLRewriteFilter implementation tuckey org forwarded request internally filters matching url pattern web xml file dispatcher setting REQUEST invoked tracing code hours problem lies ApplicationDispatcher code set DISPATCHER REQUEST PATH ATTR attribue servletPath meant matches servlet path match longer exact urls fail match filter mapping filter mapping filter filter filter url pattern app level mycode url pattern dispatcher REQUEST dispatcher dispatcher dispatcher filter mapping match request forwarded app level mycode Changing url pattern app match app level servletPath app simple ApplicationDispatcher java code method processRequest called forwards change statement outerRequest setAttribute ApplicationFilterFactory DISPATCHER REQUEST PATH ATTR servletPath requestURI outerRequest setAttribute ApplicationFilterFactory DISPATCHER REQUEST PATH ATTR requestURI resolves problem examples correctly match filter includes broken manner doInclude method ApplicationDispatcher java resolve issue tested personally nice resolved Andrzej
45453	JDBCRealm getRoles bad synchronization hangs DIGEST authentication JDBCRealm getRoles bad synchronization hangs DIGEST authentication JDBCRealm caches PreparedStatement preparedRoles missing synchronization JDBCRealm DigestAuthenticator threads call getRoles simultaneously stmt executeQuery stmt setString userName executeQuery PreparedStatement object worst JDBC driver confused blocks waiting server response causing threads access hang observed PostgreSQL jdbc JDBC driver org postgresql jdbc AbstractJdbc Statement execute AbstractJdbc Statement java org postgresql jdbc AbstractJdbc Statement executeWithFlags AbstractJdbc Statement java org postgresql jdbc AbstractJdbc Statement executeQuery AbstractJdbc Statement java org apache catalina realm JDBCRealm getRoles JDBCRealm java org apache catalina realm JDBCRealm getPrincipal JDBCRealm java org apache catalina realm RealmBase authenticate RealmBase java org apache catalina authenticator DigestAuthenticator findPrincipal DigestAuthenticator java org apache catalina authenticator DigestAuthenticator authenticate DigestAuthenticator java
45576	JAASRealm working DigestAuthenticator JAASRealm DigestAuthenticator JAASRealm overrides authenticate String String DigestAuthenticator calls authenticate String String String String String String String String bug CLIENT CERT authentication
45618	Selector closed ParallelNioSender Selector selector declared field opened selector Selector open closed situations Javadoc close method method called close selector http google codesearch lang java open java nio channels Selector hsMlF ZSXpd LkuTzG http archive apache org dist tomcat tomcat src apache tomcat src tar apache tomcat src java org apache catalina tribes transport nio ParallelNioSender java http archive apache org dist tomcat tomcat src apache tomcat src tar apache tomcat src java org apache catalina tribes transport nio ParallelNioSender java http java sun docs api java nio channels Selector html
45628	ExtensionValidator doesn handle wrapped lines MANIFEST Deploying webapps commons attributes api jar commons attributes compiler jar downloaded Maven repository fail message ExtensionValidator lines Required extension ant MANIFEST file jars wrapped lines JAR spec lines longer bytes wrap MANIFEST files lines ant Implementation URL http ibiblio org maven ant jars ant jar evidently ExtensionValidator complain edit MANIFEST files eliminate continuation ant Implementation URL http ibiblio org maven ant jars ant jar errors
45785	ClassCastException directory jar exists WEB INF lib Exception occurs directory WEB INF lib jar foo jar Don sense create dir WEB INF lib bug tool created dir Tomcat crash directory IMHO java lang ClassCastException org apache naming resources FileDirContext org apache naming resources Resource org apache catalina util ExtensionValidator validateApplication ExtensionValidator java org apache catalina core StandardContext start StandardContext java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig deployDescriptors HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardHost start StandardHost java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardEngine start StandardEngine java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java
45851	FarmWarDeployer fails properly unpack copied war target node Created attachment details files reproduce issue deploy war cluster war deploy locally listener directory corruption moving war wire deployer target node properly unpack read files Pertinent portion log target node attached provide info needed pertinent test war simply war copy Tomcat Manager web app reproduce Configure nodes SimpleTCPCluster version node drop test war listen directory test war deployed locally test war copies webapps directory target test war fully deploy target Expected war unpacked deployed locally copied node cluster war unpacked deployed node cluster
45906	ResourceAttributes ETag handling Created attachment details ResourceAttributes ETag handling ResourceAttributes clients problems WRT ETag handling ResourceAttributes getetag attribute WebDav doesn expose HTTP header compatible ALTERNATE ETAG attribute attributes ResourceAttributes doesn expose ETag getIDs getAll String methods meaning FileDirContext FileResourceAttributes won DirContextURLConnection clients attributes ResourceAttributes API confusing setETag String sets strong etag getETag returns weak etag ResourceAttributes getETag broken sets result variable ETAG attribute proceeds overwrite result strongETag weakETag user ResourceAttributes getETag DefaultServlet getETag ResourceAttributes calls ResourceAttributes getETag ResourceAttributes getETag succession method totally removed making access consistent attributes simpler ResourceAttributes getETag strong tag fallback returning weak DefaultServlet getETag ResourceAttributes method redundant dead code path generate weak etag content length modified values returned ResourceAttributes getETag attached patch trunk FYI continuation DirContextURLConnection problems fixed bug
45977	Duplicate comment code CoyoteAdapter java XXX comments XXX represents Parse additional request parameters postParseRequest org apache coyote Request req Request request org apache coyote Response res Response response Exception XXX processor set correct scheme port prior point ajp protocols dont sense port connector XXX processor set correct scheme port prior point ajp protocols dont sense port connector connector configuration req scheme isNull processor scheme determine secure request setSecure req scheme equals https
46011	access Principal Subject getSubject AccessController getContext access Principal Subject getSubject AccessController getContext Problem method internalDoFilter ApplicationFilterChain call filter chain code determinate Principal don Globals SECURITY ENABLED ServletRequest req request ServletResponse res response Principal principal HttpServletRequest req getUserPrincipal Object args Object req res SecurityUtil doAsPrivilege doFilter filter classType args args manner SecurityUtil doAsPrivilege called Principal method execute create Subject Principals call Subject doAsPrivileged subject pea propagate Principals Subject Principals calling Subject getSubject AccessController getContext attachment send solution
46051	Servlet response writer respect separator system property Created attachment details remove special CoyoteWriter println handling doGet HttpServletRequest request HttpServletResponse response ServletException IOException response setContentType text plain PrintWriter writer response getWriter writer print writer println FIXME ignores System getProperty separator outputs servlet Writer Unix system output text based data format defined requiring Unix format endings data corrupted appears org apache catalina connector CoyoteWriter SEP println write SEP work Tomcat code http svn apache org repos asf tomcat archive tags connectors coyote src java org apache coyote tomcat CoyoteWriter java appears defer endings PrintWriter base change output HTTP headers properly override behavior don code determine attached patch revert behavior consideration
46096	DefaultAnnotationProcessor processAnnotations doPrivileged call getDeclaredFields tomcat running SecurityManager JSP PageContext DefaultAnnotationProcessor code called untristed code call stack processAnnotations method Field fields instance getClass getDeclaredFields getDeclaredFields subject security checks java security AccessControlException DefaultAnnotationProcessor code catlina lib directory granted AllPermissions standard policy file untrusted JSP code stack permissions call getDeclaredFields wrapped AccessController doPrivileged call avoid exception
46105	URIEncoding doesn affect form authentication redirect reproduce bug Configure tomcat connector URIEncoding UTF attribute simple write request parameter Configure form based authentication access site jsp UTF charset accessed time authentication parameter incorrectly interpreted ISO UTF subsequent access URI site jsp perfect result useBobyEncodingForURI request setCharacterEncoding UTF changed
46243	Filter init fails service securityfilter misconfigured filter existent Realm ClassNotFoundException securityfilter init method attempting authenticate error Processor ERROR org apache catalina core ContainerBase Catalina localhost diagnosis Servlet service servlet threw exception java lang NullPointerException org securityfilter filter SecurityFilter doFilter SecurityFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org securityfilter filter CheckIPAddressFilter doFilter CheckIPAddressFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org childhealthcare diagnosis servlet BrokenLocaleFilter doFilter BrokenLocaleFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org childhealthcare diagnosis servlet EncodingFilter doFilter EncodingFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache server JkCoyoteHandler invoke JkCoyoteHandler java org apache common HandlerRequest invoke HandlerRequest java org apache common ChannelSocket invoke ChannelSocket java org apache common ChannelSocket processConnection ChannelSocket java org apache common ChannelSocket SocketConnection runIt ChannelSocket java org apache tomcat util threads ThreadPool ControlRunnable ThreadPool java java lang Thread Thread java exception legitimate uninitialized object filter dereferenced NPE thrown problem Tomcat initializing filter doFilter method called init fail configuration filter service NPE observed servlet spec container ensure instantiated filter filter list called init FilterConfig config method filter exception function properly exception type UnavailableException container examine isPermanent attribute exception choose retry filter time explicitly stated call init successful exceptions thrown filter service servlet handled Filters rely objects properly initialized init
46252	Tomcat access log doesn support Unicode AccessLogValve responsible handling access log FileWriter doesn support Unicode guess instantiating writer solve writer PrintWriter OutputStreamWriter FileOutputStream pathname UTF
46261	Context tomcat crash shutdown Context tomcat crash shutdown years worked integrating tomcat web application management infrastructure process fixed tomcat bugs fixes upstream Oops application deployed create URL product customername servlet worked people IRC tomcat path parameter context xml file element tomcat appears feature removed tomcat tomcat recurse subdirectories reading xml context files recommendation IRC suggestions work environment context xml file product Fcustomername xml work shutdown tomcat crash Nov org apache coyote http Http Protocol pause INFO Pausing Coyote HTTP http Nov org apache catalina core StandardService INFO Stopping service Catalina Nov org apache catalina startup HostConfig undeployApps WARNING Error removing context product Fcustomername java lang NullPointerException org apache catalina core ContainerBase removeChild ContainerBase java org apache catalina startup HostConfig undeployApps HostConfig java org apache catalina startup HostConfig HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina core ContainerBase ContainerBase java org apache catalina core ContainerBase ContainerBase java org apache catalina core StandardEngine StandardEngine java org apache catalina core StandardService StandardService java org apache catalina core StandardServer StandardServer java org apache catalina startup Catalina Catalina java org apache catalina startup Catalina CatalinaShutdownHook Catalina java Nov org apache coyote http Http Protocol destroy INFO Stopping Coyote HTTP http
46264	Shutting tomcat large number contexts slow Shutting tomcat large number contexts slow sandbox testing environments tomcat loaded contexts large heap contexts large applications seconds shutdown time spent shutting application spent local app server CPU shutting remote resources Announcing application JMS flushing write buffers closing connections closing JMS connections closing log connections Shutting tomcat typically takes minutes shuts context time
46357	FarmWarDeployer nonsense condition FarmWarDeployer code econtainer econtainer Engine wrong condition
46381	Coerce expression java lang Object breaks expression concatenation Created attachment details Source file simple set tag expression concatenation tag breaks stack trace org apache jasper JasperException Unable compile JSP error occurred jsp file templates paragraphs notizia jsp undefined argument type java lang Object java lang Object test empty node link set node link url test startsWith url http set pageContext request contextPath url url set target href url target node testo Stacktrace org apache jasper compiler DefaultErrorHandler javacError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher javacError ErrorDispatcher java org apache jasper compiler JDTCompiler generateClass JDTCompiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doInclude ApplicationDispatcher java org apache catalina core ApplicationDispatcher include ApplicationDispatcher java info magnolia context WebContextImpl include WebContextImpl java info magnolia module templating paragraphs JspParagraphRenderer render JspParagraphRenderer java info magnolia cms beans config ParagraphRenderingFacade render ParagraphRenderingFacade java info magnolia cms beans config ParagraphRenderingFacade render ParagraphRenderingFacade java info magnolia cms taglibs Include doEndTag Include java org apache jsp templates paragraphs bloccoInfo jsp jspx meth cms fincludeTemplate bloccoInfo jsp java org apache jsp templates paragraphs bloccoInfo jsp jspx meth cms fcontentNodeIterator bloccoInfo jsp java org apache jsp templates paragraphs bloccoInfo jsp jspService bloccoInfo jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doInclude ApplicationDispatcher java org apache catalina core ApplicationDispatcher include ApplicationDispatcher java info magnolia context WebContextImpl include WebContextImpl java info magnolia module templating paragraphs JspParagraphRenderer render JspParagraphRenderer java info magnolia cms beans config ParagraphRenderingFacade render ParagraphRenderingFacade java info magnolia cms beans config ParagraphRenderingFacade render ParagraphRenderingFacade java info magnolia cms taglibs Include doEndTag Include java org apache jsp templates firstlevelgruppo jsp jspx meth cms fincludeTemplate firstlevelgruppo jsp java org apache jsp templates firstlevelgruppo jsp jspx meth cms fcontentNodeIterator firstlevelgruppo jsp java org apache jsp templates firstlevelgruppo jsp jspService firstlevelgruppo jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java info magnolia cms filters MgnlMainFilter doFilter MgnlMainFilter java info magnolia cms filters MgnlMainFilter doFilter MgnlMainFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java info magnolia module templating renderers JspTemplateRenderer renderTemplate JspTemplateRenderer java info magnolia cms filters RenderingFilter doFilter RenderingFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters BackwardCompatibilityFilter doFilter BackwardCompatibilityFilter java info magnolia cms filters OncePerRequestAbstractMgnlFilter doFilter OncePerRequestAbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters InterceptFilter doFilter InterceptFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters AggregatorFilter doFilter AggregatorFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms security BaseSecurityFilter doFilter BaseSecurityFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters RepositoryMappingFilter doFilter RepositoryMappingFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters CompositeFilter doFilter CompositeFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters CompositeFilter doFilter CompositeFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters VirtualUriFilter doFilter VirtualUriFilter java info magnolia cms filters OncePerRequestAbstractMgnlFilter doFilter OncePerRequestAbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms nContentSupportFilter doFilter nContentSupportFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java net sourceforge stripes controller StripesFilter doFilter StripesFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia module cache executor Bypass processCacheRequest Bypass java info magnolia module cache filter CacheFilter doFilter CacheFilter java info magnolia cms filters OncePerRequestAbstractMgnlFilter doFilter OncePerRequestAbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia module cache filter GZipFilter doFilter GZipFilter java info magnolia cms filters OncePerRequestAbstractMgnlFilter doFilter OncePerRequestAbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters CosMultipartRequestFilter doFilter CosMultipartRequestFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms security BaseSecurityFilter doFilter BaseSecurityFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms security LogoutFilter doFilter LogoutFilter java info magnolia cms filters OncePerRequestAbstractMgnlFilter doFilter OncePerRequestAbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms security login LoginFilter doFilter LoginFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters ContentTypeFilter doFilter ContentTypeFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters ContextFilter doFilter ContextFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlFilterChain doFilter MgnlFilterChain java info magnolia cms filters CompositeFilter doFilter CompositeFilter java info magnolia cms filters AbstractMgnlFilter doFilter AbstractMgnlFilter java info magnolia cms filters MgnlMainFilter doFilter MgnlMainFilter java info magnolia cms filters MgnlMainFilter doFilter MgnlMainFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java ragno web filters LocaleSyncFilter doFilter LocaleSyncFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org springframework orm hibernate support OpenSessionInViewFilter doFilterInternal OpenSessionInViewFilter java org springframework web filter OncePerRequestFilter doFilter OncePerRequestFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java
46403	Persistent cookies written work Internet Explorer Safari blog post Google searching problem explanation http cephas net blog tomcat version cookies acegi remember summarize Tomcat writes persistent cookie headers changed Set Cookie yankeessuck YWFyb MTIyODI ODEwMjk NjoyOGM ODc YzExOGZiOGZjZTBkZDE ZTA ZWRhZTM Expires Thu Nov GMT Set Cookie yankeessuck YWFyb MTIyODI ODEwMjk NjoyOGM ODc YzExOGZiOGZjZTBkZDE ZTA ZWRhZTM Version Max Age enclosed quotes Version parameter Expires parameter replaced Max Age parameter cookies written correctly specification Internet Explorer Safari support Max Age parameter result application writing persistent cookies version Tomcat won work Internet Explorer Safari
46462	JSPWiki JSP compilation prevented org apache jasper Constants JSP JSPWiki Incubator project Apache intend org apache jspwiki classes tree fail load imported JSP Jasper attempt compile org apache jspwiki WikiPage compile colleague Harry Metske traced org apache jasper servlet JasperLoader startsWith Constants JSP org apache jsp parent load clazz parent loadClass resolve resolveClass clazz clazz recommended bug append period expression passed startsWith evaluate org apache jsp JSPWiki classes load compile issue emerge incubation Lack JSPWiki release desired org apache jspwiki additional commentary Apache JIRA database https issues apache org jira browse JSPWIKI
46471	Compiled tag files tag libraries share web application tag libraries packed jar files tag files files compiled share org apache jsp tag meta result tags libraries survives encountered investigating bug comment
46564	tagx files don compile document encoding casing differs Jasper raise error WEB INF tags sampletaglib sampletag tagx encoding XML prolog iso directive ISO encoding XML prolog directive casing xml version encoding iso jsp root xmlns jsp http java sun JSP version jsp directive tag display sampletag pageEncoding ISO sample tag jsp root Proposed solution Compare encodings insensitive iso ISO valid identifiers encoding
46666	disableUploadTimeout KeepAliveTimeout correlated Http Connector Http Processor java started error keepAlive Parsing request header disableUploadTimeout keptAlive keepAliveTimeout socket setSoTimeout keepAliveTimeout soTimeout socket setSoTimeout soTimeout inputBuffer parseRequestLine request setStartTime System currentTimeMillis keptAlive disableUploadTimeout socket setSoTimeout timeout disableUploadTimeout flag servlet container longer connection timeout servlet executed servlet longer amount time complete execution longer timeout data upload attribute set code waiting Http Request precedes servlet processing logic odd set disableTimeout keepAliveTimeout set set keepalivetimout implicitely enable upload timeout disableTimeout unneccessary disableUploadTimeout keptAlive agree insight
46819	Remove redundant object instantiations JspRuntimeLibrary Created attachment details Patch file replace valueOf valueOf parse perusing code noticed java org apache jasper runtime JspRuntimeLibrary java code improved coerce methods instantiating objects convert primitives valueOf booleanValue rewritten simplified parseBoolean pattern repeated numerous primitive types Objects instantiated calling valueOf valueOf Java API valueOf generally preference constructor method yield space time performance toString methods instantiating temporary object turn string Integer toString rewritten simplified Integer toString pattern repeated numerous primitive types liberty creating patch yield improved performance reduce memory footprint
46866	Seed current time useless fgrep Random System currentTimeMillis places Random initialized seed currentTimeMillis unnecessary seed initialization Random constructor
46915	Unable ResourceBundle Tomcat Created attachment details modified foreach jsp file reads properties file issue ResourceBundle JSTL tomcat problem code messageString resourceBundle code resolve result printing messageString variable set code fmt setBundle basename LocalStrings scope session messageString tested jsp tomcat webapp issue reproducible JSTL JSTL JDK working fine Tomcat Attached sample foreach jsp modified code read property file webapps examples WEB INF classes folder tomcat installation directory place file examples webapp view source
46933	Java StringManager Created attachment details update method java Java StringManager
46947	Code cleanup patch removes obsolete checks Created attachment details Patch trunk discussed ApacheCon Mark Peter patch trunk removes obsolete checks variable dereferenced earlier patch doesn issues Findbugs reports RCN category confirm remaining suspect alarms Note reviewer diffs Generator java hard follow patch file easier remove attrInfos check original code
46950	SSL renegotiation occur resource CLIENT CERT requested webapp requires SSL connection client certificate SSL renegotiation request client certificate browser configuration webapp SSL connector login config LoginConfig method CLIENT CERT method realm WPS realm login config security constraint SecurityConstraint web resource collection WebResourceCollection web resource url pattern LoginWithCert url pattern http method DELETE http method http method http method http method POST http method http method http method http method HEAD http method web resource collection user data constraint UserDataConstraint transport guarantee CONFIDENTIAL transport guarantee user data constraint security constraint Requests LoginWithCert require SSL connection isn client certificate requested
46958	manager XML hard coded path XSL transformation manager XML installed path manager failing find xform xsl file needed XSL transformation Fails http mymanager status XML Works http manager status XML Reason error Tomcat sources org apache catalina manager Constants XML STYLE returns constant xml stylesheet type text xsl href manager xform xsl manager modified match webapp path Caller org apache catalina util RequestUtil StatusTransformer writeHeader PrintWriter writer String contextPath mode TODO current virtual webapp path parameter writer write Constants XML STYLE sidenote org apache catalina manager host Constants hard coded problems unreferenced current sources unused
46967	ManagerBase setRandomFile error handling platforms device file dev urandom pass exists test IOException kind open current code ManagerBase setRandomFile doesn handle call getRandom log error Failed close randomIS method add proper error handling correct marked kjw setRandomFile String hack file genarate session ids good strange debugging Globals SECURITY ENABLED randomIS DataInputStream AccessController doPrivileged PrivilegedSetRandomFile devRandomSource File File devRandomSource exists randomIS DataInputStream FileInputStream randomIS readLong log isDebugEnabled log debug Opening devRandomSource IOException log debug Error reading devRandomSource kjw randomIS kjw opened randomIS close Exception log warn Failed close randomIS kjw devRandomSource kjw don automatically randomIS
46985	Impossible condition coyote http Http Processor process Socket socket coyote http Http Processor process Socket socket soTimeout socket getSoTimeout oldSoTimeout soTimeout threadRatio endpoint getCurrentThreadsBusy endpoint getMaxThreads threadRatio keepAliveLeft soTimeout oldSoTimeout condition code reset timeout changed method variable called socket problem method set instance socket timeout parameter socket vice versa socket parameter renamed Note Javadoc appears completely wrong
46988	JMXAccessorTask String constants Created attachment details Patch fields JMXAccessorTask String constants
46998	small TaskThreadFactory Created attachment details change scope change scope
47046	Shutdown unregister MBeans Created attachment details Simple driver highlight problem start Tomcat Catalina unregister MBeans list left Catalina type RequestProcessor worker http HttpRequest Catalina type MBeanFactory Catalina type Engine Catalina type JkWorkerEnv Catalina type StringCache Catalina type Host host localhost Catalina type JkMain Catalina type JkHandler channelSocket Catalina type Server Catalina type JkHandler request Catalina type Connector port Catalina type Connector port attached simple reproduce list
47050	StandardHostValve status unnecessarily HTML escapes error message written JSP prints request attributes verbatimly output access http localhost roland amp outputs HTML code body javax servlet error message roland amp amp javax servlet error request uri roland amp body surprised error message HTML escaped error request hasn intention escaping feels Catalina imitating PHP magic quotes shouldn opinion error message copied request attribute passed RequestUtil filter programmer write log files text plain error unfiltering
47111	caching resources docu StringManager Created attachment details caching resources docu caching resources docu https issues apache org bugzilla bug cgi
47158	AccessLogValve race condition problem Checked Locking pattern heavily usage AccessLogValve issues race condition judging article http umd pugh java memoryModel DoubleCheckedLocking html Based article variables declared rid race condition currentMillis currentDate
47216	NPE Http Processor action code actionCode ActionCode ACTION REQ LOCAL ADDR ATTRIBUTE localAddr localAddr socket getLocalAddress getHostAddress fails check socket checked method bug method Http Processor parseHost references socket checking called process Socket guarantees won process returns socket set parseHost method called socket parseHost method
47237	hard limit Http NioProcessor objects objects cached alive connections large amount connections memory consumption http tomcat markmail org message vyk mjymxzjsxwao NIOConnector high memory consumption
47320	Decoding jsessionid bug receive rewritten URL uss unix mainframe Tomcat properly decode jsessionid portion URL problem org apache catalina connector CoyoteAdapter parseSessionId method instantiations String object encdoding String sid String uriBC getBuffer start sessionIdStart semicolon sessionIdStart String instantiation method encoding EBCDIC recompile hardcoded UTF encoding jsessionid decodes properly suggesting literally official String sid String uriBC getBuffer start sessionIdStart semicolon sessionIdStart UTF
47330	proposal port mod remoteip Tomcat RemoteIpValve Created attachment details version proposed patch proposal port Apache Server mod remoteip module Tomcat Valve actual user remote ServletRequest getRemoteAddr ServletRequest getRemoteHost methods reverse proxies Apache Http Server mod proxy http mod proxy balancer hardware load balancer Big feature benefit security audit frameworks SpringSecurity ServletRequest getRemoteAddr eventing mechanism track web user proposal composed RemoteIpValve java proposed standalone code RemoteIpValveTest java test cases validate behavior Note existing Tomcat code modified proposed Valve Documentation mod remoteip http httpd apache org docs trunk mod mod remoteip html Main differences mod remoteip RemoteIpValve RemoteIpValve regular expressions express network subnets mod remoteip address blocks request filters valves RemoteAddrValve RemoteHostValve regular expressions address blocks library Tomcat apr ipsubnet test httpd directives RemoteIPInternalProxyList RemoteIPTrustedProxyList ported configuration server xml oriented limited java equivalents RemoteIPInternalProxy RemoteIPTrustedProxy Sample configuration Valve className org apache catalina connector RemoteIpValve allowedInternalProxies remoteIPHeader forwarded remoteIPProxiesHeader forwarded trustedProxies proxy proxy Configuration parameters REMOTEIPVALVE PROPERTY EQUIVALENT MOD REMOTEIP DIRECTIVE FORMAT remoteIPHeader RemoteIPHeader Compliant http header string forwarded internalProxies RemoteIPInternalProxy Comma delimited list regular expressions syntax supported Pattern library allowed enabled complex describe regular expressions proxiesHeader RemoteIPProxiesHeader Compliant http header String forwarded trustedProxies RemoteIPTrustedProxy Comma delimited list regular expressions syntax supported Pattern library Reason RemoteIpValve declared catalina connector catalina valves Request setRemoteAddr String Request setRemoteHost String methods RemoteIpValve visibility modify Request remoteAddr Request remoteHost fields RemoteIpValve moved catalina valves Request setRemoteAddr String Request setRemoteHost String methods longer modify underlying fields
47331	translation error messag template text JSP requires translation error expression templated text JavaServer Expression Language Specification Tomcat erronously parse expression Tomcat rightly issue error JSP specs requires clarify JSP snip snip xml version encoding UTF jsp root version xmlns jsp http java sun JSP xmlns http java sun jsp jstl core xmlns http java sun jsf core xmlns http java sun jsf html jsp directive contentType text html charset UTF pageEncoding UTF jsp output omit xml declaration doctype root element html doctype DTD XHTML Transitional doctype system http org xhtml DTD xhtml transitional dtd view html xmlns http org xhtml head link rel stylesheet href facesContext externalContext requestContextPath resources theme current css screen css type text css link rel shortcut icon href facesContext externalContext requestContextPath resources theme current img favicon ico type image icon head body body html view jsp root snip Tomcat snip xml version encoding UTF DOCTYPE html DTD XHTML Transitional http org xhtml DTD xhtml transitional dtd html xmlns http org xhtml head link rel stylesheet href web app resources theme current css screen css type text css link rel shortcut icon href web app resources theme current img favicon ico type image icon head html snip Tomcat snip xml version encoding UTF DOCTYPE html DTD XHTML Transitional http org xhtml DTD xhtml transitional dtd html xmlns http org xhtml head link rel stylesheet href facesContext externalContext requestContextPath resources theme current css screen css type text css link rel shortcut icon href facesContext externalContext requestContextPath resources theme current img favicon ico type image icon head html snip error warning message log discussion post tomcat user http mail archives apache org mod mbox tomcat users mbox bfdc fvf mail gmail subsequent replies
47343	Fails deploying update context xml context xml conf engine host directory updated docBase directory deleted fails deploying Reproduction context assumed testWebapp Tomcat webapps testWebapp META INF context xml prepared Context xml conf engine host directory deployed Tomcat started testWebapp xml created conf engine host directory testWebapp xml conf engine host updated Result Tomcat webapps testWebapp directory deleted fixed http svn apache org viewvc view rev revision order resource HostConfig DeployedApplication redeployResources changed order redploy resources Deploy war war context xml conf engine host doceBase directory Deploy directory doceBase directory context xml META INF context xml Deploy war context xml conf engine host war doceBase directory Deploy directory context xml META INF context xml doceBase directory HostConfig checkResources resources length omits resource isDirectory resource lastModified lastModified omits Delete redeploy resources resources length File current File resources omits ExpandWar delete current IOException log warn getString hostConfig canonicalizing app omits testWebapp xml conf engine host updated directory deleted war directory deleted result fails deploying deploy context xml docBase direcotry doesn exist
47364	HttpServletRequest getAttributeNames names attributes email exchange involved Ranier attachment suggested log Bugzilla Tomcat Windows latest Java JVM doGet method servlet request attributes sendfile supported attribute set request attribute org apache tomcat sendfile support pass HttpServletRequest getAttributeNames dump names attributes expecting listed attributes listed attribute getAttribute org apache tomcat sendfile support worked getAttributeNames returning names attributes getAttributeNames fixed names attributes code change Tomcat doc updated thatgetAttributeNames returns attributes blah blah doc change original email Ranier reply attached
47413	difference composite expressions Tomcat tag undefined reference snippet outputs empty string Tomcat outputs critical bug ASAP foo undefined bar
47453	JasperException deferred method type Created attachment details Zipped Eclipse projects JSF sample application bookstore SUN Java Tutorial running Environment Tomcat Version Eclipse Version Java JDK Version jdk http java sun javaee docs tutorial doc bnara html jsf api jar jsf impl jar jstl jar Tomcat lib directory created project bookstoreJSF utility project bookstore populated sample source files Java tutorial created Tomcat Server Eclipse workspace project Tomcat Server server web application started fine directed browser Firefox starting project http localhost bookstoreJSF Jasper Exception org apache jasper JasperException chooselocale jsp Unknown attribute type attribute actionListener org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler Validator ValidateVisitor checkXmlAttributes Validator java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Validator validateExDirectives Validator java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java sun faces context ExternalContextImpl dispatch ExternalContextImpl java sun faces application ViewHandlerImpl executePageToBuildView ViewHandlerImpl java sun faces application ViewHandlerImpl renderView ViewHandlerImpl java sun faces lifecycle RenderResponsePhase execute RenderResponsePhase java sun faces lifecycle Phase doPhase Phase java sun faces lifecycle LifecycleImpl render LifecycleImpl java javax faces webapp FacesServlet service FacesServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java org apache jasper runtime PageContextImpl doForward PageContextImpl java org apache jasper runtime PageContextImpl PageContextImpl java org apache jsp jsp jspService jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java problem actionListener defined taglib bookstore tld attached project bookstoreJSF method signature type work problem looked source code org apache jasper compiler Validator understand method ValidateVisitor checkXmlAttributes checks deferred method type taglib call JspUtil toClass fires ClassNotFoundException method type triggers JasperException invalid attribute type Tomcat console test deferred type perfectly correct type deferred method legally specifiable
47462	annotation doesn effective metadata complete effective set metadata complete annotation doesn effective invalidate annotation Web applications Tomcat metadata complete conf web xml set conf web xml web app xmlns http java sun xml javaee xmlns xsi http org XMLSchema instance xsi schemaLocation http java sun xml javaee http java sun xml javaee web app xsd version metadata complete web app annotation Web application testWebApp effective metadata complete webapps testWebApp WEB INF web xml set webapps testWebApp WEB INF web xml web app xmlns http java sun xml javaee xmlns xsi http org XMLSchema instance xsi schemaLocation http java sun xml javaee http java sun xml javaee web app xsd version metadata complete web app testWebApp doesn annotation effective WebRuleSet IgnoreAnnotationsRule metadata complete context setIgnoreAnnotations invoked WebRuleSet IgnoreAnnotationsRule IgnoreAnnotationsRule Rule IgnoreAnnotationsRule String namespace String Attributes attributes Exception Context context Context digester peek digester getCount String attributes getValue metadata complete equals context setIgnoreAnnotations digester getLogger isDebugEnabled digester getLogger debug context getClass getName setIgnoreAnnotations context getIgnoreAnnotations patches java org apache catalina startup WebRuleSet java java org apache catalina startup WebRuleSet java revision java org apache catalina startup WebRuleSet java working copy String attributes getValue metadata complete equals context setIgnoreAnnotations equals context setIgnoreAnnotations digester getLogger isDebugEnabled digester getLogger debug
47478	DeltaSession ignores notifyListenersOnReplication BackupManager BackupManager DeltaSession notifies session listener notifyListenersOnReplication set DeltaSession applyDiff codes applyDiff diff offset length IOException ClassNotFoundException getDeltaRequest execute Thread currentThread setContextClassLoader contextLoader unlock DeltaSession notifies session listener notifyListenersOnReplication notify session listener notifyListenersOnReplication set add notifyListenersOnReplication parameter DeltaRequest execute invoked instance start java org apache catalina session DeltaSession java java org apache catalina session DeltaSession java revision java org apache catalina session DeltaSession java working copy ClassLoader loaders getClassLoaders loaders loaders length Thread currentThread setContextClassLoader loaders getDeltaRequest execute getDeltaRequest execute ClusterManager getManager isNotifyListenersOnReplication Thread currentThread setContextClassLoader contextLoader
47499	provide insight BindException assign requested address cite address attempt listen port proper exception chaining info lost java net BindException assign requested address java net PlainSocketImpl socketBind Method java net PlainSocketImpl bind PlainSocketImpl java java net ServerSocket bind ServerSocket java java net ServerSocket init ServerSocket java javax net ssl SSLServerSocket init SSLServerSocket java privasphere net ssl SSLServerSocketImpl init SSLServerSocketImpl java privasphere net ssl SSLServerSocketFactoryImpl createServerSocket SSLServerSocketFactoryImpl java org apache tomcat util net jsse JSSESocketFactory createSocket JSSESocketFactory java org apache tomcat util net PoolTcpEndpoint initEndpoint PoolTcpEndpoint java org apache coyote http Http BaseProtocol init Http BaseProtocol java org apache catalina connector Connector initialize Connector java org apache catalina core StandardService initialize StandardService java
47502	clustering fails serializing javax security subject Clustering fails serializing javax security subject stack looked Tomcat code java org apache catalina connector Request java Tomcat puts javax security subject session securitymanager MemoryUser securitymanager RMI solution making MemoryUser serializable putting session attribute Mark Thomas markt apache dot org suggested note session Tomcat user mailinglist notes sessions MemoryUser security constraint web xml Jul org apache catalina session DeltaSession writeObject SEVERE serialize session attribute javax security subject session java NotSerializableException org apache catalina users MemoryUser java ObjectOutputStream writeObject ObjectOutputStream java java ObjectOutputStream writeObject ObjectOutputStream java java util LinkedList writeObject LinkedList java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeWriteObject ObjectStreamClass java java ObjectOutputStream writeSerialData ObjectOutputStream java java ObjectOutputStream writeOrdinaryObject ObjectOutputStream java java ObjectOutputStream writeObject ObjectOutputStream java java ObjectOutputStream access ObjectOutputStream java java ObjectOutputStream PutFieldImpl writeFields ObjectOutputStream java java ObjectOutputStream writeFields ObjectOutputStream java javax security Subject SecureSet writeObject Subject java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeWriteObject ObjectStreamClass java java ObjectOutputStream writeSerialData ObjectOutputStream java java ObjectOutputStream writeOrdinaryObject ObjectOutputStream java java ObjectOutputStream writeObject ObjectOutputStream java java ObjectOutputStream defaultWriteFields ObjectOutputStream java java ObjectOutputStream defaultWriteObject ObjectOutputStream java java util Collections SynchronizedCollection writeObject Collections java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeWriteObject ObjectStreamClass java java ObjectOutputStream writeSerialData ObjectOutputStream java java ObjectOutputStream writeOrdinaryObject ObjectOutputStream java java ObjectOutputStream writeObject ObjectOutputStream java java ObjectOutputStream defaultWriteFields ObjectOutputStream java java ObjectOutputStream defaultWriteObject ObjectOutputStream java javax security Subject writeObject Subject java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java java ObjectStreamClass invokeWriteObject ObjectStreamClass java java ObjectOutputStream writeSerialData ObjectOutputStream java java ObjectOutputStream writeOrdinaryObject ObjectOutputStream java java ObjectOutputStream writeObject ObjectOutputStream java java ObjectOutputStream writeObject ObjectOutputStream java org apache catalina session DeltaSession writeObject DeltaSession java org apache catalina session DeltaSession writeObjectData DeltaSession java org apache catalina session DeltaSession writeObjectData DeltaSession java org apache catalina session DeltaManager serializeSessions DeltaManager java org apache catalina session DeltaManager sendSessions DeltaManager java org apache catalina session DeltaManager handleGET SESSIONS DeltaManager java org apache catalina session DeltaManager messageReceived DeltaManager java org apache catalina session DeltaManager messageDataReceived DeltaManager java org apache catalina session ClusterSessionListener messageReceived ClusterSessionListener java org apache catalina tcp SimpleTcpCluster messageReceived SimpleTcpCluster java org apache catalina tcp SimpleTcpCluster messageReceived SimpleTcpCluster java org apache catalina tribes group GroupChannel messageReceived GroupChannel java org apache catalina tribes group ChannelInterceptorBase messageReceived ChannelInterceptorBase java org apache catalina tribes group ChannelInterceptorBase messageReceived ChannelInterceptorBase java org apache catalina tribes group interceptors TcpFailureDetector messageReceived TcpFailureDetector java org apache catalina tribes group ChannelInterceptorBase messageReceived ChannelInterceptorBase java org apache catalina tribes group ChannelCoordinator messageReceived ChannelCoordinator java org apache catalina tribes transport ReceiverBase messageDataReceived ReceiverBase java org apache catalina tribes transport nio NioReplicationTask drainChannel NioReplicationTask java org apache catalina tribes transport nio NioReplicationTask NioReplicationTask java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java
47515	Tomcat replicate session started System Tomcat Server Tomcat version Replication method Delta Manager stopped Tomcat restarted Tomcat Tomcat log Jul org apache catalina session DeltaManager getAllClusterSessions WARNING Manager tpcw Drop message SESSION DELTA SESSIONS sync phase start message Jul org apache catalina session DeltaManager getAllClusterSessions WARNING Manager tpcw Drop message SESSION ACCESSED SESSIONS sync phase start message TimeStamp incorrect SESSION DELTA SESSION ACCESSED isn created time session Tomcat drop session data result Tomcat replicate session TimeStamp updated update replicated time patch DeltaManager patch java org apache catalina session DeltaManager java java org apache catalina session DeltaManager java revision java org apache catalina session DeltaManager java working copy update replicated time msg session setLastTimeReplicated System currentTimeMillis msg session setLastTimeReplicated System currentTimeMillis msg setTimestamp session getLastTimeReplicated msg IOException log error getString deltaManager createMessage unableCreateDeltaRequest sessionId
47518	Valve Javadocs invoke method references existent method appears Valve javadoc hasn updated snip website guess Response generated control returned call Valve pipeline executing context invokeNext Modify HTTP headers included Response invokeNext method returned Perform actions output stream Response invokeNext method returned invokeNext method existed Valve versions replacement getNext invoke request response happy provide doc patch getNext invoke request response expected replacement invokeNext request response Note docs problem log separately
47744	Memory leak SSL Java security manager Created attachment details zip main bug test client JSP server patch SSL java security manager Tomcat leaks memory servlets access cert path cipher request properties servlet JSP asks properties request loaded JSSESupport offending method calculates key size attempts cache SSLSession security manager fine security manager runs AccessControlContext time Retrieving cache putting SSLSession cache leaks memory JVM bug Tomcat fault Tomcat exercising Popular web service tools Apache CXF retrieve cert properties request invocation Depending policy file leak slow requiring thousands millions requests fast requiring crash instance Tomcat limited gig memory note SSLSession collected memory leak isn permanent turn SSLSession timeout wait amount time specific session bug continuously session trip JSSESession attempting keysize connected clients stream minutes negatively attached zip test client script bat guys easily adapted test client jsp trips JSSESupport call method simplest policy file demonstrate policy file issue attached patch fixes issue zip good measure recommend setting invocation count test client jconsole tool attached tomcat monitor memory notice test large chunk memory returned garbage collector apply patch update tomcat coyote jar load test notice memory consumption stays baseline
47774	Illegal context loader HttpSessionListener executed HttpSessionListener executed illegal loader set context classLoader problem CoyoteAdapter parseSessionCookiesId method JSESSION COOKIE parsed method sessionId set request check sessionId Request isRequestedSessionIdValid method called method Session isValid called Request isRequestedSessionIdValid method context loader current thread StandardClassLoader WebappClassLoader instance session passed session timeout Session expire executed time context loader thread executes HttpSessionListenner sessionDestroyed StanderdClassLoader good context loader thread executes HttpSessionListenner WebAppClassLoader
47799	Domain work Membership DomainFilterInterceptor domain Cluster configuration Cluster className org apache catalina tcp SimpleTcpCluster channelSendOptions Membership className org apache catalina tribes membership McastService address port frequency dropTime domain Interceptor className org apache catalina tribes group interceptors DomainFilterInterceptor domain Cluster domain work Membership DomainFilterInterceptor type instance variable domain org apache catalina tribes membership McastService org apache catalina tribes group interceptors DomainFilterInterceptor array org apache tomcat util IntrospectionUtils setProperty invoked org apache tomcat util digester SetPropertyRule array property supported org apache tomcat util IntrospectionUtils setProperty McastService setDomain array DomainFilterInterceptor setDomain array invoked result domain set domain workarounds org apache tomcat util IntrospectionUtils setProperty supports array property Prepares setDomain String method McastService DomainFilterInterceptor Invoke setDomain array setDomain String org apache catalina tribes membership StaticMember easy prepare setDomain String method patch McastService patch tomcat trunk start java org apache catalina tribes membership McastService java java org apache catalina tribes membership McastService java revision java org apache catalina tribes membership McastService java working copy org apache catalina tribes MessageListener org apache catalina tribes ChannelData org apache catalina tribes XByteBuffer org apache catalina tribes util Arrays org apache catalina tribes util StringManager org apache catalina tribes util UUIDGenerator setDomain String domain domain domain startsWith setDomain Arrays fromString domain setDomain Arrays convert domain Simple test program param args Command arguments DomainFilterInterceptor patch tomcat trunk start java org apache catalina tribes group interceptors DomainFilterInterceptor java java org apache catalina tribes group interceptors DomainFilterInterceptor java revision java org apache catalina tribes group interceptors DomainFilterInterceptor java working copy setDomain domain domain domain setDomain String domain domain domain startsWith setDomain org apache catalina tribes util Arrays fromString domain setDomain org apache catalina tribes util Arrays convert domain
47826	logging statement error org apache catalina startup Bootstrap java Local repository replace String repository repository indexOf CATALINA TOKEN replace repository repository substring getCatalinaHome repository substring CATALINA TOKEN length repository getCatalinaHome repository substring CATALINA TOKEN length repository indexOf CATALINA BASE TOKEN replace repository repository substring getCatalinaBase repository substring CATALINA BASE TOKEN length repository getCatalinaBase repository substring CATALINA BASE TOKEN length replace log isDebugEnabled log debug Expanded replace log debug Expanded repository
47836	TldConfig internal list ApplicationListeners Created attachment details Context stopped clears listeners list WebApp refreshed warning displayed StandardContext addApplicationListener listener sun faces config ConfigureListener configured context duplicate definition TldConfig instance react event StandardContext clear list content WebApp stopped encountered bug tomcat checked Tomcat TldConfig code issue code dealing registered taglib URI prevent warning patch tomcat branch easy port trunk interest BTW checked TldLocationsCache source code implementing LifecycleListener patch applied file
47866	NullPointerException embedded tomcat WebappClassLoader stopped noformat Caused java lang NullPointerException org apache catalina loader WebappClassLoader findResources WebappClassLoader java java lang ClassLoader getResources ClassLoader java noformat launch server add context load resource classpath bit complicated narrow needed
47881	org apache catalina startup Bootstrap main method handles startd stopd wrongly String command start args length command args args length command equals startd args start daemon load args daemon start command equals stopd args daemon String command start args length command args args length command equals startd args args length start daemon load args daemon start command equals stopd args args length daemon refer usage method org apache catalina startup Catalina usage System println usage java org apache catalina startup Catalina config pathname nonaming start
47930	PersistentManager filestore session objects linked session Tomcat restarted Created attachment details Sample webapp scripts reproduce issue PersistentManager filestore backing noticed simultaneous requests session PersistentManager session objects shortly restarting Tomcat included sample webapp test script create simultaneous HTTP requests servlet reproduces issue General steps reproduce Configure PersistentManager FileStore Manager className org apache catalina session PersistentManager Store className org apache catalina session FileStore directory tmp Store Manager HTTP request servlet establish session Note session created server Restart Tomcat cleanly shutdown startup Shortly Tomcat starts initialises simultaneous HTTP requests servlet established session cookie Output session IDs session object hashcodes server side request reported session object hashcodes session IDs Additionally HttpSessionListener report additional sessions created destroyed Expected Session object hashcodes requests session Notes included attachment sessionTest zip sample webapp servlets LoginServlet establishes session request TestServlet session cookie attached request retrieve session object printing hex encoded object hashcode SessionListener log time session created destroyed session test script automatically start shutdown Tomcat HTTP requests curl change location TOMCAT URL deployed webapp COOKIE path sample webapp script reproduce issue reproduce output tomcat localhost sessionTest session test Starting Tomcat Logging init session sessiond JSESSIONID DDD session obj hashcode Shutting Tomcat Starting Tomcat Session JSESSIONID DDD Session obj hashcode Session JSESSIONID DDD Session obj hashcode Session JSESSIONID DDD Session obj hashcode acbd Session JSESSIONID DDD Session obj hashcode Session JSESSIONID DDD Session obj hashcode Session JSESSIONID DDD Session obj hashcode Removing cookie tmp foo cookie Shutting Tomcat Notice session objects tied session requests hashcodes acbd
47987	memory caused notFoundResources org apache catalina loader WebappClassLoader Guys Tomcat java linux org apache catalina loader WebappClassLoader records resource asked doesn exist site alot struts validation hit validator request resource actionName validation xml cached WebappClassLoader list resources HashMap notFoundResources HashMap weak hash map perchance won invoke memory removing validator urls validation interceptor don xml files annotations great
47997	NamingContextListener fails add PropertyChangeListener namingResources Created attachment details proposed NamingContextListener lifecycleEvent LifecycleEvent method NamingContextListener object fails add PropertyChangeListener namingResources context Server Context instance prevents NamingResourcesMBean working Server contexts
48004	setHeader replace previous Server servlet filter passing control doFilter HttpServletResponse myResponse myResponse setHeader Server server expose real server security reasons headers response Server Apache Coyote server API HttpServletResponse html setHeader http java sun sdk techdocs api javax servlet http HttpServletResponse html setHeader java lang String java lang String Sets response header header set overwrites previous containsHeader method test presence header setting fact call myResponse containsHeader Server IDE response object dig responses wrappers find buffer data set Tomcat understand Tomcat Coyote header changed specification special find parameter server xml server overiden spec implemented properly specific header values buffer goal change headers values issue issue Tomcat Tomcat tested Olivier
48007	ClassNotFoundException deserializing custom object FileStore FileStore sessions persistent Sessions serialized correctly minute exception SEVERE Session java lang ClassNotFoundException spikes session CustomClass java net URLClassLoader URLClassLoader java java security AccessController doPrivileged Method java net URLClassLoader findClass URLClassLoader java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClassInternal ClassLoader java java lang forName Method java lang forName java java ObjectInputStream resolveClass ObjectInputStream java org apache catalina util CustomObjectInputStream resolveClass CustomObjectInputStream java java ObjectInputStream readNonProxyDesc ObjectInputStream java java ObjectInputStream readClassDesc ObjectInputStream java java ObjectInputStream readOrdinaryObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java java ObjectInputStream readObject ObjectInputStream java org apache catalina session StandardSession readObject StandardSession java org apache catalina session StandardSession readObjectData StandardSession java org apache catalina session FileStore load FileStore java org apache catalina session StoreBase processExpires StoreBase java org apache catalina session PersistentManagerBase processExpires PersistentManagerBase java org apache catalina session ManagerBase backgroundProcess ManagerBase java org apache catalina core ContainerBase backgroundProcess ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor ContainerBase java java lang Thread Thread java doesn happen CustomClass CATALINA shared lib CATALINA shared classes Configuration Context path Spikes reloadable docBase Users mman Workspaces Spikes workDir Users mman Workspaces Spikes work Manager className org apache catalina session PersistentManager maxIdleBackup Store className org apache catalina session FileStore directory Users mman tmp tomcat sessions Manager Context Environment Mac JDK Tomcat
48049	org apache naming NamingContext destroySubcontext method doesn invoke recursively invoke unbind method original implementation destroySubcontext method destroySubcontext NamingException checkWritable isEmpty length getSuffix isEmpty NamingException getString namingContext invalidName NamingEntry entry NamingEntry bindings entry NameNotFoundException getString namingContext nameNotBound size entry type NamingEntry CONTEXT Context entry unbind getSuffix NamingException getString namingContext contextExpected entry type NamingEntry CONTEXT Context entry close bindings remove NotContextException getString namingContext contextExpected method invokes unbind method invokes recursively size entry type NamingEntry CONTEXT Context entry unbind getSuffix NamingException getString namingContext contextExpected size entry type NamingEntry CONTEXT Context entry destroySubcontext getSuffix NamingException getString namingContext contextExpected
48050	org apache naming NamingContext createSubcontext method returns Context wrong original source code org apache naming NamingContext createSubcontext method Creates binds context Creates context binds target context named terminal atomic component intermediate contexts target context exist param context create empty newly created context exception NameAlreadyBoundException bound exception InvalidAttributesException creation subcontext requires specification mandatory attributes exception NamingException naming exception encountered Context createSubcontext NamingException checkWritable Context newContext NamingContext env bind newContext newContext returned NamingContext parent NamingContext change source code Context createSubcontext NamingException checkWritable Context newContext NamingContext env size bind newContext newContext
48097	NoClassDefFoundError access jsp Created attachment details simple webapp jsp jar reproducing error strange situation NoClassDefFoundErrors jsp happened jsp claimed find simple session bean jar WEB INF lib folder strange error accessed tomcat restart accessed work properly accessed matter accessed error remained place error success determined accessed ater tomcat restart remained error success tomcat happening restart sort loading oder initialization bug consistent accessed order tomcat restart drove nuts main application showing error restart eventually stumbled strange workaround changing order couple lines jsp involving useBean directive access java URI order changed error order returned error reproduced managed distill simple scenario reproduces error jsp trivial bean session attached reproduced fresh installation Kubuntu virtual machine sun jre tomcat installed didn change configuration replaced ROOT sample webapp restarted tomcat browsed http localhost jsp Remember restart tomcat change jsp recreate bug simply changing refreshing browser succeed
48113	Member hostname components printed signed bits Created attachment details Patch print hostname components unsigned Hey member hostname printed toString tcp INFO TcpFailureDetector Received memberDisappeared org apache catalina tribes membership MemberImpl tcp alive payload command domain message verify INFO TcpFailureDetector Verification complete Member alive org apache catalina tribes membership MemberImpl tcp alive payload command domain attached patch takes Arrays toString creates argument unsigned original delegates unsigned existing code behave getHostname code MemberImpl passes argument print tcp code updates java org apache catalina tribes util Arrays java java org apache catalina tribes membership MemberImpl java generated patch trunk root java org apache catalina applied directory
48208	configure custom client certificate Trust Manager server xml connector attribute trustManagerClassName Created attachment details patch wildCard txt bug comment RFE Luciana patch accepting client certificate Connector basis server xml attribute Connector element Connector acceptAllCerts argument set AcceptAllTrustManager Trust Manager truststoreFile http tomcat apache org tomcat doc ssl howto html Edit Tomcat Configuration File left empty originally attachment
48318	WebDAV servlet returns files readable directory file readable Tomcat process file permissions dangling symlink Tomcat NullPointerException returns Internal Server Error client Throwing NPE circumstances wrong Returning unhelpful behavior fixed Generally interfaces type list inaccessible files Windows Explorer UNIX BSD FTP client error attempts access file markt suggests alternative simply ignoring inaccessible files notes issues user upload file suggests error reporting Stack SEVERE Servlet service servlet webdav threw exception java lang NullPointerException org apache catalina servlets WebdavServlet parseProperties Unknown Source org apache catalina servlets WebdavServlet doPropfind Unknown Source org apache catalina servlets WebdavServlet service Unknown Source javax servlet http HttpServlet service Unknown Source Method parseProperties java org apache catalina servlets WebdavServlet java org NPE cacheEntry attributes FIND PROPERTY testing cases breadcrumbs cacheEntry resources lookupCache path leads eventually java org apache naming resources FileDirContext java Attributes getAttributes String String attrIds NamingException Building attribute list File file file file NamingException getString resources notFound File file String File file File base file exists file canRead stuff ouch
48345	Session time shorter setting web xml PersistentManager encountering problem Session time shorter setting web xml simple scenario problem occurs PersistentManager configuration Context Manager className org apache catalina session PersistentManager maxIdleSwap Store className org apache catalina session FileStore Manager Context setting session timeout minutes session config session timeout session timeout session config scenario Create Session seconds pass Session swapOut addition seconds pass Session Session swapIn access time session memory updated addition seconds pass Session access time session updated session acquired session acquired StoreBase processExpires invoked StoreBase processExpire deletes session saved Store StoreBase processExpires StoreBase processExpires processExpires length StandardSession session StandardSession load session session isValid PersistentManagerBase manager isLoaded recycle backup session session recycle expire swapped session session expire remove session getIdInternal Exception session saved Store loaded StandardSession isValid executed StandardSession expire invoked session passes session time StandardSession isValid StandardSession expire invokes Manager remove Session result session deleted session map word session memory deleted invalidating session Store result session time shorter setting web xml patch trunk
48358	JSP unloading reloaded Created attachment details Patch including tests fixed problem Tomcat support unloading JSPs constantly changing reloading JSP files development time JVM memory patch fixes problem tracking time JSP requested Objects destroyed configurable number JSPs live starting oldest behaviour deactivated configured explicitly patch tests check functionality testing easier easymock dependency classpath feedback code suggestions improvement potential problems code work collaboration colleagues work link bug entry involved provide background patch needed side note include patch couldn find patch intended inclusion check box jira bugzilla stating explicitly License ASF granted inclusion ASF works Apache License
48421	JULI webapp logging files closed webapp stopped reloaded undeployed Tomcat JULI logging files declared webapp WEB INF classes logging properties closed webapp reloaded stopped undeployed files closed tomcat shut restarted Handler org apache juli FileHandler opens File day closes windows effects webapp undeployed files open moment locked deleted tomcat stopped restarted webapp reloaded file opened time file open handles day FileHandler closes handle file locked handle deleted time webapp reloaded logfile opened closed consequence reloading webapps times tomcat restarted time time tomcat shutdown unnecessary open files closed shutdown time modification time log files receive current modification time irritating Steps verify windows undeploy create examples webapp tomcat examples WEB INF classes logging properties handlers org apache juli FileHandler org apache juli FileHandler level FINE org apache juli FileHandler directory catalina base logs org apache juli FileHandler prefix servlet examples start tomcat undeploy examples manager Actual file catalina base logs servlet examples log deleted day Expected file catalina base logs servlet examples log deleted cumbersome Workaround working reload getHead method custom Formatter extended track handlers classloader webapp webapp classloader detected close method handlers assigned classloader called assigned file proper closed Formatter getTail result appended set severity minor tomcat webapp logging bug logging logfile useless multiple open considered buggy
48454	Bad file descriptor IOException CGIServlet programs Created attachment details Patch internal CGIRunner thread reads errorstream logs Bad file descriptor IOException everytime called program stacktrace program works fine log messages disturb reproduce behaviour Nagiostat CGI Program http nagiostat sourceforge net behaviour depends fast cgi program haven error cgi program machine code Process Object CGIRunner destroyed internal Thread chance completely read errorstream fixed problem CGIServlet errorStreamReaderThread join proc destroy clean processing errorstream fixed tomcat trunk branch Environment Linux Centos JDK SUN JBoss based tomcat Patch attached Patch source JBossWeb Improvement timeout join configurable java IOException Bad file descriptor java FileInputStream readBytes Method java FileInputStream read FileInputStream java sun nio StreamDecoder readBytes StreamDecoder java sun nio StreamDecoder implRead StreamDecoder java sun nio StreamDecoder read StreamDecoder java java InputStreamReader read InputStreamReader java java BufferedReader fill BufferedReader java java BufferedReader readLine BufferedReader java java BufferedReader readLine BufferedReader java org apache catalina servlets CGIServlet CGIRunner sendToLog CGIServlet java org apache catalina servlets CGIServlet CGIRunner access CGIServlet java org apache catalina servlets CGIServlet CGIRunner CGIServlet java
48498	ArrayIndexOutOfBoundsException Jasper compilation error CDATA block Created attachment details webapps examples WEB INF tags panel tagx Steps reproduce Remove WEB INF tags panel tag Tomcat Examples webapp replace attached XML Tag file panel tagx Visit http localhost examples jsp jsp tagfiles panel jsp scriptlet CDATA block produces compilatin error Expected result Compilation error reported Integer parseInt Actual result java lang ArrayIndexOutOfBoundsException org apache jasper compiler JavacErrorDetail init JavacErrorDetail java add sufficient number empty lines CDATA block ArrayIndexOutOfBoundsException disappears compiler error error lines wrong lines actual location error offset numbers size CDATA block Full stacktrace ArrayIndexOutOfBoundsException exception java lang ArrayIndexOutOfBoundsException org apache jasper compiler JavacErrorDetail init JavacErrorDetail java org apache jasper compiler ErrorDispatcher createJavacError ErrorDispatcher java org apache jasper compiler JDTCompiler acceptResult JDTCompiler java org eclipse jdt internal compiler Compiler compile Compiler java org apache jasper compiler JDTCompiler generateClass JDTCompiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper loadTagFile JspServletWrapper java org apache jasper compiler TagFileProcessor loadTagFile TagFileProcessor java org apache jasper compiler TagFileProcessor access TagFileProcessor java org apache jasper compiler TagFileProcessor TagFileLoaderVisitor visit TagFileProcessor java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler TagFileProcessor loadTagFiles TagFileProcessor java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java
48613	AprLifecycleListener initialize configured server xml Tomcat starts message displayed spite listener server xml avoid org apache catalina core AprLifecycleListener init INFO Apache Tomcat library optimal performance production environments java library path
48616	Struts bean define tag jsp regression exception Struts upgrade tomcat works jsp compilation error tag bean define variable times jsp jsp precompilation variable defined jspService javax servlet http HttpServletRequest javax servlet http HttpServletResponse runtime gen org apache catalina core ApplicationDispatcher invoke GRAVE Servlet service servlet jsp threw exception org apache jasper JasperException Unable compile JSP error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable configurationExists error occurred generated java file Duplicate local variable patientsExists error occurred generated java file Duplicate local variable patientsExists error occurred generated java file Duplicate local variable patientsExists error occurred generated java file Duplicate local variable multiportionExists error occurred generated java file Duplicate local variable multiportionExists error occurred generated java file Duplicate local variable multiportionExists error occurred generated java file Duplicate local variable generalExists error occurred generated java file Duplicate local variable generalExists error occurred generated java file Duplicate local variable generalExists error occurred generated java file Duplicate local variable messagesExists error occurred generated java file Duplicate local variable messagesExists error occurred generated java file Duplicate local variable printFindExists error occurred generated java file Duplicate local variable printFindExists Stacktrace org apache jasper compiler DefaultErrorHandler javacError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher javacError ErrorDispatcher java org apache jasper compiler JDTCompiler generateClass JDTCompiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doInclude ApplicationDispatcher java org apache catalina core ApplicationDispatcher include ApplicationDispatcher java org apache jasper runtime JspRuntimeLibrary include JspRuntimeLibrary java org apache jsp WEB dINF login mainPage jsp jspService mainPage jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java org apache struts action RequestProcessor doForward RequestProcessor java org apache struts action RequestProcessor processForwardConfig RequestProcessor java org apache struts action RequestProcessor process RequestProcessor java org apache struts action ActionServlet process ActionServlet java org apache struts action ActionServlet doPost ActionServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java org apache catalina core ApplicationDispatcher ApplicationDispatcher java org apache struts action RequestProcessor doForward RequestProcessor java org apache struts action RequestProcessor processForwardConfig RequestProcessor java org apache struts action RequestProcessor process RequestProcessor java org apache struts action ActionServlet process ActionServlet java org apache struts action ActionServlet doPost ActionServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org displaytag filter ResponseOverrideFilter doFilter ResponseOverrideFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java upgrading works fine Reading documentation bean define struts javadoc message USAGE NOTE restriction JSP Specification disallows attribute single JSP bean define bean single jsp version tomcat regression bug compilation type version app
48627	JasperException JSF tags expressions updated Tomcat jsps jsf tags compiling tag JasperException compiles fine older versions outputText Stack Caused org apache jasper JasperException preferences jsp TLD attribute directive tag file attribute accept expressions org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler Validator ValidateVisitor checkXmlAttributes Validator java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node CustomTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Validator validateExDirectives Validator java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doInclude ApplicationDispatcher java org apache catalina core ApplicationDispatcher include ApplicationDispatcher java org apache jasper runtime JspRuntimeLibrary include JspRuntimeLibrary java org apache jasper runtime PageContextImpl doInclude PageContextImpl java org apache jasper runtime PageContextImpl include PageContextImpl java org apache tiles jsp context JspTilesRequestContext include JspTilesRequestContext java
48629	JNDIRealm roleNested doesn work roleSearch member Created attachment details patch roleNested introduced Tomcat works roleSearch member roleSearch member tomcat doc substitute distinguished user substitute username attached patch change filter roleFormat format String groupDN filter roleFormat format String groupDN groupDN handles Gabriel
48653	RemoteIpValve request secure request scheme forced http Forwarded Proto http Created attachment details Tomcat patch unit tests updated docs additional jmx attributes fixes Forwarded Proto http incoming request attributes secure scheme serverPort overridden https request unsecured http communication apache tomcat ssl request isSecure request getScheme request getServerPort wrong Proposed patch introduce httpServerPort configuration parameter modify logic request isSecure request getScheme request getServerPort header forwarded proto incoming values header forwarded proto equal https override values https override values http Note forwarded proto https ssl forwarded proto header configurable sample values bug description easier understand
48660	Connector compression overwrites Vary header compressing connector sets Vary Accept Encoding correct append Accept Encoding current Vary header replacing set header Cookie force reload JSESSIONID cookie
48661	inconsistent error behavior bug inconsistency tomcat handles error Tomcat define error web xml error exception type java lang Exception exception type location unexpectedErrors jsp location error response committed Tomcat system console Feb org apache catalina core StandardWrapperValve invoke SEVERE Servlet service servlet jsp threw exception java lang NullPointerException org apache jsp cpe jsp jspService cpe jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java eaglecreektech expedience provisioning web servletFilters AuthFilter doFilter AuthFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java eaglecreektech expedience provisioning web servletFilters RequestVolumeFilter doFilter RequestVolumeFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java eaglecreektech expedience provisioning web servletFilters StartupCheckFilter doFilter StartupCheckFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java Feb org apache catalina core StandardHostValve custom SEVERE Exception Processing ErrorPage exceptionType java lang Exception location unexpectedErrors jsp java lang IllegalStateException reset buffer response committed org apache catalina connector Response resetBuffer Response java org apache catalina core StandardHostValve custom StandardHostValve java org apache catalina core StandardHostValve throwable StandardHostValve java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java doesn error text broken encountered error behavior doesn correct behave error defined jsp errorPage unexpectedErrors jsp response committed appends error response ideal response committed clears buffer writes error nice pretty error handling code error defined web xml check response committed clear buffer committed append jsp error handler
48678	org apache catalina startup Catalina incorrectly duplicates member Catalina declares member variable server setServer method Catalina Embedded member server getServer method Catalina sets service member server consistently Catalina Tomcat embedding requires extension MyCatalina Catalina Server getServer server ramifications intended http marc info tomcat user
48692	Provide option parse application form urlencoded requests Provide option treat application form urlencoded encoded parameters request manner application form urlencoded parameters POST request
48701	jsp getProperty broken cases updated tomcat jpp tomcat jpp breaks lot JSPs Jasper simply denies compile hunted bug simple taglib uri http java sun jsp jstl core prefix set java util jsp getProperty property time simply output current unix time tomcat org apache jasper JasperException jsp getProperty bean introduced JSP org apache jasper compiler Generator GenerateVisitor visit Generator java org apache jasper compiler Node GetProperty accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Generator generate Generator java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper JspCompilationContext compile JspCompilationContext java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java JDK java version Java Runtime Environment build Java HotSpot Server build mixed mode assume lot apps
48729	JNDIRealm java parsing roles correctly Created attachment details small patch JNDIRealm java docs http tomcat apache org tomcat doc realm howto html roles userRoleName roleName mechanisms result userRoleName roles excluded correct approach attached patch
48790	Race condition org apache catalina session ManagerBase maxActive running tomcat race detector http alphaworks ibm tech msdk find race condition org apache catalina session ManagerBase field maxActive Data Race org apache catalina session ManagerBase maxActive Thread http Tid WRITE Lock Set org apache catalina session ManagerBase add Lorg apache catalina Session org apache catalina session StandardSession setId Ljava lang String org apache catalina session ManagerBase createSession Ljava lang String Lorg apache catalina Session org apache catalina session StandardManager createSession Ljava lang String Lorg apache catalina Session org apache catalina connector Request doGetSession Lorg apache catalina Session org apache catalina connector Request getSession Ljavax servlet http HttpSession org apache catalina connector RequestFacade getSession Ljavax servlet http HttpSession org apache catalina connector RequestFacade getSession Ljavax servlet http HttpSession ecyrd jspwiki AuthenticationManager login Ljavax servlet http HttpServletRequest Thread http Tid READ Lock Set org apache catalina session ManagerBase add Lorg apache catalina Session org apache catalina session StandardSession setId Ljava lang String org apache catalina session ManagerBase createSession Ljava lang String Lorg apache catalina Session org apache catalina session StandardManager createSession Ljava lang String Lorg apache catalina Session code snip ManagerBase java add Session session sessions session getIdInternal session size sessions size size maxActive maxActive size Statement statement executed atomic manner problem move statement statement block
48795	Tomcat cache compilation failed Created attachment details Full error log compilation JSP fails Tomcat existant cached version simple JSP accessing time Tomcat org apache jasper JasperException Unable compile JSP Subsequent requests alternate error java lang ClassNotFoundException org apache jsp jsp test jsp editing existing JSPs compiled fine response alternate original error cache good JSP Sun JVM
48817	Skip validation query JDBC API validation jdbc pool Java configure validationQuery java sql Connection isValid timeout method call
48837	Memory leaks protection detect leaks triggered JSP code Created attachment details webapps examples foo jsp memory leaks protection feature heal types memory leaks caused servlet code classes loaded WebappClassLoader provide cure caused JSP code classes loaded JasperLoader concern code triggers memory leak JSP tag file test Find leaks diagnostics Manager webapp reproduce Place attached foo jsp examples webapp Open http localhost examples foo jsp Open Manager web application Reload start examples application Press Find leaks button Manager message displayed examples app triggered memory leak leak caused foo jsp creating ThreadLocal holding instance JSP loaded JasperLoader detected enumerating ThreadLocals leaks protection code ThreadLocal holding reference servlet cleared memory leak protection code examples application stopped message Tomcat logs
48843	Tomcat Acceptor Thread wait race condition Tomcat http port responsive exists code refactored find reference Bug database mailing list archives tomcat instance maxThreads set tomcat threads service incoming requests sequence events Thread Thread servicing request request JIOEndpoint java acceptor thread calls methods processSocket calls getWorkerThread calls createWorkerThread createWorkerThread returns threads busy processing requests race condition method getWorkerThread code Worker getWorkerThread Worker workerThread createWorkerThread workerThread workers workers wait acceptor thread executes workerThread statement switched CPU threads executing requests complete Worker await waiting job executing method recycleWorkerThread acceptor thread switched CPU executes block wait point Worker threads processing requests isn thread wake acceptor thread application responsive simple solution check curThreadsBusy block wait method getWorkerThread increase scope critical include loop Harshad Stack Traces bda WAITING lock org apache tomcat util net jioendpoint wor java lang Object wait Method java lang Object wait Object java org apache tomcat util net JIoEndpoint Worker await JIoEndpoint java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java http Acceptor WAITING lock org apache tomcat util net jioendpoint workerst java lang Object wait Method java lang Object wait Object java org apache tomcat util net JIoEndpoint getWorkerThread JIoEndpoint java org apache tomcat util net JIoEndpoint processSocket JIoEndpoint java org apache tomcat util net JIoEndpoint Acceptor JIoEndpoint java java lang Thread Thread java
48861	Files headers Created attachment details list files don headers Attachment list files don headers files headers
48895	WebAppClassLoader clearThreadLocalMap concurrency issues memory leak protection WebAppClassLoader clearReferencesThreadLocals detects clears ThreadLocals prevent WebAppClassLoader instance issues concurrency enumerates Threads internal structures Thread memory barrier ensure consistent ThreadLocalMap examined theoretically ThreadLocal Thread properly cleaned application current thread undeploying application synchronization threads severe detecting leak invokes java lang ThreadLocal ThreadLocalMap remove ThreadLocal Thread ThreadLocalMap instance invocation Thread thread undeploys app remove method thread safe expungeStaleEntries method invoked clearThreadLocalMap webapp undeployed applications receive heavy load requests corrupt internal structures ThreadLocalMap instance propose detection leaks actual clearing optional disabled avoid encountering big problems production Idea improve clearing safe thread provoking leak tomcat worker threads mark dirty background task threads renew threads pool
48973	Don create SESSIONS ser session exists Created attachment details Patch skiping SESSIONS ser file creation session exists webapp unloaded SESSIONS ser file created session exists application useless
49018	Timeout argument misprocessed expiring sessions Tomcat Manager Steps reproduce Login Tomcat Manager Application Select web application sessions inactive minutes text field Expire sessions button print Press Expire sessions Sample observed result Session application context path myapp maximum session inactive interval minutes minutes sessions minutes sessions minutes sessions minutes sessions minutes sessions minutes sessions minutes sessions minutes sessions minutes expired sessions sessions expired message prints Expected result sessions idle time minutes expired bug lines ManagerServlet sessions PrintWriter String Lines idle time idle sessions expire idle patch replace idle expired idle time minutes submitted web form expired counter
49030	Processing Tomcat Connector configuration leave connectors uninitialized Server Tomcat configuration beeing processed connectory defined fact exceptions connector initialization catched properly exception initialization connector initialize connector port initialized connector connectors processed created listening port allocated connectors defined properly leads situation connectory initialized differently order connectors confusing searching error definitions fact server xml cases invalid connector definition leads confusion searching configuration problem
49095	org apache tomcat util net AprEndpoint unlockAccept wakeup accepts deferred accept BSD filters Created attachment details Patch issue org apache tomcat util net AprEndpoint unlockAccept wakeup accepts deferred accept BSD filters connects connector causing accept call deferred accept BSD filters accept call returns kernel data HTTP request attached patch fixes sending OPTIONS
49099	context prefix logged access log Simple test Download latest tomcat Utar start Head http localhost verify working change URL http localhost foo error expected logged access log http localhost foo foo HTTP Host localhost User Agent Mozilla Linux Gecko Ubuntu karmic Firefox Accept text html application xhtml xml application xml Accept Language Accept Encoding gzip deflate Accept Charset ISO utf Alive Connection alive HTTP Bad Request Server Apache Coyote Content Length Mon Apr GMT Connection close change URL legitimate http localhost expected logged access log expected http localhost HTTP Host localhost User Agent Mozilla Linux Gecko Ubuntu karmic Firefox Accept text html application xhtml xml application xml Accept Language Accept Encoding gzip deflate Accept Charset ISO utf Alive Connection alive HTTP Server Apache Coyote Content Type text html charset utf Content Length Mon Apr GMT admin server DDoS attack box written log files
49116	Memory leak HttpSession session stored StandardManager doUnload method invalid session stored instance HttpSession invalidate executed executing StandardManager doUnload session isValid stored session isValid restored StandardManager doLoad registers session map sessions invalidate session isValid StandardSession invalidate StandardSession isValid expire session IllegalStateException session isValid deleted session map sessions patch session invalid expire session prevent memory leak Keiichi
49151	ClassCastException BackupManager stopInternal BackupManager startInternal constructor LazyReplicatedMap exception sessions LazyReplicatedMap AbstractReplicatedMap init possibility throwing RuntimeException BackupManager stopInternal ClassCastException thrown AbstractReplicatedMap breakdown executed type sessions changed avoid ClassCastException skip sessions LazyReplicatedMap LazyReplicatedMap map LazyReplicatedMap sessions map map breakdown skip problem exists Tomcat
49170	Transmission duplicated session DeltaManager handleGET SESSIONS Created attachment details patch trunk Config Manager className org apache catalina session DeltaManager sendAllSessions sendAllSessionsSize XXXX DeltaManager handleGET SESSIONS skip isSendAllSessions sendSessions sender currentSessions findSessionTimestamp send session blocks len currentSessions length getSendAllSessionsSize currentSessions length getSendAllSessionsSize Session sendSessions Session len currentSessions length getSendAllSessionsSize len getSendAllSessionsSize currentSessions length currentSessions length getSendAllSessionsSize System arraycopy currentSessions sendSessions len sendSessions sender sendSessions findSessionTimestamp skip skip sendSessions maintains previous Session instance currentSessions ssA ssB ssC ssD ssE sendAllSessionsSize loop sendSessions ssA ssB ssC loop sendSessions ssD ssE ssC ssC transmitted times loop sendSessions ssA ssB ssC loop sendSessions ssD ssE problem exists patch trunk
49196	NPE PageContext getErrorData bug older versions haven time file report error error code error code location free login denied jsp location error web xml call pageContext getErrorData denied jsp WORKS FINE work user HTTP redirected denied jsp simply calls entering URL browser JSP java lang NullPointerException javax servlet jsp PageContext getErrorData PageContext java org apache jsp free login denied jsp jspService denied jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java folgmann filters AuthFilter doFilter AuthFilter java folgmann filters HttpFilterSupport doFilter HttpFilterSupport java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java folgmann filters ValidatingThreadPoolFilter doFilter ValidatingThreadPoolFilter java folgmann filters HttpFilterSupport doFilter HttpFilterSupport java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java folgmann filters CharsetFilter doFilter CharsetFilter java folgmann filters HttpFilterSupport doFilter HttpFilterSupport java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache server JkCoyoteHandler invoke JkCoyoteHandler java org apache common HandlerRequest invoke HandlerRequest java org apache common ChannelSocket invoke ChannelSocket java org apache common ChannelSocket processConnection ChannelSocket java org apache common ChannelSocket SocketConnection runIt ChannelSocket java org apache tomcat util threads ThreadPool ControlRunnable ThreadPool java java lang Thread Thread java wasn intended JSP spec pageContext getErrorData returns error called error called Tnx boris
49209	AccessControlException undeploying application running Tomcat SecurityManager AccessControlException thrown undeployment Stack trace Caused java security AccessControlException access denied java lang RuntimePermission getClassLoader java security AccessControlContext checkPermission AccessControlContext java java security AccessController checkPermission AccessController java java lang SecurityManager checkPermission SecurityManager java java lang getClassLoader java org apache catalina loader JdbcLeakPrevention clearJdbcDriverRegistrations JdbcLeakPrevention java assume catalina policy updated account
49217	Accepting java keyword dot follow normal Java naming rules identifiers Java Key word Java key word Java Bean library Book String title setInt String title title title String getInt title JSP library Book book library Book book setInt sample title request setAttribute book book book OUTPUT sample title
49428	WebDAV mounts Windows Mini Redirector clients Created attachment details patch WebdavServlet WebdavServlet work Windows clients deprecated Web Folders modern common supported Microsoft client Windows Mini Redirector mapping WebDAV shares local drives mount WebDAV share served tomcat WebdavServlet observe command windows machine net http hostname webdav fail attached patch reason DAV namespaced elements PROPFIND responses namespace element explicitly prefixed namespace prefix defined parent namespace client errors display resources mentioned albeit single Windows version Windows Server http greenbytes tech webdav webdav redirector list html verified patch fixes WebDAV mounts Windows Vista
49528	HttpServletRequest isAsyncStarted returns Runnable started Created attachment details Servlet isAsyncStarted testcase attached async request created Runnable started AsyncContext start isAsyncStarted returns conflicts servlet specification Quoting chapter Asynchronous processing isAsyncStarted Returns async processing started request request dispatched AsyncContext dispatch methods asynchronous mode call AsynContext complete method returns output generated Tomcat Start async Dispatching start request isAsyncStarted Returning doGet request isAsyncStarted sleep sleep request isAsyncStarted Returning request isAsyncStarted output expect Jetty generates Start async Dispatching start request isAsyncStarted Returning doGet request isAsyncStarted sleep sleep request isAsyncStarted Returning request isAsyncStarted
49543	Request shared datasource configuration DBCP ability configure datasource server level shared applications server application supplying credentials datasource type configuration supported DBCP called shared datasource configuration
49555	Custom Taglibs support parameters method function addition parameters error org apache jasper JasperException Duplicate function list tag library WEB INF dataStore tld Crap parameters Java matches method names method parameters commonly called method signature Jasper Google SDK smarter overlooked Jasper compiler match parameters Java Java TLDs cleaner escaping Java code JSP wrote considerable amount TLD code easily mix expression language reason implementation work expected fixed Jimmy AppEngine SDK don embedded Jasper version
49598	Session update fails adds cookie header header code Servlet JSP invalid session cookies client HttpSession session req getSession session invalidate req getSession Essentially client session cookie invalidated session breaking applications
49613	Request getAttributeNames slows applications
49625	Tomcat doesn send Vary consistently gzip enabled HTTP requires Vary response header consistently responses change based aspects request compressed uncompressed variants negotiated Accept Encoding request header sends Vary headers accept encoding response compressed problems downstream caches consistently determine cache key URI server xml content Service Catalina Connector port proxyPort maxHttpHeaderSize protocol org apache coyote http Http Protocol maxThreads minSpareThreads maxPostSize maxSpareThreads enableLookups keepAliveTimeout maxKeepAliveRequests redirectPort acceptCount connectionTimeout disableUploadTimeout compression compressionMinSize compressableMimeType text html text xml text javascript text css Engine Catalina defaultHost localhost Host localhost appBase webapps unpackWARs autoDeploy debug xmlValidation xmlNamespaceAware Host Engine Service
49655	ExpressionFactoryImpl createMethodExpression Spec conform org apache ExpressionFactoryImpl createMethodExpression ELContext context String expression expectedReturnType expectedParamTypes correctly impl Specification Maintenance Release December spezfication site paragraph expectedParamTypes expected parameter types method array elements parameters expected illegal pass method arugments expression arguments method selection parameter method implemented call method expectedParamTypes NullPointerException expression bean sayHello arguments Sun sun ExpressionFactoryImpl defect code identical JUEL http juel sourceforge net works fine
49730	Race condition StandardThreadExecutor requests enqueued creating threads tomcat configure Executor minSpareThreads work memory leak issues redeployment development refresh webapp Safari Chrome Firefox resources seconds served resources instance requests html resources css images analysis org apache catalina core StandardThreadExecutor TaskQueue offer Runnable statement parent getActiveCount parent getPoolSize unexpectedly scenario ThreadPoolExecutor empty user refreshes accesses empty cache web browser resources browser establishes TCP connection Thread created browser receives response decides load resources parallel establishes TCP connections tests Acceptor thread calls StandardThreadExecutor execute process incoming connection call StandardThreadExecutor TaskQueue offer Runnable called study sources Java ThreadPoolExecutor small delay time Thread created increasing poolSize time starts working task increasing activeCount connections established rapid burst calls TaskQueue offer faster small delay parent getActiveCount parent getPoolSize task enqueued forcing creation thread serve Alive enabled tomcat threads care TCP connection time requests queue wait alive timeout Thread returned pool serve pending tasks keepAliveTimeOut requests served eventhough pool full server idle facts issue test starts empty pool occur loaded server triggers issue burst TCP connections problem severe keepAliveTimeout keepalive disabled depends time serve current requests issue tomcat severe threads returned pool http request TCP connection alive impact keepAlive disabled
49749	SSO cookie HttpOnly SSO cookies HttpOnly org apache catalina authenticator AuthenticatorBase register response addCookie cookie response addCookieInternal cookie
49860	getParameters fails chunked POST requests trailers Created attachment details Sample code expose issue Overview servlet hosted Tomcat fails retrieve request parameters request chunked transfer encoding trailers Details Sending POST http request HTTP client chunked transfer encoding includes trailers request RFC sections Request POST echo getBody HTTP User Agent org test chunked EchoClient chunked test content type application form urlencoded connection Close host localhost transfer encoding chunked Signature Tuu server responds error message stack trace pointing ChunkedInputFilter http svn apache org repos asf tomcat trunk java org apache coyote http filters ChunkedInputFilter java method parseEndChunk comment handle trailers leads trailers chunked requests supported sample code attached reproduce issue Eclipse project TestHttpServer hosts EchoServlet Eclipse project TestHttpClient sends receives chunked requests verifies unit test Eclipse Tomcat server configuration code extension attachments bug https issues apache org bugzilla bug cgi handling chunked requests general Note removing trailer request server responds correctly extract parameters request body error response server sends Response Response HTTP Internal Server Error Server Apache Coyote Content Type text html charset utf Content Length Sep GMT Connection close html head title Apache Tomcat Error report title style font family Tahoma Arial sans serif color white background color font size font family Tahoma Arial sans serif color white background color font size font family Tahoma Arial sans serif color white background color font size BODY font family Tahoma Arial sans serif color black background color white font family Tahoma Arial sans serif color white background color font family Tahoma Arial sans serif background white color black font size color black color black color style head body HTTP Status size noshade noshade type Exception report message description server encountered internal error prevented fulfilling request exception pre java IOException Invalid CRLF org apache coyote http filters ChunkedInputFilter parseCRLF ChunkedInputFilter java org apache coyote http filters ChunkedInputFilter parseEndChunk ChunkedInputFilter java org apache coyote http filters ChunkedInputFilter doRead ChunkedInputFilter java org apache coyote http InternalInputBuffer doRead InternalInputBuffer java org apache coyote Request doRead Request java org apache catalina connector InputBuffer realReadBytes InputBuffer java org apache catalina connector InputBuffer realReadChars InputBuffer java org apache tomcat util buf CharChunk substract CharChunk java org apache catalina connector InputBuffer read InputBuffer java org apache catalina connector CoyoteReader read CoyoteReader java org test chunked EchoServlet getBody EchoServlet java org test chunked EchoServlet doPostOrGet EchoServlet java org test chunked EchoServlet doPost EchoServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java pre note full stack trace root Apache Tomcat logs size noshade noshade Apache Tomcat body html Dan Luca
49890	Nio Selector issue linux platform Created attachment details NioEndpoint java simple web application server cpu reaches time restart server Reproduced java versions duplicate issue Bug seams Jetty guys fixed problem http jira codehaus org browse JETTY focusedCommentId atlassian jira plugin system issuetabpanels comment tabpanel logging NioEndpoint java logging selector select timeout linux plutform reproduced windows platform attach NioEndpoint patched NioEndpoint java logging web simple web application reproduce jvm bug requests press browser hold button web application
49905	cluster DeltaManager memory leak occur Created attachment details Patch remove context classloader threads ThreadPoolExecutor tribes Tested apache tomcat running jdk DeltaManager instantiated assigned StandardContext start StandardContext bindThreads DeltaManager turn initalization asks sessions nodes result creating threads ThreadPoolExecutor tribes threads created contextClassLoader set current webapplication WebAppClassLoader memory leak error message redeployment tomcat log WebappClassLoader clearReferencesThreads web application creditdev appears started thread named pool thread failed create memory leak Stacktrace java util concurrent ThreadPoolExecutor addThread Unknown Source java util concurrent ThreadPoolExecutor addIfUnderCorePoolSize Unknown Source java util concurrent ThreadPoolExecutor execute Unknown Source org apache catalina tribes group interceptors MessageDispatch Interceptor addToQueue MessageDispatch Interceptor java org apache catalina tribes group interceptors MessageDispatchInterceptor sendMessage MessageDispatchInterceptor java org apache catalina tribes group ChannelInterceptorBase sendMessage ChannelInterceptorBase java org apache catalina tribes group interceptors TcpFailureDetector sendMessage TcpFailureDetector java org apache catalina tribes group ChannelInterceptorBase sendMessage ChannelInterceptorBase java org apache catalina tribes group GroupChannel send GroupChannel java org apache catalina tribes group GroupChannel send GroupChannel java org apache catalina tcp SimpleTcpCluster send SimpleTcpCluster java org apache catalina session DeltaManager getAllClusterSessions DeltaManager java org apache catalina session DeltaManager start DeltaManager java org apache catalina core ContainerBase setManager ContainerBase java org apache catalina core StandardContext start StandardContext java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployDescriptor HostConfig java org apache catalina startup HostConfig deployDescriptors HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig start HostConfig java org apache catalina startup HostConfig lifecycleEvent HostConfig java org apache catalina util LifecycleSupport fireLifecycleEvent LifecycleSupport java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardHost start StandardHost java org apache catalina core ContainerBase start ContainerBase java org apache catalina core StandardEngine start StandardEngine java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke Unknown Source java lang reflect Method invoke Unknown Source org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke Unknown Source java lang reflect Method invoke Unknown Source org tanukisoftware wrapper WrapperStartStopApp WrapperStartStopApp java java lang Thread Unknown Source Proposed solution implement java util concurrent ThreadFactory MessageDispatch Interceptor pass instance ThreadPoolExecutor executor creation instance call setContextClassLoader newThread overriden method
49985	Lazy initialization synchronization data race AstInteger AstFloatingPoint AstString http svn apache org repos asf tomcat trunk java org apache parser AstInteger java http svn apache org repos asf tomcat trunk java org apache parser AstFloatingPoint java http svn apache org repos asf tomcat trunk java org apache parser AstString java lazy init synchronization methods getInteger getFloatingPoint getString AstInteger Number number Number getInteger number number image ArithmeticException number BigInteger image number Data races variable number method getInteger concurrent read concurrent write lines
49987	Data race ApplicationContext http svn apache org repos asf tomcat trunk java org apache catalina core ApplicationContext java Data race variable Map parameters method mergeParameters parameters concurrent read Map ConcurrentHashMap parameters concurrent write
49998	ParserController hasJspRoot detect JSP XML syntax jsp root namespace declaration delimiters simple JSP XML syntax jsp root xmlns jsp http java sun JSP version content jsp root works fine namespace declaration fails detect XML syntax action error jsp root xmlns jsp http java sun JSP version content jsp root Note check skipped bug isn exposed external JSP syntax web xml file ends jspx problem org apache jasper compiler ParserController hasJspRoot find namespace declaration code character characters
50105	Violation JSP spec version coerce Enum String JSP spec Coerce String Enum Tomcat demonstrate bug created custom code enum Tag JSP Tag MyCustomTag Tag setValue String System println Override setPageContext PageContext Override setParent Tag Override Tag getParent Override doStartTag JspException SKIP BODY Override doEndTag JspException EVAL Override release TLD xml version encoding UTF taglib xsi schemaLocation http java sun xml javaeeweb jsptaglibrary xsd xmlns http java sun xml javaee xmlns xsi http org XMLSchema instance version tlibversion tlibversion uri http domain org customLib uri tag customTag tagclass mypackage MyCustomTag tagclass bodycontent empty bodycontent attribute required required rtexprvalue rtexprvalue attribute tag taglib Enum enum MyEnum APPLE ORANGE Override String toString JSP taglib prefix myLib uri http domain org customLib myLib customTag myEnum myLib customTag foo myEnum bar myEnum set MyEnum ORANGE expect outputs ORANGE foo ORANGE bar output catalina ORANGE foo ORANGE bar violation JSP spec understood
50138	Lack synchronization org apache catalina security SecurityUtil Symptom processor threads spin madly tomcat processor daemon prio tid nid runnable java lang Thread RUNNABLE java util HashMap getEntry HashMap java java util HashMap containsKey HashMap java org apache catalina security SecurityUtil doAsPrivilege SecurityUtil java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain access ApplicationFilterChain java org apache catalina core ApplicationFilterChain ApplicationFilterChain java java security AccessController doPrivileged Method org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina security SecurityUtil objectCache HashMap access javadoc HashMap Note implementation multiple threads access hash map concurrently threads modifies map structurally externally Proposed solution change objectCache ConcurrentHashMap
50189	AJP connector sends BODY CHUNK reading response closed servlet incorrectly closes writer outputstream response attempts read request AJP connector sends BODY CHUNK mod worker starts series confusing communication worker tomcat worker doesn read request making request reads sends response length time Tomcat responds request worker BODY CHUNK worker responds message length weird Tomcat replays request worker point based tcpdump confused work happening
50201	StandardEngine defaultAccessLog stale ROOT webapp redeployed dev method StandardEngine logAccess performs lookup AccessLog implementation caches StandardEngine defaultAccessLog updated host ROOT webapp changed ROOT webapp redeployed restarted reproduce Configure access log valve ROOT webapp Remove access log valves Engine Host Start Tomcat malformed request Undeploy redeploy ROOT webapp rename ROOT ROOT wait undeployment rename malformed request Expected behaviour request logged Actual behaviour request logged Notes happen access log valve configured Host Engine server xml Tomcat valve Host Restarting ROOT webapp touching web xml trigger closing valve detected memory leak Valve loaded webapp classloader requests logged issue observing
50228	PermGen leak calling JspFragment invoke custom Writer Created attachment details writerleak war Reproduces leak web application SimpleTag calls JspFragment invoke writer custom java Writer NullWriter commons application undeployed remains memory reported Find leaks tool manager webapp attaching simple sample application reproduces issue reproduce Deploy app Open jsp Undeploy app Find leaks reports app memory Eclipse MAT tool leak caused jasper runtime BodyContentImpl keeping reference Writer BodyContentImpl instance cached pool referenced ThreadLocal
50273	AprEndpoint logs socket accept fails altough error harmless Tomcat system compiled libtcnative Tomcat spamming log files error message org apache tomcat util net AprEndpoint Acceptor SCHWERWIEGEND Socket accept failed org apache tomcat jni Error Kein Pufferplatz verfÃ¼gbar org apache tomcat jni Socket accept Method org apache tomcat util net AprEndpoint Acceptor AprEndpoint java java lang Thread Thread java English buffer space googled problem http forums devx archive php html bug occurs setup wasn filter java logging simple loading filter Searching APR docs http dev ariel networks apr apr tutorial html apr tutorial html Detection remote host closed socket error harmless debug info satisfy level severe simply spams disk APR docs clue
50316	Minor glitch display negative TTL sessionDetail jsp Created attachment details sessionDetail jpg screenshot reproduce Start Tomcat Create session Tomcat Wait TTL minutes Start Tomcat Manager web application Session Details session instance lying drive months TTL printed attaching screenshot session alive question bug JspHelper secondsToTimeString deal negative values
50325	Update Tomcat JRE solutions CVE http oracle technetwork java javase documentation tlsreadme html Oracle features review Tomcat
50394	InternalAprInputBuffer fill doesn deal correctly EOF tomcat tomcat CentOS written servlet large gigabyte streams bytes HTTP time time fails stacktrace Caused java IOException org apache coyote http InternalAprInputBuffer fill InternalAprInputBuffer java org apache coyote http InternalAprInputBuffer SocketInputBuffer doRead InternalAprInputBuffer java org apache coyote http filters IdentityInputFilter doRead IdentityInputFilter java org apache coyote http InternalAprInputBuffer doRead InternalAprInputBuffer java org apache coyote Request doRead Request java org apache catalina connector InputBuffer realReadBytes InputBuffer java org apache tomcat util buf ByteChunk substract ByteChunk java org apache catalina connector InputBuffer read InputBuffer java org apache catalina connector CoyoteInputStream read CoyoteInputStream java java BufferedInputStream read BufferedInputStream java java BufferedInputStream read BufferedInputStream java java FilterInputStream read FilterInputStream java InternalAprInputBuffer error code debugger nRead source apr include apr errno APR EOF bug implementation recvbb onwards tomcat src jni src network function check APR SUCCESS assume codes error returning check EOF APR STATUS EOF InternalAprInputBuffer assumes code EOF Incidentally apr include apr network comment apr socket recv bytes received APR EOF error returned lie implementations apr socket recv len APR EOF
50413	Tomcat returns response custom error file html file errors client sends request file whoch doesn exist adds Modified header newer modification error file Tomcat returns Modofied Steps reproduce simple webapp html file custom error errors web xml error error code error code location errorpages html location error request URL points file doesn exist add Modified header newer modification error file MyWebApp AUrlToAFileWhichDoesNotExist gif HTTP Host localhost Alive Connection alive Modified Tue Nov GMT replace MyWebApp webapp Tomcat returns HTTP Modified HTTP Actual Tomcat returns Modified response compare Modified Header error file Expected Tomcat returns response requested file exist omit Modified header older error file Tomcat correctly returns adds Modified header modification file behavior caused invalid responses ISAPI redirector bug enabled chunked encoding support viewing site Firefox pressed refresh bug Tomcat chunked encoding response ISAPI redirector didn check tested Tomcat Bit Windows Tomcat Java
50459	StandardContext bindThread unbindThread symmetrical limited current thread side commit bug StandardContext bindThread unbindThread methods tomcat methods symmetrical unbindThread restore Thread CCL calling DirContextURLStreamHandler unbind ContextBindings unbindThread StandardContext bindThread call DirContextURLStreamHandler bindThread DirContextURLStreamHandler bind StandardContext unbindThread call DirContextURLStreamHandler unbindThread DirContextURLStreamHandler unbind
50460	access jspx classloader leak JspDocumentParser Running latest reproduce Tomcat Deploy examples webapp Create webapps examples foo jsp file text jsp include jsp jsp jspx basic jspx work folder Tomcat empty Start Tomcat http localhost examples foo jsp Manager web application examples webapp Press Find leaks button ACTUAL RESULT reported examples leak EXPECTED RESULT leaks issue caused instance org apache jasper compiler JspDocumentParser EnableDTDValidationException field discussion leaks thread dev http tomcat markmail org thread xmg http marc info tomcat dev Additional comments issue request loads JspDocumentParser Subsequent requests issue single webapp issue happen webapp code call stack happen JSPX requested reproduction recipe jsp include solutions Preload JspDocumentParser Tomcat starts cache Exception Create instance time Override fillInStackTrace method AbstractDOMParser Abort Apache Xerces helps http svn apache org viewvc xerces java trunk src org apache xerces parsers AbstractDOMParser java annotate
50496	AccessLogValve logging size correctly enabled compression log analysis enabling http compression tomcat earlier access logs sow difference sizes reported Drilling issue size reported compression account documentation Bytes excluding HTTP headers quick comparison apache httpd httpd logging compressed data sizes easy replicate stock tomcat configure tomcat compression enable access logging start tomcat web requests curl http time header Acccept encoding gzip time header access logfile reported Bytes bit pain report compressed size tomcat logging notes apache httpd helpful real size reporting efficiency resort tcpdump estimates Martin Sperl glory details replicated msmac apache tomcat sperl diff conf server xml orig conf server xml conf server xml orig conf server xml Connector port protocol HTTP connectionTimeout compression redirectPort Connector shared thread pool Access log processes Documentation docs config valve html Valve className org apache catalina valves AccessLogValve directory logs prefix localhost access log suffix txt pattern common resolveHosts Host Engine msmac apache tomcat sperl bin catalina start CATALINA BASE Users sperl noTimeMachine apache tomcat CATALINA Users sperl noTimeMachine apache tomcat CATALINA TMPDIR Users sperl noTimeMachine apache tomcat temp JRE System Library Frameworks JavaVM framework Versions CurrentJDK CLASSPATH Users sperl noTimeMachine apache tomcat bin bootstrap jar msmac apache tomcat sperl curl http connect port Total Received Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed connected Connected port HTTP User Agent curl apple darwin libcurl OpenSSL zlib libidn Host Accept HTTP Server Apache Coyote Accept Ranges bytes ETag Modified Mon Jul GMT Content Type text html Content Length Sun Dec GMT data Connection host left intact Closing connection msmac apache tomcat sperl tail logs localhost access log txt Dec HTTP msmac apache tomcat sperl curl header Accept Encoding gzip http connect port Total Received Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed connected Connected port HTTP User Agent curl apple darwin libcurl OpenSSL zlib libidn Host Accept Accept Encoding gzip HTTP Server Apache Coyote Accept Ranges bytes ETag Modified Mon Jul GMT Content Type text html Transfer Encoding chunked Content Encoding gzip Vary Accept Encoding Sun Dec GMT data Connection host left intact Closing connection msmac apache tomcat sperl tail logs localhost access log txt Dec HTTP msmac apache tomcat sperl
50547	CHANGE SESSION message received cluster session synchronization dropped CHANGE SESSION message SESSION EXPIRED message set timestamp messages received cluster sessions synchronization DeltaManager startup timestamp set dropped patch add timestamp CHANGE SESSION SESSION EXPIRED message
50550	PropFind error MkCol succes propfind call resource returns error executed mkcol resource mkcol preceeded propfind trigger issue Steps reproduce access log Jan PROPFIND webdav output acaf HTTP Jan MKCOL webdav output acaf HTTP Jan PROPFIND webdav output acaf HTTP request request succesful access log Jan MKCOL webdav output HTTP Jan PROPFIND webdav output HTTP Note seconds response propfind resource suggests caching Note situation sounds call FIXED DirContext caching problem Dreamweaver recursively creating directories Reproducable jackrabbit client HttpClient client HttpClient String newDir http localhost webdav output UUID randomUUID Comment request propfind succesful HttpMethod propFindMethod PropFindMethod newDir client executeMethod propFindMethod propFindMethod releaseConnection HttpMethod mkcolMethod MkColMethod newDir client executeMethod mkcolMethod mkcolMethod releaseConnection HttpMethod propFindMethod PropFindMethod newDir client executeMethod propFindMethod propFindMethod releaseConnection
50556	improve JreMemoryLeakPreventionListener leak caused LdapPoolManager sun jndi ldap LdapPoolManager initialized system property sun jndi ldap connect pool timeout set greater PoolCleaner thread spawned fixing specific context loader initialization triggered web application loader PoolCleaner thread web app stopped loader leak improve JreMemoryLeakPreventionListener prevent leak
50600	ConcurrentModificationException removing WAR FarmWarDeployer exception reported work WARNING Exception processing cluster org apache catalina tcp SimpleTcpCluster background process java util ConcurrentModificationException java util HashMap HashIterator nextEntry HashMap java java util HashMap EntryIterator HashMap java java util HashMap EntryIterator HashMap java org apache catalina deploy WarWatcher check WarWatcher java org apache catalina deploy FarmWarDeployer backgroundProcess FarmWarDeployer java org apache catalina tcp SimpleTcpCluster backgroundProcess SimpleTcpCluster java org apache catalina core ContainerBase backgroundProcess ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor processChildren ContainerBase java org apache catalina core ContainerBase ContainerBackgroundProcessor ContainerBase java java lang Thread Thread java root removing entry Map iterator patch apply shortly
50606	Error running CGI executable Tomcat Created attachment details localhost log web application hosting CGI executable settings CGI servlet servlet cgi servlet servlet org apache catalina servlets CGIServlet servlet init param param debug param param param init param init param param cgiPathPrefix param param WEB INF cgi param init param init param param executable param param param init param init param param passShellEnvironment param param param init param servlet Tomcat attachment
50631	InternalNioInputBuffer honor maxHttpHeadSize InternalNioInputBuffer automatically expands buffer reading request effectively ignoring maxHttpHeaderSize setting
50642	keepAliveProtection doesn work Created attachment details ServletContextListener removes leaked ClassLoader reference sun net http HttpClient kac keepAliveTimer contextClassLoader memory leak references webapp classloader Tomcat JreMemoryLeakPreventionListener claims loads sun net http HttpClient create timer thread leak exists AFAICT attached listener prevent leak
50646	Tribes ByteMessage corrupted message size exceeds underlying buffer size Tribes ByteMessage transfer payloads context tribes communication framework message deserialized data loss corruption message size exceeds underlying buffer size solution replace ObjectInput read call ObjectInput readFully attached
50700	Context parameters overridden parameters web application deployment descriptor Context parameters overridden parameters web application deployment descriptor override attribute set lines context file Context path path docBase path docbase cookies Parameter parameter test override Context lines web xml context param description parameter description param parameter param param test param context param servletContext getInitParameter parameter returns test
50726	Jasper generate uncompilable source code genStringAsCharArray turned jsp compiled build time turn genStringAsCharArray optimization cases longer lines generated java code javac compiler process error message javac Compiling source files jspc classes javac jspc src org apache jsp WEB dINF fAPP termsconditions TermsAndConditions fms fMY jsp java constant string
50737	Error war deploy archive malformed Tomcat releases IBM iSeries System Tomcat war file deployed fine IBM iSeries System installing Tomcat war files longer deploy stack trace bottom post Windows machine error occur Tomcat releases happen error occurs iSeries Tomcat version started occur Note war file deployed environments Tomcat IBM iSeries ERROR Windows troubleshooting installation configuration error Tomcat zip file downloaded Apache site installed iSeries deploy works deploy produces error Feb org apache juli logging DirectJDKLog error SEVERE ContainerBase addChild start LifecycleException Error initializaing java lang IllegalArgumentException archive jar file apache apache tomcat webapps shopatron war malformed entry illegal path META INF java lang Throwable init Throwable java java lang Exception init Exception java org apache catalina LifecycleException init LifecycleException java org apache catalina core StandardContext start StandardContext java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig check HostConfig java sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat util modeler BaseModelMBean invoke BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor invoke DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer invoke JmxMBeanServer java org apache catalina manager ManagerServlet check ManagerServlet java org apache catalina manager HTMLManagerServlet doPost HTMLManagerServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina filters CsrfPreventionFilter doFilter CsrfPreventionFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java Feb org apache juli logging DirectJDKLog error SEVERE Error deploying web application archive shopatron war java lang IllegalStateException ContainerBase addChild start LifecycleException Error initializaing java lang IllegalArgumentException archive jar file apache apache tomcat webapps shopatron war malformed entry illegal path META INF java lang Throwable init Throwable java java lang Exception init Exception java java lang RuntimeException init RuntimeException java java lang IllegalStateException init IllegalStateException java org apache catalina core ContainerBase addChildInternal ContainerBase java org apache catalina core ContainerBase addChild ContainerBase java org apache catalina core StandardHost addChild StandardHost java org apache catalina startup HostConfig deployWAR HostConfig java org apache catalina startup HostConfig deployApps HostConfig java org apache catalina startup HostConfig check HostConfig java sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat util modeler BaseModelMBean invoke BaseModelMBean java sun jmx interceptor DefaultMBeanServerInterceptor invoke DefaultMBeanServerInterceptor java sun jmx mbeanserver JmxMBeanServer invoke JmxMBeanServer java org apache catalina manager ManagerServlet check ManagerServlet java org apache catalina manager HTMLManagerServlet doPost HTMLManagerServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina filters CsrfPreventionFilter doFilter CsrfPreventionFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http Http Processor process Http Processor java org apache coyote http Http Protocol Http ConnectionHandler process Http Protocol java org apache tomcat util net JIoEndpoint Worker JIoEndpoint java java lang Thread Thread java support Jon
50747	CometProcessor flush close HTTP requests built simple Publish Subscribe servlet CometProcessor client connects servlet checks phase pending events client stores request list pending requests thread notifies CometProcessor data user arrived data pushed pending connection pseudo code EventService CometProcessor event CometEvent event event getType CometEvent String data getDataForUser event data sendAndClose data event pendingRequests add event event close push String user String data CometEvent event findPendingRequest user sendAndClose data event pendingRequests remove event sendAndClose String data CometEvent event Writer event request getWriter write data flush event close works expected connect HTTP client HTTP client connects nginx connection closed data JSON string pushed client client ends connection lingers open reproducible curl HTTP request curl XGET frank frank http fcc event timestamp echo fcc event timestamp HTTP Authorization Basic xxx User Agent curl Host Accept HTTP Server Apache Coyote Content Type application json charset ISO Transfer Encoding chunked Feb GMT type settings changed timestamp data version Connection host left intact Closing connection Connection closed HTTP request curl XGET frank xxx http fcc event timestamp echo fcc event timestamp HTTP Authorization Basic xxx User Agent curl Host Accept HTTP Server Apache Coyote Content Type application json charset ISO Feb GMT Connection close type settings changed timestamp data version Connection stays open timeout occurs
50771	HttpServletRequest getAuthType returns request authenticated Created attachment details patch Tomcat registers authenticated Principal authentication Type current session authenticated Principal replicated authentication Type replicated Request getAuthType returns request authenticated node changed
51119	extras JmxRemoteLifecycleListener support JAAS based authentication authorisation Tomcat JmxRemoteLifecycleListener support JAAS based authentication authentication required supports file based authentication
51124	ArrayIndexOutOfBoundsException setting org apache jasper runtime BodyContentImpl LIMIT BUFFER bug problem fixed bugs occurs tomcat version problem tomcat runnign parameter org apache jasper runtime BodyContentImpl LIMIT BUFFER tomcat started fine days lot ArrayIndexOutOfBoundsException occur random application Tomcats started parameter don problem weren reproduce bug locally appears production system concurrency problem lot platform provide small stackstraces classes problem occurs Caused java lang ArrayIndexOutOfBoundsException org apache jasper runtime BodyContentImpl write Unknown Source java PrintWriter write PrintWriter java org apache jasper runtime JspWriterImpl flushBuffer Unknown Source org apache jasper runtime PageContextImpl release Unknown Source org apache jasper runtime JspFactoryImpl internalReleasePageContext Unknown Source org apache jasper runtime JspFactoryImpl releasePageContext Unknown Source org apache jsp members lists incomingShortList jsp jspService incomingShortList jsp java org apache jasper runtime HttpJspBase service Unknown Source javax servlet http HttpServlet service Unknown Source Caused java lang ArrayIndexOutOfBoundsException java lang String getChars String java org apache jasper runtime BodyContentImpl write Unknown Source org apache jasper runtime BodyContentImpl write Unknown Source org apache jasper runtime BodyContentImpl print Unknown Source org apache taglibs standard tag common fmt MessageSupport doEndTag MessageSupport java org apache jsp members profiles profile jsp jspx meth fmt fmessage profile jsp java org apache jsp members profiles profile jsp jspService profile jsp java org apache jasper runtime HttpJspBase service Unknown Source javax servlet http HttpServlet service Unknown Source
51185	Performance DataSourceProxy createPool fine grained synchronisation don component Enhancement concerns Tomcat JDBC POOL code DataSourceProxy createPool method creation needed Sets connection pool creating pooling driver Driver SQLException ConnectionPool createPool SQLException pool pool pCreatePool SQLException ConnectionPool pCreatePool SQLException pool pool pool ConnectionPool poolProperties pool createPool called lots getters synchro IMPACT needing Philippe http ubik ingenierie
51212	QueryStats synchornisation issues Created attachment details Patch Atomic approach don volontary QueryStats fields Atomic accessed multiple threads time Load test heavy load collected SlowQueryReport Sql queries number executions wrong executed don approach perform synchronize add failure Atomic performance reasons Philippe Mouawad http ubik ingenierie
51220	Add system property jsp directive advantage tag pooling Created attachment details Patch file propose system property JSP directive advantage tag pooling Patch file included
51249	JULI ClassLoaderLogManager doesn properly handle replacing property values LogManager replace property doesn handle properly fact exist indexOf relative start position string custom property matching system property tomcat exception valid versions versions validated escape chars output
51306	NPE DeltaRequest writeExternal DeltaRequest java handling remote session expiration Occasionally errors ERROR pool thread org apache catalina session DeltaManager Manager localhost Unable receive message TCP channel java lang NullPointerException java ObjectOutputStream BlockDataOutputStream getUTFLength ObjectOutputStream java java ObjectOutputStream BlockDataOutputStream writeUTF ObjectOutputStream java java ObjectOutputStream writeUTF ObjectOutputStream java org apache catalina session DeltaRequest writeExternal DeltaRequest java org apache catalina session DeltaRequest serialize DeltaRequest java org apache catalina session DeltaManager serializeDeltaRequest DeltaManager java org apache catalina session DeltaManager requestCompleted DeltaManager java org apache catalina session DeltaSession expire DeltaSession java org apache catalina session DeltaManager handleSESSION EXPIRED DeltaManager java org apache catalina session DeltaManager messageReceived DeltaManager java org apache catalina session DeltaManager messageDataReceived DeltaManager java org apache catalina session ClusterSessionListener messageReceived ClusterSessionListener java org apache catalina tcp SimpleTcpCluster messageReceived SimpleTcpCluster java org apache catalina tcp SimpleTcpCluster messageReceived SimpleTcpCluster java org apache catalina tribes group GroupChannel messageReceived GroupChannel java org apache catalina tribes group ChannelInterceptorBase messageReceived ChannelInterceptorBase java org apache catalina tribes group interceptors TcpFailureDetector messageReceived TcpFailureDetector java org apache catalina tribes group ChannelInterceptorBase messageReceived ChannelInterceptorBase java org apache catalina tribes group ChannelInterceptorBase messageReceived ChannelInterceptorBase java org apache catalina tribes group ChannelCoordinator messageReceived ChannelCoordinator java org apache catalina tribes transport ReceiverBase messageDataReceived ReceiverBase java org apache catalina tribes transport nio NioReplicationTask drainChannel NioReplicationTask java org apache catalina tribes transport nio NioReplicationTask NioReplicationTask java java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java functionality Tomcat NPE write sessionId Tomcat send handling received authoritative SESSION EXPIRED message
51348	Potential NullPointerException org apache catalina servlets WebdavServlet WebDAV LOCK REFRESH request NullPointerException IMHO wrong check WebdavServlet java markt toRenew
51615	org apache tomcat jdbc pool PooledConnection assignment typo bad compiler lights connection connection driver connect driverURL properties fixed
51688	JreMemoryLeakPreventionListener protect AWT thread creation webapp calls java awt Toolkit getDefaultToolkit launch thread AWT Windows AWT XAWT capture ContextClassLoader pinning webapp memory undeploy redeploy simple addition JreMemoryLeakPreventionListener alleviate condition
51736	rpcTimeout configurable BackupManager rpcTimeout BackupManager sets AbstractReplicatedMap msec configurable receiving MapMessage MSG START member publishEntryInfo called sessions primary backup node included backup node set session Tomcat starts cluster publishEntryInfo called sessions result RPC message possibility timeout acquiring session restarting Tomcat warning Unable retrieve remote object key XXX logged session continued rpcTimeout configurable BackupManager Additionally RPC message timeouted AbstractReplicatedMap broadcast add warning message
51905	Infinite loop shutting AprEndpoint unlocking acceptor AprEndpoint shutdown fails enters infinite loop printing endpoint warn unlockAcceptorFailed message Acceptor thread failed unlock Forcing hard socket shutdown reported users mailing lists http tomcat markmail org thread jolyr ijuu caused firewall preventing Tomcat connecting HTTP port reproduce turn unlockAccept method endpoint noop adding trunk bug introduced
52121	corrupt gzip output compression server xml Created attachment details Gzip Corruption Repro WAR appears issue posted Christopher Taylor Jun Tomcat Users subject preserved mentioned post arisen issue https issues apache org bugzilla bug cgi change introduced FlushableGZIPOutputStream started noticed string flush sequences result corrupt gzip output attached WAR repro sequence writes output stream wouldâ€™ve server mimicked file system files representing flush URL http localhost TomcatBugReportWAR Iâ€™ve allowed â€˜startâ€™ â€˜endâ€™ request parameters control starting points Iâ€™ve allowed â€˜appendâ€™ request parameter dump outputstream defaults â€œâ€ start append query string appears interesting smallest sequence corruption subsequent string appended output appears corrupted http localhost TomcatBugReportWAR start append somethingâ€ Itâ€™s reproduce FlushableGZIPOutputStream Tomcat attached JAR
52293	antiResourceLocking unpackWARs Created attachment details ContextConfig java appears Tomcat attempting copy WAR CATALINA webapps directory CATALINA temp directory war extension original docBase CATALINA webapps war docBase CATALINA temp ContextConfig java method antiLocking evaluates correctly docBase set path removes war extension file ends CATALINA temp war Additionally applications context paths foo bar war deployed temp correctly antiResourceLocking unpackWARs setting scenario docBase set context path antiLocking method converts separator appears fixDocBase converts character path doesn antiLocking method exhibit behaviour docBase changed context path ContextName context getPath result Interestingly comment source suggests code copy war file reached bug code reached docBase changed path war extension
52384	URL parameter parsed logging level DEBUG Create simple servlet doGet HttpServletRequest request HttpServletResponse response ServletException IOException request getParameterMap Start Tomcat Eclipse force logging level org apache tomcat util http Parameters DEBUG Call servlet parameter set http localhost mywebapp myservlet parameterWithotValue parameterWithotValue result request getParameterMap enjoy exception java lang ArrayIndexOutOfBoundsException java lang System arraycopy Method org apache tomcat util buf ByteChunk append ByteChunk java org apache tomcat util http Parameters processParameters Parameters java org apache tomcat util http Parameters processParameters Parameters java org apache tomcat util http Parameters handleQueryParameters Parameters java org apache catalina connector Request parseParameters Request java org apache catalina connector Request getParameterNames Request java org apache catalina connector Request getParameterMap Request java org apache catalina connector RequestFacade getParameterMap RequestFacade java agapemoda servlet ImageServlet doGet ImageServlet java java lang Thread Thread java Note logging level SEVERE troublesome code org apache tomcat util http Parameters processParameters Parameters java log isDebugEnabled origName append bytes nameStart nameEnd nameStart origValue append bytes valueStart valueEnd valueStart IOException ioe happen log error getString parameters copyFail ioe executed parameter parsed parsed log level DEBUG
52488	common typo exipre Created attachment details tomcat typo patch fixes typos word expire typed exipre number places debug log mbean info patch created removes space
52719	incomplete resource leak bug WebappClassLoader java revision aimed remove resource leak bug JarFile jarFile method validateJarFile file tomcat trunk java org apache catalina loader WebappClassLoader java incomplete statements lines eception object jarFile closed expected close resource object putting close operations finaly block structure buggy code copies bellows validateJarFile File jarfile IOException triggers JarFile jarFile JarFile jarfile triggers length clazz parent clazz parent loadClass triggers clazz forName triggers Throwable clazz clazz String triggers replace log isDebugEnabled log debug Checking JarEntry jarEntry jarFile getJarEntry jarEntry log info validateJarFile jarfile jar loaded Servlet Spec Offending jarFile close jarFile close
53454	doHead implementation overrides Content Length header Created attachment details Sampe app sources client HttpServlet desides override doGet method servlet fail correctly handle HEAD requests happen client chooses set Content Length manually content bigger resp setHeader Content Length String valueOf writes actual content request costly operation conditions request correct Content Length header HEAD requset Content Length header Sample project sources attached
53481	Support SSL CIPHER SERVER PREFERENCE SSLHonorCipherOrder Tomcat equivalent mod ssl SSLHonorCipherOrder directive vulnerable SSL BEAST attack http httpd apache org docs current mod mod ssl html sslhonorcipherorder docs directive https community qualys blogs securitylabs mitigating beast attack tls mitigates BEAST attack incorporate option named SSLHonorCipherOrder sets OpenSSL option SSL CIPHER SERVER PREFERENCE qualify bug enhancement concerns security issue filed bug create patch don Tomcat build env time small change
53565	deprecated org apache tomcat jdbc pool interceptor SlowQueryReport java warning deprecation toGMTString deprecated buf append java util maxInvocationDate toGMTString org apache tomcat jdbc pool interceptor SlowQueryReport java warning deprecation toGMTString deprecated buf append java util minInvocationDate toGMTString solve solution String toString DateFormat SimpleDateFormat MMM yyyy setTimeZone TimeZone getTimeZone GMT StringBuilder buf StringBuilder QueryStats query buf append query buf append nrOfInvocations buf append nrOfInvocations buf append maxInvocationTime buf append maxInvocationTime buf append maxInvocationDate buf append java util maxInvocationDate toGMTString buf append format java util maxInvocationDate buf append minInvocationTime buf append minInvocationTime buf append minInvocationDate buf append java util minInvocationDate toGMTString buf append format java util minInvocationDate buf append totalInvocationTime buf append totalInvocationTime buf append averageInvocationTime
53584	Forms authentication cookies requires submission Created attachment details Standalone test app reproduces issue application forms authentication Servlet specification configured store session IDs URL cookies configuration working expected Tomcat earlier upgrading Tomcat combination longer works expected user initially submits login form returned form login Submitting login form time log difference spot form submission submission request attribute javax servlet request uri jsessionid appended URL Attached standalone WAR reliably reproduces problem Steps reproduce Unpack tomcat windows version apache tomcat windows zip Drop forms test war webapps directory Disable cookies editing conf context xml Context cookies Context Add user authenticated conf tomcat users xml tomcat users role rolename tomcat user username tomcat password tomcat roles tomcat tomcat users Launch tomcat bin catalina bat start Navigate http localhost forms test jsp Enter user tomcat pass tomcat prefilled Click login Observe returned login session URL time Enter username password click login Login succeed time Environment details Windows bit Oracle JVM Debian bit Oracle JVM Relevant tomcat user mailing list thread http tomcat markmail org thread kywykrrjvwuavndp
53735	Update annotation scanning compatible Java files reported users mailing list annotation scanning code fail scan compiled Java thread Tomcat Groovy Java http tomcat markmail org thread jfmznleqdczwh appears installs groovy indy jar Tomcat web app BCEL chokes Java specific code ala org apache tomcat util bcel classfile ClassFormatException Invalid tag constant pool org apache tomcat util bcel classfile Constant readConstant Constant java org apache tomcat util bcel classfile ConstantPool init ConstantPool java org apache tomcat util bcel classfile ClassParser readConstantPool ClassParser java org apache tomcat util bcel classfile ClassParser parse ClassParser java org apache catalina startup ContextConfig processAnnotationsStream ContextConfig java problem specific libraries Groovy disable annotation scanning thread general Tomcat targets Java scan files
53737	ServletContext getJspConfigDescriptor Jasper XML parsing merged web xml PATCHES Tomcat ContextConfig webConfig merged web xml file serialized String attribute ServletContext String mergedWebXml webXml toXml sContext setAttribute org apache tomcat util scan Constants MERGED WEB XML mergedWebXml JspConfig processWebDotXml Jasper parsed XML objects access configuration Servlet API methods ServletContext getJspConfigDescriptor
53792	AstValue getTarget mistakes method invocation property access evaluate method expression beanFactory loginBean init Expected behavior lookup beanFactory invoke loginBean method invoke init method Actual behavior exception thrown javax PropertyNotFoundException LoginView xhtml listener viewBeanFactory loginBean initIfGetRequest Property loginBean type bedag redacted InteractionLayer EnhancerByCGLIB source AstValue getTarget EvaluationContext checks child AstMethodParameters expression additional method invocation expression loop base propCount property children getValue ctx ctx setPropertyResolved base resolver getValue ctx base property base propCount propCount children AstMethodParameters base result method invocation property children getValue ctx ctx setPropertyResolved base resolver getValue ctx base property
53952	Add support TLS Created attachment details patch tomcat trunk adds support newer TLS versions nice support newer versions TLS protocol BEAST attack usable ciphersuites supported TLS version based attach compile tested patches tcnative tomcat
54045	ReplicatedMap don TcpFailureDetector configuration Tribes stack TcpPingInterceptor TcpFailureDetector MessageDispatchInterceptor StaticMembershipInterceptor work cluster side thread call TcpFailureDetector heartbeat call checkMembers call performBasicCheck membership performBasicCheck missing node add missing member membership membership memberAlive THREAD TIME WORK check memberAlive remove doesn exist side thread call channel getMembers AbstractReplicatedMap call call TcpFailureDetector getMembers wrong unavailable nodes Note synchronize membership isn TcpFailureDetector getMember getMembers hasMembers Membership equivalent method heavy lock thread TcpFailureDetector check node alive issue AbstractReplicatedMap TcpFailureDetector node disapear replicated map ReplicatedMap Channel SEND OPTIONS Channel SEND OPTIONS ACK message missing node fail exception Personnaly override TcpFailureDetector heartbeat avoid performBasicCheck configuration TcpPingInterceptor call performForcedCheck doesn ReplicatedMap issue avoid adding missing member membership list Add method memberAlive MemberImpl Membership side add member TcpFailureDetector performBasicCheck check method adding node doesn AbstractReplicatedMap issue work acknoledge nodes code Tomcat Arnoud
54054	CGIServlet Parameter passShellEnvironment Created attachment details webapps test test running Tomcat Java Ubuntu Bit webapps test test CGI CGIServlet difference test test Parameter passShellEnvironment test sets test call cgi bin getenv apps complete environment searched source CGIServlet Hashtable Hashtable String String shellEnv Hashtable String String test sets Hashtable test remove test environment Tomcat problem
54087	HTTP Connector incorrectly Exception Invalid Modified Header request Frame bytes wire bits bytes captured bits Ethernet Src Adtran Dst Supermic Internet Protocol Version Src Dst Transmission Control Protocol Src Port Dst Port http Seq Ack Len Reassembled TCP Segments bytes Hypertext Transfer Protocol rss calendar xml HTTP Accept application atom xml application rdf xml application rss xml application xml text xml Connection close Accept Encoding gzip deflate User Agent Superfeedr bot http superfeedr touch polling hard Superfeedr Url http startupia mhsoftware rss calendar xml Match Modified host startupia mhsoftware ofu dpn ffffffffc Full request URI http startupia mhsoftware rss calendar xml Tomcat Exception http ERROR org apache catalina core ContainerBase Catalina startupia mhsoftware RSSProcessor Servlet service servlet RSSProcessor threw exception java lang IllegalArgumentException org apache catalina connector Request getDateHeader Request java org apache catalina connector RequestFacade getDateHeader RequestFacade java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java Modified Header format RFC RFC passed Modified invalid response normal server current time invalid Tomcat complying aspect specification processing specification
54198	Improve HttpServletResponse sendError JavaDoc description methods calls sendError internally generating HTML message mentioned docs assume response empty duplicate paragraph sendError String method alter server defaults creating response HTML formatted server error specific message setting content type text html error declaration web application status code passed served improvement speaker add method effectively calling sendError add sendError String JavaDocs verbatim copy Oracle Servlet API reveal explicitly provide patch doc svn apache org
54475	SMAP broken Java JSP compile order compile JSPs Java additions JSP servlet conf web xml init param param compiler param param modern param init param init param param compilerSourceVM param param param init param init param param compilerTargetVM param param param init param error org apache jasper JasperException org apache jasper JasperException Unable compile JSP org apache jasper servlet JspServletWrapper handleJspException JspServletWrapper java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java Caused java IOException unexpected tag org apache jasper compiler SmapUtil SDEInstaller copyConstantPool SmapUtil java org apache jasper compiler SmapUtil SDEInstaller addSDE SmapUtil java org apache jasper compiler SmapUtil SDEInstaller install SmapUtil java org apache jasper compiler SmapUtil SDEInstaller install SmapUtil java org apache jasper compiler SmapUtil installSmap SmapUtil java org apache jasper compiler AntCompiler generateClass AntCompiler java org apache jasper compiler Compiler compile Compiler java add suppressSmap parameter JSP servlet conf web xml error JSP compiles fine init param param suppressSmap param param param init param SMAP playing Java language features lambda expression
54497	RuntimeException WebappClassLoader checkThreadLocalMapForLeaks LifecycleException Observed testing Tomcat trunk WinXP bit JDK running TestWsWebSocketContainer APR Tomcat occurred NPE WebappClassLoader checkThreadLocalMapForLeaks uncaught caused LifecycleException ultimately failure Tomcat stderr SEVERE child container failed java util concurrent ExecutionException org apache catalina LifecycleException Failed component StandardEngine Tomcat StandardHost localhost StandardContext java util concurrent FutureTask Sync innerGet FutureTask java java util concurrent FutureTask FutureTask java org apache catalina core ContainerBase stopInternal ContainerBase java org apache catalina util LifecycleBase LifecycleBase java org apache catalina core ContainerBase StopChild call ContainerBase java org apache catalina core ContainerBase StopChild call ContainerBase java java util concurrent FutureTask Sync innerRun FutureTask java java util concurrent FutureTask FutureTask java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused org apache catalina LifecycleException Failed component StandardEngine Tomcat StandardHost localhost StandardContext org apache catalina util LifecycleBase LifecycleBase java Caused org apache catalina LifecycleException Failed component WebappLoader org apache catalina util LifecycleBase LifecycleBase java org apache catalina core StandardContext stopInternal StandardContext java org apache catalina util LifecycleBase LifecycleBase java Caused java lang NullPointerException sun reflect UnsafeFieldAccessorImpl ensureObj UnsafeFieldAccessorImpl java sun reflect UnsafeObjectFieldAccessorImpl UnsafeObjectFieldAccessorImpl java java lang reflect Field Field java org apache catalina loader WebappClassLoader checkThreadLocalMapForLeaks WebappClassLoader java org apache catalina loader WebappClassLoader checkThreadLocalsForLeaks WebappClassLoader java org apache catalina loader WebappClassLoader clearReferences WebappClassLoader java org apache catalina loader WebappClassLoader WebappClassLoader java org apache catalina loader WebappLoader stopInternal WebappLoader java org apache catalina util LifecycleBase LifecycleBase java testcase Testcase testSmallTextBufferClientTextMessage Caused ERROR Failed component StandardServer org apache catalina LifecycleException Failed component StandardServer org apache catalina util LifecycleBase LifecycleBase java org apache catalina startup Tomcat Tomcat java org apache catalina startup TomcatBaseTest tearDown TomcatBaseTest java Caused org apache catalina LifecycleException Failed component StandardService Tomcat org apache catalina util LifecycleBase LifecycleBase java org apache catalina core StandardServer stopInternal StandardServer java org apache catalina util LifecycleBase LifecycleBase java Caused org apache catalina LifecycleException Failed component StandardEngine Tomcat org apache catalina util LifecycleBase LifecycleBase java org apache catalina core StandardService stopInternal StandardService java org apache catalina util LifecycleBase LifecycleBase java Caused org apache catalina LifecycleException child container failed org apache catalina core ContainerBase stopInternal ContainerBase java org apache catalina util LifecycleBase LifecycleBase java Thoughts throwables checkFor Leaks methods failed component failure method calls table array member evaluated unexpectedly
54599	DataSource password exposed applications toString method server side create DataSource org apache tomcat jdbc pool DataSourceFactory Resource Container description jdbc testTomcatJdbc factory org apache tomcat jdbc pool DataSourceFactory type javax sql DataSource username password secret driverClassName org Driver url jdbc mem test minIdle initialSize web application create JSP file add javax naming session DOCTYPE HTML html head title Display Password title head body toString Tomcat JDBC dataSource javax sql DataSource ctx lookup java comp env jdbc testTomcatJdbc println dataSource toString body html Access JSP browser output toString DataSource display password configured Resource tag Output toString Tomcat JDBC org apache tomcat jdbc pool DataSource cae ConnectionPool defaultAutoCommit defaultReadOnly defaultTransactionIsolation defaultCatalog driverClassName org Driver maxActive maxIdle minIdle initialSize maxWait testOnBorrow testOnReturn timeBetweenEvictionRunsMillis numTestsPerEvictionRun minEvictableIdleTimeMillis testWhileIdle testOnConnect password secret url jdbc mem test username validationQuery validatorClassName validationInterval accessToUnderlyingConnectionAllowed removeAbandoned removeAbandonedTimeout logAbandoned connectionProperties initSQL jdbcInterceptors jmxEnabled fairQueue useEquals abandonWhenPercentageFull maxAge useLock dataSource dataSourceJNDI suspectTimeout alternateUsernameAllowed commitOnReturn rollbackOnReturn useDisposableConnectionFacade logValidationErrors propagateInterruptState
54732	StatementCache interceptor calls Statement close memory leaks http mail archives apache org mod mbox tomcat users mbox browser Tomcat jdbc pool StatementCache interceptor TomEE actual java sql Statement close method called Statements severe memory leaks MySQL driver bug StatementCache closeInvoked called method code comments Override closeInvoked shouldClose cacheSize maxCacheSize brievety closed delegate delegate shouldClose check body closeInvoked closeInvoked closeInvoked getDelegate coming StatementCache closeInvoked getDelegate close SQLException ignore closed delegate test step org apache tomcat jdbc test TestStatementCache tests testPreparedStatementCache testPreparedStatementCache calls Statement close intercepted forwarded actual Statement kind mock Statement close called created Statement
54802	Provide location exceptions thrown JspDocumentParser PATCH Steps reproduce bug exception thrown org apache jasper compiler JspDocumentParser checkScriptingBody issue exception bug provide file occurred tag file happened hard follow places JspDocumentParser SAXException location propose replace SAXException msg SAXParseException msg locator numbers correct cases provide file
54947	Http NioProtocol generates HTTP responses valid requests request split multiple packets HTTP request broken multiple packets packet request terminating request included packet Tomcat incorrectly HTTP Version Supported response Http NioProtocol connector HTTP connector exhibit problem request Packet HTTP Packet nHost localhost Packet Connection Close Response HTTP HTTP Version Supported Server Apache Coyote Thu GMT Connection close Python program reproduces problem Tomcat Tomcat usr bin python socket time socket socket connect localhost sendall HTTP time sleep packet sendall nHost localhost sendall Connection close print makefile read Moving sendall sendall Tomcat respond correctly
55198	Quote entity html element attribute evaluated tagx attribute expression Created attachment details War demonstrating issue Quote entity html element attribute evaluated tagx attribute expression tagx file html element href onclick window alert quot quot foobar renders href onclick window alert quot quot foobar tagx file html element href onclick window alert quot text quot foobar renders text foobar href onclick window alert foobar foobar browsers happy expected render href onclick window alert quot foobar quot foobar browsed jsp spec couldn identify explicitly covered expect valid xml output tagx file don behaviour tag file tagx files work problems WebSphere WebLogic containers test war attached setup servlet spec jsp Tomcat container thought test latest release output receive test war tomcat DOCTYPE html html head title Test output tag tagx quote entity html element attribute title head body tag file href onclick window alert quot quot Click display quot quot href onclick window alert quot foobar quot Click display quot foobar quot tagx file onclick window alert quot quot href Click display onclick window alert foobar href Click display foobar body html
55342	Lost interruption org apache tomcat jdbc pool ConnectionPool close call Thread interrupted interrupt reset code thrown InterruptedException InterruptedException getPoolProperties getPropagateInterruptState Thread currentThread interrupt Thread interrupted
55343	Add flag ignore exceptions creating initial pool initial pool size empty start fails create connections pool fails create initial connections reason exceptions workaround set initial pool size handy add flag ignore log exceptions occur creating initial connections
55749	Disabling SSLEngine AprLifecycleListener leads misleading error message startup SSL Connector delcared Listener className org apache catalina core AprLifecycleListener SSLEngine server xml APR connector weeks server xml Connector protocol org apache coyote http Http AprProtocol port HTTPS PORT connectionTimeout maxHttpHeaderSize maxThreads URIEncoding UTF bufferSize scheme https secure SSLEnabled SSLProtocol TLSv SSLCipherSuite HIGH ADH SSLCertificateFile SSL CERT FILE SSLCertificateKeyFile SSL CERT KEY FILE SSLPassword SSL PASSWORD Start Tomcat receive confusing message Nov org apache coyote http Http AprProtocol start SEVERE Error starting endpoint java lang Exception Socket bind failed Adresse bereits Zugriff org apache tomcat util net AprEndpoint init AprEndpoint java org apache tomcat util net AprEndpoint start AprEndpoint java org apache coyote http Http AprProtocol start Http AprProtocol java org apache catalina connector Connector start Connector java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java Nov org apache catalina core StandardService start SEVERE Failed start connector Connector HTTP LifecycleException service getName Catalina Protocol handler start failed java lang Exception Socket bind failed Adresse bereits Zugriff org apache catalina connector Connector start Connector java org apache catalina core StandardService start StandardService java org apache catalina core StandardServer start StandardServer java org apache catalina startup Catalina start Catalina java sun reflect NativeMethodAccessorImpl invoke Method sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache catalina startup Bootstrap start Bootstrap java org apache catalina startup Bootstrap main Bootstrap java correct port availble SSL engine turned check stratup illegal
55799	websocket Stability issues concurrently sending large messages Created attachment details Test modifications Chat thread Users List problems occur sending large messages WebSocket connection getBasicRemote sendText String ChatAnnotation synchronize method multiple threads call RemoteEndpoint Basic sendText concurrently JavaDoc RemoteEndpoint Basic websocket connection underlying RemoteEndpoint busy sending message call send threads attempt call send method concurrently developer attempts send message middle sending existing send method called connection busy IllegalStateException thought read earlier implementation synchronize calls methods RemoteEndpoint Basic throwing ISE changed sending large Messages Websocket RemoteEndpoint Basic threads synchronization problems happen WebSocket connection suddenly closed guess browser aborts connections data corruption Timeout errors examined raw data TCP Exceptions occur open chat xhtml browser raw WebSocket response xhtml file screenshots issues happen synchronizing calls RemoteEndpoint Basic sendText harder reproduce reproduce Checkout Tomcat trunk apply attached patch applies modifications Chat Websocket Javascript sends messages regular interval ChatAnnotation modifies message times large original message sends session getBasicRemote sendText msg Build Tomcat Windows machine Windows Java NIO HTTP connector configuration Open Firefox browsers open Chat http localhost examples websocket chat xhtml Repeat actions regular interval Wait seconds Tomcat closes WebSocket connections time browsers press times time browsers WebSocket connection suddenly closed Tomcat exceptions IOException ClosedChannelException expected browser aborts connection Nov SEVERE http nio ClientPoller org apache tomcat util net NioEndpoint processSocket Error allocating socket processor java lang NullPointerException org apache tomcat util net NioEndpoint processSocket NioEndpoint java org apache tomcat util net NioEndpoint Poller processKey NioEndpoint java org apache tomcat util net NioEndpoint Poller NioEndpoint java java lang Thread Thread java Nov SEVERE http nio exec websocket chat ChatAnnotation onError Chat Error java nio channels ClosedChannelException java nio channels ClosedChannelException sun nio SocketChannelImpl ensureReadOpen SocketChannelImpl java sun nio SocketChannelImpl read SocketChannelImpl java org apache tomcat util net NioChannel read NioChannel java org apache coyote http upgrade NioServletInputStream fillReadBuffer NioServletInputStream java org apache coyote http upgrade NioServletInputStream doIsReady NioServletInputStream java org apache coyote http upgrade AbstractServletInputStream isReady AbstractServletInputStream java org apache tomcat websocket server WsFrameServer onDataAvailable WsFrameServer java org apache tomcat websocket server WsHttpUpgradeHandler WsReadListener onDataAvailable WsHttpUpgradeHandler java org apache coyote http upgrade AbstractServletInputStream onDataAvailable AbstractServletInputStream java org apache coyote http upgrade AbstractProcessor upgradeDispatch AbstractProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Nov SEVERE http nio exec websocket chat ChatAnnotation onError Chat Error java lang IllegalArgumentException java lang reflect InvocationTargetException java lang IllegalArgumentException java lang reflect InvocationTargetException org apache tomcat websocket pojo PojoMessageHandlerWholeBase onMessage PojoMessageHandlerWholeBase java org apache tomcat websocket WsFrameBase sendMessageText WsFrameBase java org apache tomcat websocket WsFrameBase processDataText WsFrameBase java org apache tomcat websocket WsFrameBase processData WsFrameBase java org apache tomcat websocket WsFrameBase processInputBuffer WsFrameBase java org apache tomcat websocket server WsFrameServer onDataAvailable WsFrameServer java org apache tomcat websocket server WsHttpUpgradeHandler WsReadListener onDataAvailable WsHttpUpgradeHandler java org apache coyote http upgrade AbstractServletInputStream onDataAvailable AbstractServletInputStream java org apache coyote http upgrade AbstractProcessor upgradeDispatch AbstractProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java lang reflect InvocationTargetException sun reflect GeneratedMethodAccessor invoke Unknown Source sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java java lang reflect Method invoke Method java org apache tomcat websocket pojo PojoMessageHandlerWholeBase onMessage PojoMessageHandlerWholeBase java Caused java nio charset CoderMalfunctionError java nio BufferOverflowException java nio charset CharsetEncoder encode CharsetEncoder java org apache tomcat websocket WsRemoteEndpointImplBase TextMessageSendHandler write WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase sendPartialString WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase sendString WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointBasic sendText WsRemoteEndpointBasic java websocket chat ChatAnnotation broadcast ChatAnnotation java websocket chat ChatAnnotation incoming ChatAnnotation java Caused java nio BufferOverflowException java nio Buffer nextPutIndex Buffer java java nio HeapByteBuffer HeapByteBuffer java org apache tomcat util buf Utf Encoder encodeNotHasArray Utf Encoder java org apache tomcat util buf Utf Encoder encodeLoop Utf Encoder java java nio charset CharsetEncoder encode CharsetEncoder java Nov SEVERE http nio exec websocket chat ChatAnnotation onError Chat Error java IOException Eine vorhandene Verbindung wurde vom Remotehost geschlossen java IOException Eine vorhandene Verbindung wurde vom Remotehost geschlossen sun nio SocketDispatcher read Method sun nio SocketDispatcher read SocketDispatcher java sun nio IOUtil readIntoNativeBuffer IOUtil java sun nio IOUtil read IOUtil java sun nio SocketChannelImpl read SocketChannelImpl java org apache tomcat util net NioChannel read NioChannel java org apache coyote http upgrade NioServletInputStream fillReadBuffer NioServletInputStream java org apache coyote http upgrade NioServletInputStream doRead NioServletInputStream java org apache coyote http upgrade AbstractServletInputStream read AbstractServletInputStream java org apache tomcat websocket server WsFrameServer onDataAvailable WsFrameServer java org apache tomcat websocket server WsHttpUpgradeHandler WsReadListener onDataAvailable WsHttpUpgradeHandler java org apache coyote http upgrade AbstractServletInputStream onDataAvailable AbstractServletInputStream java org apache coyote http upgrade AbstractProcessor upgradeDispatch AbstractProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java press Websocket connection closed opened browser doesn response request chat xhtml add synchronization modifying ChatAnnotation broadcast method broadcast String msg ChatAnnotation client connections client client session getBasicRemote sendText msg Exception repeat steps open chat xhtml Firefox WebSocket connection closed start repeatedly press time normal IOExceptions ClosedChannelExceptions minutes problems WebSocket connections closed opening time browser didn response HTTP request browser raw WebSocket reply XHTML reply screenshots exceptions Nov SEVERE http nio exec websocket chat ChatAnnotation onError Chat Error java IOException java util concurrent ExecutionException java IOException Key cancelled java IOException java util concurrent ExecutionException java IOException Key cancelled org apache tomcat websocket WsRemoteEndpointImplBase startMessageBlock WsRemoteEndpointImplBase java org apache tomcat websocket WsSession sendCloseMessage WsSession java org apache tomcat websocket WsSession onClose WsSession java org apache tomcat websocket server WsHttpUpgradeHandler close WsHttpUpgradeHandler java org apache tomcat websocket server WsHttpUpgradeHandler access WsHttpUpgradeHandler java org apache tomcat websocket server WsHttpUpgradeHandler WsReadListener onDataAvailable WsHttpUpgradeHandler java org apache coyote http upgrade AbstractServletInputStream onDataAvailable AbstractServletInputStream java org apache coyote http upgrade AbstractProcessor upgradeDispatch AbstractProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Caused java util concurrent ExecutionException java IOException Key cancelled org apache tomcat websocket FutureToSendHandler FutureToSendHandler java org apache tomcat websocket WsRemoteEndpointImplBase startMessageBlock WsRemoteEndpointImplBase java Caused java IOException Key cancelled org apache coyote http upgrade NioServletOutputStream doWriteInternal NioServletOutputStream java org apache coyote http upgrade NioServletOutputStream doWrite NioServletOutputStream java org apache coyote http upgrade AbstractServletOutputStream writeInternal AbstractServletOutputStream java org apache coyote http upgrade AbstractServletOutputStream write AbstractServletOutputStream java org apache tomcat websocket server WsRemoteEndpointImplServer onWritePossible WsRemoteEndpointImplServer java org apache tomcat websocket server WsRemoteEndpointImplServer doWrite WsRemoteEndpointImplServer java org apache tomcat websocket WsRemoteEndpointImplBase writeMessagePart WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase startMessage WsRemoteEndpointImplBase java org apache tomcat websocket WsRemoteEndpointImplBase startMessageBlock WsRemoteEndpointImplBase java Nov SEVERE http nio exec org apache tomcat util net NioEndpoint SocketProcessor doRun java lang NullPointerException org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Nov SEVERE http nio exec org apache tomcat websocket server WsHttpUpgradeHandler destroy Failed close WebConnection destroying WebSocket HttpUpgradeHandler java lang NullPointerException org apache tomcat websocket server WsHttpUpgradeHandler destroy WsHttpUpgradeHandler java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Nov SEVERE http nio exec org apache coyote http AbstractHttp Processor process Error processing request java lang IllegalArgumentException java nio Buffer position Buffer java sun nio IOUtil write IOUtil java sun nio SocketChannelImpl write SocketChannelImpl java org apache tomcat util net NioChannel write NioChannel java org apache tomcat util net NioBlockingSelector write NioBlockingSelector java org apache tomcat util net NioSelectorPool write NioSelectorPool java org apache coyote http InternalNioOutputBuffer writeToSocket InternalNioOutputBuffer java org apache coyote http InternalNioOutputBuffer addToBB InternalNioOutputBuffer java org apache coyote http InternalNioOutputBuffer commit InternalNioOutputBuffer java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Response action Response java org apache coyote Response sendHeaders Response java org apache catalina connector OutputBuffer doFlush OutputBuffer java org apache catalina connector OutputBuffer close OutputBuffer java org apache catalina connector Response finishResponse Response java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java http markmail org message jch orltzs
55960	TestSSOnonLoginAndBasicAuthenticator flawed incomplete Created attachment details updated test servlet test original author test embarrassed open bug report started code review cleanup time add test cases examine SSO Valve interacts standard Authenticators client cookies updated test shape started thread users list called Single Signon Cookies Based discussion removed lot newly developed test cases needed surprised completed realise failed investigation discovered original logic inadvertently allowed client SSO cookie instructed tests decided check timing suite tests elapsed time seconds current svn version completes seconds running times unavoidable tests explore SSO webapp session expiry test session expire shortest timeout minute test session expire prove longer lived session preserves SSO status expiry granularity minute longer lived session expired minutes test minutes understand svn current version test cases successful completion remaining test cases expire sessions complete seconds expiry cases waiting seconds simply isn worse noticed setup methods webapps call Standard Context setSessionTimeout mins time arguments erroneously small numbers seconds Tomcat code documentation consistently define session expiry argument number minutes timeouts seconds interpreted MINUTES work properly current test minutes complete observed seconds debugger verify sessions maxInactiveInterval set suspicious test don productive worry current versions tests redeveloped debugged elapsed times test cases confirm work properly cookies test required variant test servlet client supply request parameter parameter interpreted url encoded inserted HTML response returned URL client established session downside increased elapsed time compared broken version simple unit test establish shorter timeout seconds topic discussed length dev list complete account Konstantin post svn commit December version test ManagerBase basicContext getManager setProcessExpiresFrequency MANAGER EXPIRE SESSIONS FAST ensure sessions expired StandardSession setMaxInactiveInterval EXTRA DELAY SECS force quicker expiry session waiting suite tests complete seconds comparable broken version quarter unkludged test time elapsed time trimmed bit version propose resilience variation real life timeouts net result extensive change implement smaller chunks inter dependent
55996	Async context timeout HTTP NIO connector Created attachment details Servlet Async processing Java Based client created ProblemServlet receives request Java based client Servlet starts Async processing request Async processing method loop cyclically sends String messages client implementation method String msg ServletOutputStream outputStream publisherAsyncCtx getResponse getOutputStream continu continu msg msg System println publishing message msg outputStream println msg publisherAsyncCtx getResponse flushBuffer Thread sleep InterruptedException System println sleep InterruptedException getMessage printStackTrace Java based console application client hits servlet reads output stream messages arrive seconds connection closed server Logs Server side Starting Async Context publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST publishing message Mon Jan IST Exception thread http bio exec java lang IllegalStateException request AsyncContext completed processing org apache catalina core AsyncContextImpl check AsyncContextImpl java org apache catalina core AsyncContextImpl getResponse AsyncContextImpl java orion artcloopcheck ProblemServlet AsynRunnable ProblemServlet java org apache catalina core AsyncContextImpl RunnableWrapper AsyncContextImpl java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java java lang Thread Thread java Issue apache tomcat apache tomcat tested release variants codebase apache tomcat issues
56025	Order invocation method ServerEndpointConfig Configurator current order invocation http svn apache org repos asf tomcat trunk java org apache tomcat websocket server UpgradeUtil java checkOrigin getNegotiatedSubprotocol getEndpointInstance modifyHandshake JSR guilty order order refer application subclass ServerEndpointConfig Configurator implemented users propose order modifyHandshake applications query store upgrade request URI checkOrigin applications check origin request response previous call checks origin request URI HTTP headers getNegotiatedSubprotocol invoked invoked client WebSocket Protocol header ideal server configured protocol application called check client getEndPointInstance point creating endpoint methods returned failure point invoke method returned current order invoke method getNegotiatedExtensions understand extensions supported method eventually invoked fourth getEndPointInstance
56027	Unable TCN RHEL boxes box booted fips mode problems RHEL box configured boot FIPS mode automatically underlying openssl packages detect initialize Tomcat configured APR listener FIPSMode set APRLifecycleListener initializeSSL calls TCN explicitly fipsModeSet RHEL box configured fips mode boot call fail openssl libraries claims fips mode set openssl source openssl src rpm FIPS mode set call set Putting check TCN src ssl fipsModeCheck mode set solves issue SSL TMP INIT macro called TCN src ssl initialize method pre initialize bit RSA key key appears invalid underlying ssl tmp key init rsa call fails winds entire initialize code throwoing error platform unsupported function exiting Deleting RSA init solves solution Discussing folks bit RSA key invalid FIPS mode call wrapped FIPS Mode check depth solution initial debug wound exposing FIPS Mode call JNI AprLifecycleListner check display intelligent message involve TCN worth extra involvement
56082	ConcurrentModificationException org apache juli ClassLoaderLogManager Created attachment details Source reproduce Tomcat java util logging LogManager getLogManager general instance org apache juli ClassLoaderLogManager webapp iterating result LogManager getLogManager getLoggerNames ConcurrentModification occur reproduce download attached test zip mvn clean Maven copy target test war tomcat webapps start Tomcat lot Issue reproduced java util ConcurrentModificationException System output webapp simple Logger getLogger String LogManager getLoggerNames threads reproduced Tomcat JDK suppose copy result org apache juli ClassLoaderLogManager getLoggerNames
56172	AjpNioProtocol corrupts ignores request body Tomcat fails read request body AjpNioProtocol connector symptom log message ERROR org apache coyote ajp AjpMessage Invalid message received signature problem fact read method AjpNioProcessor read requested number bytes readSocket call required reading ajp message wrongly read message Reading messages fail signature error content corrupt problem happen REQUEST message larger network packet request body Content Length body chunk message REQUEST message reproduced solved problem Tomcat source code problem trunk Description patch problem read method calls readSocket read requested number bytes Alter maximum bytes read call total bytes read requested org apache coyote ajp AjpNioProcessor java org apache coyote ajp AjpNioProcessor java revisjon org apache coyote ajp AjpNioProcessor java arbeidskopi block blockFirstRead read res readSocket buf read pos block res readSocket buf read pos read block res read res res block
56179	ParseException expression test JSP test file html body test body html Tomcat works fine Tomcat contained expression ParseException org apache catalina core StandardWrapperValve invoke Servlet service servlet jsp context path test threw exception exception occurred processing JSP test jsp html body test body html Stacktrace root org apache parser ParseException Encountered column expecting org apache parser ELParser generateParseException ELParser java org apache parser ELParser consume token ELParser java org apache parser ELParser LambdaParameters ELParser java org apache parser ELParser LambdaExpressionOrInvocation ELParser java org apache parser ELParser NonLiteral ELParser java org apache parser ELParser ValuePrefix ELParser java org apache parser ELParser ELParser java org apache parser ELParser Unary ELParser java org apache parser ELParser Multiplication ELParser java org apache parser ELParser Math ELParser java org apache parser ELParser Concatenation ELParser java org apache parser ELParser Compare ELParser java org apache parser ELParser Equality ELParser java org apache parser ELParser ELParser java org apache parser ELParser ELParser java org apache parser ELParser Choice ELParser java org apache parser ELParser Assignment ELParser java org apache parser ELParser Semicolon ELParser java org apache parser ELParser Expression ELParser java org apache parser ELParser DynamicExpression ELParser java org apache parser ELParser CompositeExpression ELParser java org apache lang ExpressionBuilder createNodeInternal ExpressionBuilder java org apache lang ExpressionBuilder build ExpressionBuilder java org apache lang ExpressionBuilder createValueExpression ExpressionBuilder java org apache ExpressionFactoryImpl createValueExpression ExpressionFactoryImpl java org apache jasper runtime PageContextImpl proprietaryEvaluate PageContextImpl java org apache jsp test jsp jspService test jsp java org apache jasper runtime HttpJspBase service HttpJspBase java javax servlet http HttpServlet service HttpServlet java org apache jasper servlet JspServletWrapper service JspServletWrapper java org apache jasper servlet JspServlet serviceJspFile JspServlet java org apache jasper servlet JspServlet service JspServlet java javax servlet http HttpServlet service HttpServlet java
56190	Connection alive working asynchronous servlet Created attachment details AsyncHelloServlet java asynchronous servlets call request startAsync alive disabled response chunked transfer encoding attached code simple servlet headers response HTTP Server Apache Coyote Transfer Encoding chunked Feb GMT regular blocking servlet HTTP Server Apache Coyote Content Length Feb GMT
56334	Backslash Escaping Attributes Created attachment details WAR file reproduce exception expressions jspx files Java String backslash decoded template text decoded JSP Tag attributes decoded processing JSTL tag attribute Works expected yielding resize asd set asd resize Won work set data resize dito jsp element resize jsp element Works yields invalid set data resize JSP compiling exception thrown Tomcat log Apr org apache catalina core StandardWrapperValve invoke Schwerwiegend Servlet service servlet jsp context path tomcat test threw exception jspx column resize invalid expression javax ELException Failed parse expression resize root org apache jasper JasperException jspx column resize invalid expression javax ELException Failed parse expression resize org apache jasper compiler DefaultErrorHandler jspError DefaultErrorHandler java org apache jasper compiler ErrorDispatcher dispatch ErrorDispatcher java org apache jasper compiler ErrorDispatcher jspError ErrorDispatcher java org apache jasper compiler Validator ValidateVisitor getJspAttribute Validator java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node UninterpretedTag accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Validator ValidateVisitor visit Validator java org apache jasper compiler Node JspRoot accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Node Visitor visitBody Node java org apache jasper compiler Node Visitor visit Node java org apache jasper compiler Node Root accept Node java org apache jasper compiler Node Nodes visit Node java org apache jasper compiler Validator validateExDirectives Validator java org apache jasper compiler Compiler generateJava Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java org apache jasper compiler Compiler compile Compiler java processed output actual parsing tomcat examples work produce correct output
56438	jar scan find context config TLD config log message process migrating Tomcat simple war application orders magnitude longer load Tomcat root Tomcat Servlet jar scanning context config fragments painful process FINE log level parse thousands Tomcat log messages google messages waste time Tomcat needed log message jar scan find jar recommend adding jar filters catalina properties tomcat util scan DefaultJarScanner jarsToSkip org apache catalina startup ContextConfig jarsToSkip org apache catalina startup TldConfig jarsToSkip enhancement add log message recommending adding jar scanning find recommend setting log level FINE explicitly putting logging properties override message logging properties Tomcat messages recommendation commenting logging properties override message hanging fruit straight add huge Tomcat unaware performance impact Servlet jar scanning Tomcat veterans add upgrade replace existing jar files unknowingly affect jar scanning performance
56446	Handling InvocationTargetException PojoMessageHandlerWholeBase PojoMessageHandlerPartialBase onMessage methods handle InvocationTargetException Endpoint OnMessage method result method invoke pojo parameters IllegalAccessException InvocationTargetException IllegalArgumentException org apache tomcat util ExceptionUtils unwrapInvocationTargetException RuntimeException result method invoke pojo parameters IllegalAccessException InvocationTargetException Throwable throwable ExceptionUtils unwrapInvocationTargetException throwable RuntimeException RuntimeException throwable RuntimeException throwable
56449	WebSocket session closed onOpen sendText sync mode Created attachment details exception captured ServerEndpoint push echo EchoAnnotation OnOpen open Session session session isOpen session getBasicRemote sendText Exception session close IOException Ignore session getAsynRemote working errors thousands websockets
56472	classes remain memory web application LDAP Created attachment details Classes hold reference WebappClassLoader problem unloading casses web application threads closed classes remain memory destroy WebappClassLoader held hashMap naming services hold attached image problem occurs application naming service identified method application triggers problem MyBindAuthenticator BindAuthenticator Override DirContextOperations authenticate Authentication authentication List String userns getUserDns username replace hardcoded list strings problem triggered call naming service method replace authenticate method empty problem disappears security reason problematic hashmap securityTokens accessible remove references classes Catalina reachable workaround bugfix
56573	Spec Session getRequestURI doesn protocol port spec unclear Session getRequestURI doesn full path enpoint returns atmosphere chat host port atmosphere chat issue facing application rebuidl full URL port missing find port proper URI
56606	Tomcat Installer attribute generated tomcat users xml Tomcat Installer apache tomcat exe admin user created tomcat users xml tag xml attribute username parts file source files tomcat http svn apache org repos asf tomcat trunk res tomcat nsi StrCpy user password roles trivial change username Note published doc web site references user installation procedure exe don set password admin tomcat users xml won generated Sandro
56608	WatchedResource configured TomcatHome conf Catalina localhost context XML file triggering context reload working days Created attachment details Log files day error occurred context reloading stopped automatic Context file app question included set context XML file TOMCAT conf Catalina localhost docbase network fileshare set WatchedResource handful files fileshare files updated context refreshed works fine error logs java IOException semaphore timeout period expired Log file full stack trace uploaded notice error start context Tomcat manager expected appears network unavailability caused issue application started manually WatchedResources updated longer force context reload reload context manually full restart Tomcat service
56653	Concurrency issue Mapper ContextList stopping Contexts noticed issue reviewing code Mapper removeContextVersion current trunk code exists Tomcat Mapper removeContextVersion Mapper removeContext Tomcat host contextList contexts newContexts Recalculate nesting host contextList nesting newContexts length slashCount slashCount newContexts slashCount host contextList nesting host contextList nesting slashCount problem delay list contexts updated contextList contexts contextList nesting field updated nesting field mapping contexts contexts ROOT foo foo bar Context foo bar stopped request foo http localhost foo html Expected behaviour Map context foo application Actual behaviour request erroneously mapped ROOT webapp foo test
56724	Restart Container background thread died unexpectedly address issue raised times mailing lists http tomcat markmail org thread xooxcq ehki ContainerBackgroundProcessor compounding OOMEs http tomcat markmail org thread vicg kusckra Background thread died errors log invoking backgroundProcess JMX start background thread delay start succeeds thread clean stack StackOverflowError partially OutOfMemoryError thread death strategy admin handle OutOfMemoryError start JVM OnOutOfMemoryError flag script shuts restarts Tomcat
56736	IllegalStateException calling AsyncContext dispatch Requests timeout occasionally error calling AsyncContext dispatch Jul SEVERE http nio exec org apache catalina connector CoyoteAdapter asyncDispatch Exception processing asynchronous request java lang IllegalStateException Calling asyncTimeout valid request Async DISPATCHING org apache coyote AsyncStateMachine asyncTimeout AsyncStateMachine java Java Blocking Connector Http Protocol reproduce Tomcat reproduced sample project request http localhost servlet async error fail Sample code test https github marko asplund servlet async Verified Ubuntu OpenJDK Mac Oracle Java
56900	Resource Leaks CID Created attachment details Close InputStream Factor common code method InputStreams closed loading content properties times code base common task create utility method capsulate funtion DefaultInstanceManager created method ContextConfig adapted local logic
56902	DefaultServlet leak resource method copy CID Created attachment details close istream DefaultServlet copy method copy istream left unclosed write operations ostream exception copyRange called simple wrap ostream operations copyRange block exceptions catched variable exception copyRange additionally block missing attached patch
56905	Unable destroy WebSocket thread group warning reloading examples webapp Testing release candidate Windows JDK bit NIO connector Steps reproduce Start Tomcat Visit Echo websockets http localhost examples websocket echo xhtml Select connection option annotation API stream issue reproducible connection options Press Connect button Press Echo message button Press Disconnect button Touch file webapps examples WEB INF web xml wait web application reloaded Tomcat Actual Webapp reloading completes Unable destroy WebSocket thread group warning logged logs catalina log file Expected warning Aug INFO ContainerBackgroundProcessor StandardEngine Catalina org apache catalina core StandardContext reload Reloading Context examples started Aug WARNING ContainerBackgroundProcessor StandardEngine Catalina org apache tomcat websocket server WsServerContainer destroy Unable destroy WebSocket thread group WebSocketServer localhost examples threads running web application stopped Aug INFO ContainerBackgroundProcessor StandardEngine Catalina org apache catalina core StandardContext reload Reloading Context examples completed Evaluation notes Reproduction rate warning happen Steps repeated restarting Tomcat issue connection option issue depend message printed org apache tomcat websocket server WsServerContainer destroy method originates adding debug code StringBuilder buf StringBuilder buf append threadGroup getName buf append activeCount append threadGroup activeCount buf append isDestroyed append threadGroup isDestroyed Thread threads Thread threadCount threadGroup enumerate threads buf append nactual Thread count append threadCount threadCount buf append append threads StackTraceElement stack threads getStackTrace StackTraceElement ste stack buf append append ste log warn buf toString activeCount isDestroyed actual Thread count threadGroup enumerate returned thread add threadGroup destroy call code succeeds PermGen memory leaks thread stack traces printed WebappClassLoader leak detection code leaks detected Find leaks command Tomcat Manager webapp Missing ThreadGroup destroy call thread group parent thread group list small java object leak safe generally threads running perform web application code warning justified Thoughts threadGroup setDaemon daemon flag thread group destroy method called automatically thread count reaches Generally threadGroup block call methods change propagated calling ThreadGroup isDestroyed ThreadGroup activeCount good goal avoid java object leak http docs oracle javase docs api java lang ThreadGroup html setDaemon threadGroup activeCount include count warning message
56907	Threads leak WebSocket implementation versions leaking threads noticed method WsWebSocketContainer connection endpoint clientEndpointConfiguration path reproduce issue URL existent result connection error threads created AsyncChannelWrapperSecure stay alive time source threads creation ExecutorService executor Executors newFixedThreadPool SecureIOThreadFactory Count threads increasing reconnect attempt existent URL live time disable application calls connection WsWebSocketContainer connection Leakage threads observed jvisualvm program deal kind situations destroy unused threads
56917	Create configuration write relative responses absolute Create Tomcat configuration force tomcat write relative location headers responses absolute location headers Purpose Today Tomcat writes absolute response redirects RFC standards modern browsers support relative Locations explained https wikipedia org wiki HTTP location friendly Tomcat application server configuration write friendly form ripple applications choose setting good cpu cycles web servers load balancers greatly reduce ProxyPassReverse Apache web server URL rewriting happenin physical load balancers gentleman compelled recompile Tomcat achieve http community jaspersoft wiki load balancer tomcat error
56953	improvement DataInputStream Created attachment details patch method readUnsignedShort DataInputStream read stream unsigned BufferedInputStream invoked readUnsignedShort IOException read read EOFException extra cost boundary processing appears readInt readChar obvious large projects replace DataInputStream FastDataInputStream bypass processes FastDataInputStream bytes buffer method FastDataInputStream readUnsignedShort IOException pos cnt fill pos cnt EOFException buf pos xff buf pos xff Benefit bellow test attachment lots jar files DataInputStream FastDataInputStream jar files DataInputStream FastDataInputStream notice optimized method called original method test real result obvious
56982	Websocket session getNegotiatedExtensions empty list permessage deflate enabled permessage deflate enabled WsSession getNegotiatedExtensions empty list ServerEndpointConfig Configurator ServerEndpointConfig list permessage deflate extension WsSession java current code List Extension getNegotiatedExtensions checkState Collections emptyList
57265	Tomcat hiden NGINX fails send file NIO connector moved Tomcat server nginx balancing server started experiencing problem org apache tomcat util net NioEndpoint NioBufferHandler Nov SEVERE http nio ClientPoller org apache tomcat util net NioEndpoint Poller processSendfile java lang IllegalArgumentException read application read buffer handler org apache tomcat util net SecureNioChannel write SecureNioChannel java sun nio FileChannelImpl transferToArbitraryChannel FileChannelImpl java sun nio FileChannelImpl transferTo FileChannelImpl java org apache tomcat util net NioEndpoint Poller processSendfile NioEndpoint java org apache tomcat util net NioEndpoint Poller processKey NioEndpoint java org apache tomcat util net NioEndpoint Poller NioEndpoint java java lang Thread Thread java Problem occurres irregularly loading lots scripts refencenced homepage useSendfile add slow logging flushing output code lowers occurrence rate race condition problem
57446	Catalina presents wrapped ServletContext init phase application listeners JSF Applications Mojarra fail shutdown properly Catalina presents wrapped ServletContext NoPluggabilityServletContext init phase webapp cmd issued jmx problem wrapped ServletContext NoPluggabilityServletContext equal equals methods delegated init phase start filed bug mojarra JIRA https java net jira browse JAVASERVERFACES accepted argue container issue workaround context comparing webapps mojarra implementation List CopyOnWriteArrayList match ServletContext initialized delegation equals method NoPluggabilityServletContext sideeffects container didn lookout detailed approach light specification doues ServletContext instance presented proxies application lifecycle
57490	Websocket client connect Tomcat servlet SecurityManager place Created attachment details Repeat JSP file Tomcat websocket client connect websocket server servlet running SecurityManager AccessControlException thrown Java security policy issue bug work websocket client access org apache tomcat packages restricted Catalina servlet container Repeat unmodified Tomcat JDK Win Add CATALINA BASE conf catalina policy grant permission java security AllPermission attached JSP file repeat jsp CATALINA BASE webapps examples jsp repeat opens websocket client echo websocket server sends text message waits outputs echoed response Launch Tomcat CATALINA BASE bin catalina security Open http examples jsp repeat jsp web browser Expected Output Response echo browser Actual exception printed console output browser timeout Exception thread anInnocuousThread java security AccessControlException access denied java lang RuntimePermission accessClassInPackage org apache tomcat websocket java security AccessControlContext checkPermission AccessControlContext java java security AccessController checkPermission AccessController java java lang SecurityManager checkPermission SecurityManager java java lang SecurityManager checkPackageAccess SecurityManager java sun misc Launcher AppClassLoader loadClass Launcher java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClass ClassLoader java org apache tomcat websocket AsyncChannelGroupUtil AsyncIOThreadFactory newThread AsyncChannelGroupUtil java java util concurrent ThreadPoolExecutor Worker init ThreadPoolExecutor java java util concurrent ThreadPoolExecutor addWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor execute ThreadPoolExecutor java org apache tomcat util threads ThreadPoolExecutor execute ThreadPoolExecutor java org apache tomcat util threads ThreadPoolExecutor execute ThreadPoolExecutor java sun nio AsynchronousChannelGroupImpl executeOnPooledThread AsynchronousChannelGroupImpl java sun nio Invoker invokeIndirectly Invoker java sun nio Invoker invoke Invoker java sun nio Invoker invoke Invoker java sun nio WindowsAsynchronousSocketChannelImpl WriteTask completed WindowsAsynchronousSocketChannelImpl java sun nio Iocp EventHandlerTask Iocp java java lang Thread Thread java sun misc InnocuousThread InnocuousThread java Exception thread anInnocuousThread java security AccessControlException access denied java lang RuntimePermission accessClassInPackage org apache tomcat websocket java security AccessControlContext checkPermission AccessControlContext java java security AccessController checkPermission AccessController java java lang SecurityManager checkPermission SecurityManager java java lang SecurityManager checkPackageAccess SecurityManager java sun misc Launcher AppClassLoader loadClass Launcher java java lang ClassLoader loadClass ClassLoader java java lang ClassLoader loadClass ClassLoader java org apache tomcat websocket AsyncChannelGroupUtil AsyncIOThreadFactory newThread AsyncChannelGroupUtil java java util concurrent ThreadPoolExecutor Worker init ThreadPoolExecutor java java util concurrent ThreadPoolExecutor addWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor execute ThreadPoolExecutor java org apache tomcat util threads ThreadPoolExecutor execute ThreadPoolExecutor java org apache tomcat util threads ThreadPoolExecutor execute ThreadPoolExecutor java sun nio AsynchronousChannelGroupImpl executeOnPooledThread AsynchronousChannelGroupImpl java sun nio Invoker invokeIndirectly Invoker java sun nio Invoker invoke Invoker java sun nio Invoker invoke Invoker java sun nio WindowsAsynchronousSocketChannelImpl ReadTask completed WindowsAsynchronousSocketChannelImpl java sun nio Iocp EventHandlerTask Iocp java java lang Thread Thread java sun misc InnocuousThread InnocuousThread java repeat artificial reality websocket client servlet rendering exception occurs bug overcome limitations InnocuousThread serves completion handler wrapping implementation AsyncChannelGroupUtil AsyncIOThreadFactory newThread privileged block protection domain InnocuousThread method allowed load anonymous PrivilegedAction anonymous called org apache tomcat websocket AsyncChannelGroupUtil AsyncIOThreadFactory triggers check accessClassInPackage org apache tomcat websocket runtime permission permission granted code catalina policy InnocuousThread permissions policy dirty workaround uncomment top JSP code forName org apache tomcat websocket AsyncChannelGroupUtil AsyncIOThreadFactory anonymous loaded application loader time permissions InnocuousThread repeat work exception commenting Tomcat isn restarted Running Tomcat security repeat work exception open OpenJDK issue InnocuousThread completion handler https bugs openjdk java net browse JDK good fixed Tomcat JDK fixed anonymous PrivilegedAction AsyncChannelGroupUtil AsyncIOThreadFactory newThread force loaded AsyncChannelGroupUtil AsyncIOThreadFactory initialized accessing initializer AsyncChannelGroupUtil java AsyncChannelGroupUtil java thread inherits current ProtectionDomain essential Java Applet https issues apache org bugzilla bug cgi AccessController doPrivileged PrivilegedAction Thread Override Thread Thread Thread setName WebSocketClient AsyncIO count incrementAndGet setContextClassLoader getClass getClassLoader setDaemon AccessController doPrivileged NewThreadPrivilegedAction anonymous loading hack NewThreadPrivilegedAction PrivilegedAction Thread Runnable NewThreadPrivilegedAction Runnable Override Thread Thread Thread setName WebSocketClient AsyncIO count incrementAndGet setContextClassLoader getClass getClassLoader setDaemon Load privileged action initialization newThread allowed load called InnocuousThread https issues apache org bugzilla bug cgi XXXXX SuppressWarnings unused newThreadPrivilegedActionClass NewThreadPrivilegedAction applied patch Tomcat repeat worked exception cleaner good applied bug repeatable
57509	maxHttpHeaderSize ArrayIndexOutOfBoundsException Modify server xml add maxHttpHeaderSize attribute Connector port protocol HTTP connectionTimeout redirectPort maxHttpHeaderSize deliberately modify maxHttpHeaderSize small normal request request header bytes server report error Jan SEVERE http nio exec org apache coyote http AbstractHttp Processor endRequest Error finishing response java lang ArrayIndexOutOfBoundsException org apache coyote http AbstractOutputBuffer sendStatus AbstractOutputBuffer java org apache coyote http AbstractHttp Processor prepareResponse AbstractHttp Processor java org apache coyote http AbstractHttp Processor action AbstractHttp Processor java org apache coyote Response action Response java check maxHttpHeaderSize Normal circumstances response request entity large reasonable
57544	Server CPU maxed core randomly hours uniwar exec daemon prio prio tid nid runnable java lang Thread RUNNABLE org apache coyote http AbstractInputBuffer nextRequest AbstractInputBuffer java org apache coyote http AbstractNioInputBuffer nextRequest AbstractNioInputBuffer java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache coyote http Http NioProtocol Http ConnectionHandler process Http NioProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java locked org apache tomcat util net NioChannel java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java
57943	NioEndpoint poller thread died restart tomcat tomcat process request soonï¼Œi find error log Exception thread http nio ClientPoller java util ConcurrentModificationException java util HashMap HashIterator nextEntry HashMap java java util HashMap KeyIterator HashMap java java util Collections UnmodifiableCollection Collections java org apache tomcat util net NioEndpoint Poller timeout NioEndpoint java org apache tomcat util net NioEndpoint Poller NioEndpoint java java lang Thread Thread java tomcat poller thread exception thread died connection accept poller thread process
57977	original loader isn bound thread PersistentValve invoke Created attachment details patch trunk PersistentValve invoke Request Response method Webapp loader bound current thread original loader bind isn restored thread original loader bound thread
58119	Compiled tags correct directory notice tags compiled org apache jsp tag directory prefix web org apache jsp tag web directory prefix regression introduced revision http svn apache org viewvc tomcat trunk java org apache jasper compiler JspUtil java pathrev extra dot string bug introduced Jetty applied
58166	Tomcat support application specific close codes org apache tomcat websocket Util getCloseCode converts codes behaviour standard differs behaviour javax websocket CloseReason CloseCodes returns correct close codes CloseReason CloseCode Override getCode code
58178	Exception passed custom jsp tag Created attachment details Project demonstrating problem custom tag jstl tag exception saved attributes tags expressions tag jsp exception propagated visible subsequent expressions attaching small project taglib demonstrates problem project jsps tagtest jsp jstl tags jsp tagtest jsp references custom tag jstl tags problem custom tag tags context instance JspContextWrapper resolving expressions JspContextWrapper getElContext returns ELContext rootContext context tag saves exception attribute named error context attributes context instance JspContextWrapper error variable referenced expression mechanism context root context JspContextWrapper resolve variable
58232	PojoMethodMapping needed Programatically adding ServerEndpointConfig register WebsocketEndpoint programatically annotations JSR ServerContainer ServletContext ServerContainer methods add endpoint takes takes ServerEndpointConfig add UserProperties ServerEndpointConfig method takes exception Aug org apache coyote AbstractProtocol AbstractConnectionHandler process SEVERE Error reading request java lang NullPointerException org apache tomcat websocket pojo PojoEndpointBase doOnOpen PojoEndpointBase java org apache tomcat websocket pojo PojoEndpointServer onOpen PojoEndpointServer java org apache tomcat websocket server WsHttpUpgradeHandler init WsHttpUpgradeHandler java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java source Tomcat method adds userProperty ServerEndpointConfig instance PojoMethodMapping calling method takes ServerEndpointConfig PojoMethodMapping missing PojoMethodMapping defined JSR Tomcat instantiate instantiation PojoMethodMapping Tomcat method ServerEndpointConfig parameter calls patched tomcat locally work adjustment propose adjustment integrated trunk upload GitHub add comment link Basti
58296	memory leak JspRuntimeContext Limitation maxLoadedJsps usage tag files result memory leak JspRuntimeContext Steps reproduce leak Set Tomcat web xml production mode limit max jsp count init param param maxLoadedJsps param param param init param init param param development param param param init param deploy attach WAR file tomcat test war WAR HttpServlet jsps tag file Requests http localhost tomcat test test render jsps sequence jsp jsp jsp JSPs jsp jsp tag test tag jsp html Requests http localhost tomcat test test heap dump open dump Eclipse MAT execute OOQL Query select org apache jasper util FastRemovalDequeue Entry valid Path Roots click result invalid entries retained heap tag JspServletWrapper retained heap JspRuntimeContext retained heap JspRuntimeContext grows unloaded Jsp Entry jspQueue bug reproducible Tomcat Supposed FastRemovalDequeue removed Entry instances flagged invalid previous field removed elements isn set removed elements reference previous element jspQueue JspRuntimeContext JspServletWrappers loaded jsps tag files stored ConcurrentHashMap jsps JspRuntimeContext JspServletWrappers Tag files hold indirectly JspCompilationContext JasperTagInfo ImplicitTagLibraryInfo ParserController references JspServletWrapper instances removed unloadHandles FastRemovalDequeue Entry instances valid leads combination reproducible memory leak chain previous linked entries JspServletWrappers unloaded loaded jsps combination maxLoadedJsps chain grow OutOfMemoryError occurs
58342	org apache tomcat websocket WsSession repeated conditional tests Created attachment details Patch file method WsSession removeMessageHandler statements repeated conditional tests investigate older versions Tomcat trunk attaching patch tests passed
58357	Read failed APR error code Created attachment details Solr webapp log Tomcat exception reading SSL TLS APR connector attached detailed log Sep SEVERE http apr exec org apache solr common SolrException log org apache solr common SolrException Read failed APR error code org apache solr handler loader XMLLoader load XMLLoader java Caused ctc wstx exc WstxIOException Read failed APR error code ctc wstx StreamScanner throwFromIOE StreamScanner java ctc wstx BasicStreamReader BasicStreamReader java org apache solr handler loader XMLLoader readDoc XMLLoader java Caused java IOException Read failed APR error code org apache coyote http InternalAprInputBuffer fill InternalAprInputBuffer java org apache coyote http InternalAprInputBuffer SocketInputBuffer doRead InternalAprInputBuffer java org apache coyote http filters ChunkedInputFilter readBytes ChunkedInputFilter java serverside exception exception SolrJ client Additional logs server xml forthcoming
58489	QueryStatsComparator IllegalArgumentException Comparison method violates general contract Created attachment details JUnit test exception Overview QueryStatsComparator java lang IllegalArgumentException Comparison method violates general contract specific situations depending data reported queries environment occurs time server running maxCapacity items reached removeOldest method called managed narrow test data records items created JUnit test showcase error needed copy parts SlowQueryReport simplifications QueryStatsComparator reachable Steps Reproduce attached JUnit source code reproduce error Additional Builds Platforms bug happen platforms Tomcat tomcat dbcp JDK Additional problem lines QueryStatsComparator Note single change data unit test Exception occur Stacktrace java lang IllegalArgumentException Comparison method violates general contract java util TimSort mergeLo TimSort java java util TimSort mergeAt TimSort java java util TimSort mergeCollapse TimSort java java util TimSort sort TimSort java java util Arrays sort Arrays java java util ArrayList sort ArrayList java java util Collections sort Collections java org apache tomcat jdbc pool interceptor SlowQueryReport removeOldest SlowQueryReport java org apache tomcat jdbc pool interceptor SlowQueryReport getQueryStats SlowQueryReport java org apache tomcat jdbc pool interceptor SlowQueryReport reportQuery SlowQueryReport java org apache tomcat jdbc pool interceptor AbstractQueryReport StatementProxy invoke AbstractQueryReport java
58508	role tomcat users xml invalid character Bonjour tomcat server send exception invalid characters role ubx question find specifications valid characters role solution Ldap connection groups format yyy zzz lot Frederic Bordeaux soleil froid
58535	ReverseComparator unsafely negates result Created attachment details Patch avoid negation risk code Override compare Session Session returnValue comparator compare returnValue code negates compare method questionable bad programming practice Integer MIN negating won negate sign result achieve intended result reversing order operands negating http findbugs sourceforge net bugDescriptions html NEGATING RESULT COMPARETO Recommend Override compare Session Session Note comparing reverse result comparator compare
58541	CGIServlet WebdavServlet code improvements Created attachment details Code improvements Servlet classes Noticed opportunities String indexOf faster String indexOf string Integer parseInt efficient Integer intValue Integer valueOf efficient Integer Integer toString efficient Integer valueOf toString
58545	WsHandshakeRequest inefficient keySet Created attachment details Replaces inefficient keySet efficient entrySet WsHandshakeRequest String pathName pathParams keySet newParameters pathName Collections unmodifiableList Arrays asList pathParams pathName Entry String String entry pathParams entrySet String pathName entry getKey newParameters pathName Collections unmodifiableList Arrays asList entry getValue avoid extra lookup http findbugs sourceforge net bugDescriptions html WMI WRONG MAP ITERATOR
58547	Avoid Integer instances conversions Created attachment details Replaced Integer valueOf calls Discovered cases inefficient Number constructor called valueOf Integer guaranteed result object Integer valueOf caching values compiler library JVM cached values avoids object allocation code faster http findbugs sourceforge net bugDescriptions html NUMBER CTOR
58582	org apache catalina realm CombinedRealm implement backgroundProcess org apache catalina realm CombinedRealm implement backgroundProcess calling method Realms manages Override backgroundProcess Realm realms backgroundProcess Tomcat realms forEach backgroundProcess backgroundProcess Realm wrapped CombinedRealm LockOutRealm CombinedRealm called Aidan
58603	RemoteIpFilter adjust getRequestURL Created attachment details Details reproduce bug putting HTTP server forwarder nginx Amazon CloudFront special HTTP headers Forwarded Proto Forwarded server reconstruct URL client making request construct meaningful Location HTTP response header purpose RemoteIpFilter servlets impression operating original pre forwarded request changing code existing servlets construct meaningful URL client wrapped request RemoteIpFilter produces correctly implement getRequestURL fact simply forwards call wrapped request meaningful HTTP schema breaks Jetty relies getRequestURL construct correct Location header attachment details reproduce bug technical solution RemoteIpFilter XForwardedRequest implement getRequestURL haven implementation point http grepcode file repo maven org maven org apache tomcat tomcat catalina org apache catalina filters RemoteIpFilter java http grepcode file repo maven org maven org apache tomcat tomcat servlet api javax servlet http HttpServletRequestWrapper java http grepcode file repo maven org maven org glassfish jersey containers jersey container servlet core org glassfish jersey servlet ServletContainer java
58660	redirect behaviour accessing path Tomcat behaviour requests paths trailing slash limited context roots examples examples servlets calling examples responds redirecting examples responds people careful URL change behaviour problems correct respond examples html accessing examples relative paths website missing verified clicking links examples response HTML Clicking browser fetch servlets examples servlets Accessing examples servlets examples servlets reproduce Download Tomcat wget http archive apache org dist tomcat tomcat bin apache tomcat zip wget http apache mirrors spacedump net tomcat tomcat bin apache tomcat zip Unzip archives Access examples Tomcat curl vso dev http localhost examples INIT CONNECT handle connection connection cache members CONNECT WAITCONNECT handle connection Connected localhost port WAITCONNECT SENDPROTOCONNECT handle connection SENDPROTOCONNECT handle connection examples HTTP Host localhost User Agent curl Accept handle connection WAITPERFORM handle connection WAITPERFORM PERFORM handle connection HTTP persistent connection pipelining supported HTTP Server Apache Coyote blacklisted Server Apache Coyote Location http localhost examples Transfer Encoding chunked Fri Nov GMT bytes data PERFORM handle connection Curl Connection host localhost left intact Expire cleared Access examples Tomcat INIT CONNECT handle connection connection cache members CONNECT WAITCONNECT handle connection Connected localhost port WAITCONNECT SENDPROTOCONNECT handle connection SENDPROTOCONNECT handle connection examples HTTP Host localhost User Agent curl Accept handle connection WAITPERFORM handle connection WAITPERFORM PERFORM handle connection HTTP persistent connection pipelining supported HTTP Server Apache Coyote blacklisted Server Apache Coyote Accept Ranges bytes ETag Modified Fri Nov GMT Content Type text html Content Length Fri Nov GMT bytes data PERFORM handle connection Curl Connection host localhost left intact Cheers Lewau
58701	JSP Reloading Initialization Problem Created attachment details logs tomcat reloading bug company custom inhouse tomcat library hotloading generated source tomcat runtime custom classloader requires tomcat JSP engine perform reload recognize newly generated classes performing code facilitate Context context getContext Wrapper jspWrapper Wrapper context findChild jsp jsps started jspWrapper jspWrapper unload jspWrapper load code works fine Tomcat migrating custom classloader Tomcat subsequent JSP load fails attached stacktrace investigated stack trace conclusion StandardWrapper java instance set field instanceInitialized set call load recreate JspServlet initialized correctly causing error attached stacktrace debugger JspServlet initialized properly bug simply add instanceInitialized StandardWrapper java work bug code hack Context context getContext Wrapper jspWrapper Wrapper context findChild jsp jsps started jspWrapper jspWrapper unload tomcat catalina custom hack required bug StandardWrapper catalina sourcecode custom field source reset calling unload underlying JspServlet instance initialized properly calling load bug tomcat AccessController doPrivileged PrivilegedAction Field field StandardWrapper jspWrapper getClass getDeclaredField instanceInitialized field setAccessible field setBoolean jspWrapper NoSuchFieldException SecurityException IllegalArgumentException IllegalAccessException RuntimeException jspWrapper load ideal
58768	Add Logging Response sendRedirect behavior introduced https apache org bugzilla bug cgi strange mysterious errors passing invalid sendRedirect response sendRedirect SomePage html Word generate error indicating sendRedirect call real error parameter URI encoded Additionally manner called diagnostic generated developer left scratching head wrong helpful IllegalArgumentException caught Response logged
58836	Query string parameters values dest servlet request getRequestDispatcher URL query string parameters technically keyless values received destination servlet request getRequestDispatcher request getRequestDispatcher newpage request response servlet handling newpage request parameter list parameters query string verified request getQueryString order quantity parameters doesn difference values servlet values ApplicationHttpRequest mergeParameters replaced queryParameters containsKey key building debugging Tomcat capabilities point pair test servlets behavior development server action Email safepassing gmail provide address
58946	ApplicationHttpRequest enforce immutability ParameterMap JavaDoc ServletRequest getParameterMap Oracle site Returns immutable java util Map problem immutability enforced org apache catalina core ApplicationHttpRequest implement included forwarded requests Note org apache catalina util ParameterMap usual forwarded requests enforce immutability message Reproducible current Tomcat dev Steps reproduce JSPs ROOT web application test jsp contentType text plain charset UTF java util RequestDispatcher request getRequestDispatcher test jsp request response test jsp contentType text plain charset UTF java util Map map request getParameterMap map foo bar map Call http localhost test jsp Actual response observed foo bar Ljava lang String Expected call test jsp application behaviour expected http localhost test jsp HTTP Status exception occurred processing JSP test jsp root java lang IllegalStateException modifications allowed locked ParameterMap org apache catalina util ParameterMap ParameterMap java org apache jsp test jsp jspService test jsp java noticed issue performing code review inspired thread started users mailing list http docs oracle javaee api javax servlet ServletRequest html getParameterMap http tomcat markmail org thread fghtoxcj
59014	CloseMessage WebSocket connection closed test cases handle Endpoint onClose Session session CloseReason closeReason code isn reachable WsSession CLOSED sendCloseMessage closeReasonMessage code WsRemoteEndpointImplBase startMessageBlock FutureToSendHandler FutureToSendHandler wsSession startMessage opCode payload timeout timeout TimeUnit MILLISECONDS wsSession registerFuture isOpen futures CLOSED OPEN SENDING CLOSED result onClose test fail find info bug https apache org bugzilla bug cgi attachment Spring Integration JIRA https jira spring browse advance
59015	Endless loop APR poller connector shutdown running test suite endless loop APR poller occured test org apache catalina core TestStandardWrapper situation race condition specific test Code HEAD APR based OpenSSL APR Platform Sun Solaris Sparc machine pretty busy problem occured Error message occuring loop starts message junit Feb SEVERE http apr auto Poller org apache tomcat util net AprEndpoint Poller Poller failed error Bad file number Relevant stacks main hang junit main prio tid nid runnable xfdf junit java lang Thread RUNNABLE junit org apache tomcat jni Pool destroy Method junit org apache tomcat util net AprEndpoint Sendfile destroy AprEndpoint java junit org apache tomcat util net AprEndpoint stopInternal AprEndpoint java junit org apache tomcat util net AbstractEndpoint AbstractEndpoint java junit org apache coyote AbstractProtocol AbstractProtocol java junit org apache catalina connector Connector stopInternal Connector java junit org apache catalina util LifecycleBase LifecycleBase java junit locked org apache catalina connector Connector junit org apache catalina core StandardService stopInternal StandardService java junit locked java lang Object junit org apache catalina util LifecycleBase LifecycleBase java junit locked org apache catalina core StandardService junit org apache catalina core StandardServer stopInternal StandardServer java junit org apache catalina util LifecycleBase LifecycleBase java junit locked org apache catalina core StandardServer junit org apache catalina startup Tomcat Tomcat java junit org apache catalina startup TomcatBaseTest tearDown TomcatBaseTest java Poller loop junit http apr auto Poller daemon prio tid fbc nid runnable aff junit java lang Thread RUNNABLE junit org apache tomcat jni Poll create Method junit org apache tomcat util net AprEndpoint allocatePoller AprEndpoint java junit org apache tomcat util net AprEndpoint Poller AprEndpoint java junit java lang Thread Thread java junit Rainer
59043	SingleSignOn valve warns missing session invoking HttpServletRequest logout HttpServletRequest logout invoked current session changed sessions SingleSignOnEntry expired current changed annoying warning log FINE http nio exec AuthenticatorBase register Authenticated john doe type FORM FINE http nio exec AuthenticatorBase register Session changed authentication DAB FINE http nio exec SingleSignOn register SSO registering SSO session user john doe authentication type FORM FINE http nio exec SingleSignOn associate SSO associating application session StandardSession DAB SSO session FINE http nio exec AuthenticatorBase register Authenticated type FINE http nio exec AuthenticatorBase register Session changed authentication DAB DCE FINE http nio exec SingleSignOn deregister SSO expiring application session Host localhost Context app SessionID DAB SSO session WARNING http nio exec SingleSignOn expire SSO unable expire session Host localhost Context app SessionID DAB Session
59054	CrawlerSessionManagerValve serializable exception passing sessionAttribute request application user agent matches crawler pattern execution reaches point store sessionAttribute setAttribute getClass getName CrawlerSessionManagerValve implement Serializable exception java lang IllegalArgumentException setAttribute serializable attribute org apache catalina valves CrawlerSessionManagerValve org apache catalina session StandardSession setAttribute StandardSession java org apache catalina session StandardSession setAttribute StandardSession java org apache catalina session StandardSessionFacade setAttribute StandardSessionFacade java org apache catalina valves CrawlerSessionManagerValve invoke CrawlerSessionManagerValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote ajp AjpProcessor process AjpProcessor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net JIoEndpoint SocketProcessor JIoEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java bug modyfing source code implement Serializable
59123	JNDIRealm close NamingEnumeration JNDIRealm close NamingEnumeration methods getUserBySearch getRoles addAttributeValues trunk issue Tomcat suspect problem tomcat versions problem NamingEnumeration close DirContext won closed DirContext close explicitly called leving DirContext opened times consequence DirContext Pool connection pretty exhaust pool connction connections timeout dthe timeout top head explicitely https docs oracle javase tutorial jndi ldap close html invoke Context close Context instance longer Context instance closed dedicated connection connection closed Context instance sharing connection Context unterminated NamingEnumeration instances connection closed close invoked Context NamingEnumeration instances https blogs oracle moazam entry jndi connections closing remember
59138	checkThreadLocalMapForLeaks positives ThreadLocal ThreadLocalMap weakly references references values appears checkThreadLocalMapForLeaks checking reports positives key ThreadLocal subclass anonymous reference loader Integer List SimpleDateFormatter output Mar SEVERE localhost startStop org apache catalina loader WebappClassLoaderBase checkThreadLocalMapForLeaks web application servlettest created ThreadLocal key type servlettest TestServlet servlettest TestServlet type java lang Integer failed remove web application stopped Threads renewed time avoid probable memory leak large web applications positives output tracking noticing real issues difficult party libraries refuse adjust ThreadLocal IMO rightly code causing leaks read bug comment current heuristic positives compromise reached configuration stifling warning key basis acceptable configuration instance message issued single suppressing ThreadLocal warnings based config info warning message
59145	Incorrect warning logging invalidate session SingleSignOn valve Created attachment details Zip file java xml sources created simple Servlet configured SingleSignOn valve combination BASIC authentication servlet invalidates session warning Mar org apache catalina authenticator SingleSignOn expire WARNING SSO unable expire session Host localhost Context webproject SessionID EEE FFE Session problem reproduced Tomcat
59151	IllegalArgumentException org apache catalina connector Response sendRedirect URI blank spaces patch Bug https apache org bugzilla bug cgi introduced bug release relative redirects supported enabled URI blank spaces method URI create java lang IllegalArgumentException message Illegal character query http â€¦ java lang IllegalArgumentException Illegal character query http localhost GestionVentas canalWeb APPID capturaventas INTID Declaracion ventas por correo electronico USERID sisgenerico EMPRESAID CESCE IDIOMID ESP java net URI create URI java org apache catalina connector Response sendRedirect Response java org apache catalina connector Response sendRedirect Response java org apache catalina connector ResponseFacade sendRedirect ResponseFacade java javax servlet http HttpServletResponseWrapper sendRedirect HttpServletResponseWrapper java org springframework security web context SaveContextOnUpdateOrErrorResponseWrapper sendRedirect SaveContextOnUpdateOrErrorResponseWrapper java org springframework web servlet view RedirectView sendRedirect RedirectView java org springframework web servlet view RedirectView renderMergedOutputModel RedirectView java org springframework web servlet view AbstractView render AbstractView java org springframework web servlet DispatcherServlet render DispatcherServlet java org springframework web servlet DispatcherServlet doDispatch DispatcherServlet java org springframework web servlet DispatcherServlet doService DispatcherServlet java org springframework web servlet FrameworkServlet processRequest FrameworkServlet java org springframework web servlet FrameworkServlet doGet FrameworkServlet java javax servlet http HttpServlet service HttpServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache tomcat websocket server WsFilter doFilter WsFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org springframework orm jpa support OpenEntityManagerInViewFilter doFilterInternal OpenEntityManagerInViewFilter java org springframework web filter OncePerRequestFilter doFilter OncePerRequestFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web access intercept FilterSecurityInterceptor invoke FilterSecurityInterceptor java org springframework security web access intercept FilterSecurityInterceptor doFilter FilterSecurityInterceptor java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java indra jee arq cam core seguridad Log jMDCUserFilter doFilter Log jMDCUserFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web access ExceptionTranslationFilter doFilter ExceptionTranslationFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web session SessionManagementFilter doFilter SessionManagementFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web authentication AnonymousAuthenticationFilter doFilter AnonymousAuthenticationFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web servletapi SecurityContextHolderAwareRequestFilter doFilter SecurityContextHolderAwareRequestFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web savedrequest RequestCacheAwareFilter doFilter RequestCacheAwareFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java cesce serviciosva seguridad CheckChangePasswordFilter doFilter CheckChangePasswordFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web authentication AbstractAuthenticationProcessingFilter doFilter AbstractAuthenticationProcessingFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web authentication AbstractAuthenticationProcessingFilter doFilter AbstractAuthenticationProcessingFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org jasig cas client session SingleSignOutFilter doFilter SingleSignOutFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web authentication logout LogoutFilter doFilter LogoutFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web authentication logout LogoutFilter doFilter LogoutFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java cesce serviciosva seguridad DBRoleFilter doFilter DBRoleFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web context SecurityContextPersistenceFilter doFilter SecurityContextPersistenceFilter java org springframework security web FilterChainProxy VirtualFilterChain doFilter FilterChainProxy java org springframework security web FilterChainProxy doFilter FilterChainProxy java org springframework web filter DelegatingFilterProxy invokeDelegate DelegatingFilterProxy java org springframework web filter DelegatingFilterProxy doFilter DelegatingFilterProxy java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org springframework web filter HiddenHttpMethodFilter doFilterInternal HiddenHttpMethodFilter java org springframework web filter OncePerRequestFilter doFilter OncePerRequestFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org springframework web filter CharacterEncodingFilter doFilterInternal CharacterEncodingFilter java org springframework web filter OncePerRequestFilter doFilter OncePerRequestFilter java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AbstractAccessLogValve invoke AbstractAccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter service CoyoteAdapter java org apache coyote http AbstractHttp Processor process AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java Caused java net URISyntaxException Illegal character query http localhost GestionVentas canalWeb APPID capturaventas INTID Declaracion ventas por correo electronico USERID sisgenerico EMPRESAID CESCE IDIOMID ESP java net URI Parser fail URI java java net URI Parser checkChars URI java java net URI Parser parseHierarchical URI java java net URI Parser parse URI java java net URI init URI java java net URI create URI java release higher previous exception Proposed solution replacing tag org apache catalina connector Response java locationUri URI create location toASCIIString String encodedLocation URLEncoder encode location UTF locationUri URI create encodedLocation toASCIIString importing java net URLEncoder
59189	PerMessageDeflate leaves memory allocated unnecessarily websocket load tests noticed resident memory usage tomcat process grow stay sockets closed websocket compression enabled java heap looked fine caused PerMessageDeflate creating Deflater Inflater turn allocates memory isn freed JVM decides finalizers time propose calling finalize Deflater Inflater websocket closed created patch resident memory usage shrinks websockets closed interested
59206	catalina base ConfigFileLoader NPE initializer Tomcat embedded servlet updating Tomcat application longer started ExceptionInInitializerError problem introduced change https apache org bugzilla bug cgi includes https github apache tomcat blob trunk java org apache tomcat util file ConfigFileLoader java file loads system property catalina base set NullPointerException preferable catalina base avoid NPE
59217	Duplication recycling path ServerCookie Created attachment details patch recycling path invoked ServerCookie recycle method duplicate code
59219	AsyncListener onError called exception async processing couple problems relating error handling exception processing Basically Tomcat ensure AsyncListener onError onComplete methods correctly called exception occurs async processing order listener code release resources clean happen sample servlet demonstrating problem AsyncDebugListener location https github msnicklous AsyncDebug Build AsyncDebugListener module mvn install deploy Tomcat service method AsyncListener methods logs output AsyncListener log file follow execution logs Assuming Tomcat installed locally URLs error works correctly http localhost AsyncDebugListener ltest reps Exception service method http localhost AsyncDebugListener ltest err async processing started exception thrown service method AsyncListener onError called onTimeout onComplete called incorrect onError onComplete called Exception processing AsyncContext dispatch target http localhost AsyncDebugListener ltest reps err Precondition Async processing started request dispatched AsyncContext dispatch service method returns container container performs async dispatch exception thrown Tomcat drops connection browser AsyncListener method called incorrect Tomcat flush contents buffer browser call AsyncListener onError onComplete methods
59261	Request getAsyncContext IllegalStateException async started ServletRequest getAsyncContext IllegalStateException invoked asynchronous mode javadoc IllegalStateException request asynchronous mode startAsync startAsync ServletRequest ServletResponse called implementations HttpServletRequestWrapper override method fact result problems appears parts tomcat check getAsyncContext checking isAsycStarted ApplicationDispatcher checks getAsyncContext http docs oracle javaee api javax servlet ServletRequest html getAsyncContext https github spring cloud spring cloud netflix issues
59269	Session swapping PersistentManagerBase setup PersistentManager precisely wanted configure session swapping achieve memory friendly configuration high load surprise missing crucial Swapping works session idle work maxActiveSessions configuration option Method processMaxActiveSwaps org apache catalina session PersistentManagerBase method called processMaxActiveSwaps maxActiveSessions checking swap superfluous sessions method body executes Compare condition getMaxActiveSessions sessions length fact exception thrown sessions created org apache catalina session ManagerBase createSession bug versions bug ages reported https mail archives apache org mod mbox tomcat dev mbox distributopia https mail archives apache org mod mbox tomcat dev mbox distributopia Expected behaviour eliminate misunderstandings behaviour expected documentation source code common sence tells configuration option maxActiveSessions simply limits number sessions stored memory avoid OutOfMemExeption session timeout set couple hours needed memory don users space TooManyActiveSessionsException swap sessions active hour minIdleSwap config option tells session swapped needed BTW work option completely useless remove check org apache catalina session ManagerBase createSession strict couple additional sessions created limit processMaxActiveSwaps method job nicely overflowing sessions swapped clarification wrong bug fixing removing stale working source code documenting feature simply
59317	AsyncContextImpl breaks request URL spaces problem appears performing async requests URLs space URI path application performs XHR POST http localhost api alarms set foo bar error java lang IllegalStateException HttpServletRequest URI Illegal character path http localhost api alarms foo bar org springframework http server ServletServerHttpRequest getURI ServletServerHttpRequest java org springframework web util UriComponentsBuilder fromHttpRequest UriComponentsBuilder java org springframework web util WebUtils isSameOrigin WebUtils java org springframework web cors DefaultCorsProcessor processRequest DefaultCorsProcessor java org springframework web servlet handler AbstractHandlerMapping CorsInterceptor preHandle AbstractHandlerMapping java org springframework web servlet HandlerExecutionChain applyPreHandle HandlerExecutionChain java org springframework web servlet DispatcherServlet doDispatch DispatcherServlet java org springframework web servlet DispatcherServlet doService DispatcherServlet java org springframework web servlet FrameworkServlet processRequest FrameworkServlet java org springframework web servlet FrameworkServlet doPost FrameworkServlet java javax servlet http HttpServlet service HttpServlet java org springframework web servlet FrameworkServlet service FrameworkServlet java javax servlet http HttpServlet service HttpServlet java org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java org apache catalina core ApplicationDispatcher doDispatch ApplicationDispatcher java org apache catalina core ApplicationDispatcher dispatch ApplicationDispatcher java org apache catalina core AsyncContextImpl AsyncContextImpl java org apache catalina core AsyncContextImpl doInternalDispatch AsyncContextImpl java org apache catalina core StandardWrapperValve invoke StandardWrapperValve java org apache catalina core StandardContextValve invoke StandardContextValve java org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java org apache catalina core StandardHostValve invoke StandardHostValve java org apache catalina valves ErrorReportValve invoke ErrorReportValve java org apache catalina valves AbstractAccessLogValve invoke AbstractAccessLogValve java org apache catalina core StandardEngineValve invoke StandardEngineValve java org apache catalina connector CoyoteAdapter asyncDispatch CoyoteAdapter java org apache coyote http AbstractHttp Processor asyncDispatch AbstractHttp Processor java org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apache tomcat util net NioEndpoint SocketProcessor doRun NioEndpoint java org apache tomcat util net NioEndpoint SocketProcessor NioEndpoint java java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurrent ThreadPoolExecutor Worker ThreadPoolExecutor java org apache tomcat util threads TaskThread WrappingRunnable TaskThread java java lang Thread Thread java Caused java net URISyntaxException Illegal character path http localhost api alarms foo bar java net URI Parser fail URI java java net URI Parser checkChars URI java java net URI Parser parseHierarchical URI java java net URI Parser parse URI java java net URI init URI java org springframework http server ServletServerHttpRequest getURI ServletServerHttpRequest java common frames async requests don problem Spring Framework Debugging revealed URI constructor expects escaped URI api alarms foo bar AsyncDispatcher runs passes ServletRequest implementation getRequestURI returns api alarms foo bar async request handling passes implementation returns escaped URI AsyncContextImpl dispatch constructs path HttpServletRequest getServletPath getPathInfo path ApplicationContext getRequestDispatcher ApplicationDispatcher constructor called path request URI expected ApplicationDispatcher wrapRequest creates ApplicationHttpRequest correct request URI ApplicationDispatcher doDispatch calls wrequest setRequestURI passing path URI result servlet handling request receives ApplicationHttpRequest incorrect requestURI field identical servletPath field including RequestFacade request field returns correct escaped getRequestURI reproduced bug Tomcat beta
59849	initSQL executed JDBC connection created load Tomcat SunOS HOST java version java version Java Runtime Environment build Java HotSpot Bit Server build mixed mode application relies initSQL set current schema JDBC connection noticed application heavy load maxActive connections application handed connection initSQL executed ConnectionPool java source code TOMCAT trunk scenario pool creates connection running PooledConnection validate PooledConnection VALIDATE INIT reproduce issue conditions coincide server load pool saturated point connections created incoming requests requests maxActive Threads block idle queue waitcount atomic Active connections released pool unhandled exceptions maxAge suspectTimeout load ConnectionPool release method create hoc connection replace active connection removed ConnectionPool waitcount idle offer create connect call PooledConnection object created borrowConnection createConnection borrowConnection call validate VALIDATE INIT hoc connection returned requesting thread workaround moment validationQuery fails initSQL enable testOnBorrow validationInterval validation interval hoc connection object lastValidation time stamp set currentTimeMillis object creation causing skip onBorrow validation created Needless workaround performance cost entire application validationInterval addition creating uninitialized connections inevitably fail onBorrow validation
59850	StatementCache interceptor close ResultSets enabling StatementCache interceptor closeing proxy statement open ResultSets closed incorrect Javadoc Statement ResultSet object automatically closed Statement object generated closed executed retrieve result sequence multiple http docs oracle javase docs api java sql ResultSet html
59904	memory leak ServerCookie heap dump Objects Shallow Heap Retained Heap org apache tomcat util buf ByteChunk org apache tomcat util buf MessageBytes org apache tomcat util buf CharChunk org apache tomcat util http ServerCookie ServerCookie objects heap memery leak org apache coyote Request objcet ServerCookies ServerCookie array array length test GetMethod getMethod GetMethod http Header Header setName Cookie StringBuilder StringBuilder append setValue toString getMethod addRequestHeader statusCode httpClient executeMethod getMethod debug cookies request ServerCookie arrays cached heap hava maxHeaderCount maxHttpHeaderSize Cookie header maxCookieCount
59908	Tomcat reports empty close reason send operation timed Tomcat tryes send large message thought websoket tested binary messages fit timeout session closed reason reason org apache tomcat websocket FutureToSendHandler TimeUnit method TimeoutException constructed constructor org apache tomcat websocket WsRemoteEndpointImplBase handleSendFailureWithEncode Throwable CloseReason object created calling getMessage returns expected behaviour report close reason report operation timed
59923	validationInterval attribute validationInterval attribute seconds reboots trigger problems events considered connection validated reboots getConnection seconds connection isn validated testOnBorrow invalid connection worse fairQueue result invalid connection continued disable
60008	Tomcat CORS filter allowing origin file resource access WebView CORS filter allowing request returning request Request Headers POST http kodiakptt poc HTTP Accept application json text plain Origin file User Agent Mozilla Linux Android Build KXB AppleWebKit KHTML Gecko Version Chrome Mobile Safari Content Type application json charset app accesses resource tomcat web server app hosted JSCDE mobile API file webview send request Origin file tomcat rejects Forbidden
60041	NPE WebappClassLoaderBase deploy war tomcat delete jar WEB INF lib NullPointerException load reason follow WebappClassLoaderBase method openJARs openJARs started jarFiles length lastJarAccessed System currentTimeMillis jarFiles jarFiles length jarFiles JarFile jarRealFiles IOException log isDebugEnabled log debug Failed open JAR IOException thrown jarFiles file file invoke openJARs beacuse jarFiles WebappClassLoaderBase method openJARs openJARs jarFiles length jarEntry jarFiles getJarEntry jarEntryPath jarEntry entry manifest jarFiles getManifest IOException ioe Ignore beacuse jarFiles file file jarFiles NullPointerException difficult judge wrong attached patch fixes
60043	suspectTimeout work expected removeAbandoned match documentation posted mailinglist http tomcat nabble Question suspectTimeout property pool configuration Bug work removed html configure pool logAbandoned suspectTimeout set report leaked connections leaked connections hanging busy queue bug Docs removeAbandonedTimeout treating connection abandoned closing connection simply logs warning logAbandoned set code suspect method connection called PoolCleaner thread checkAbandoned method calling check pool configuration pool getPoolProperties isRemoveAbandoned pool checkAbandoned don configure removeAbandoned suspect working expected reading documentation property removing leaked connections Imho changed condition extended suspectTimeout suspect called extra method don care
